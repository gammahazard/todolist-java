import{r as R,i as k,T as j,c as Yu,g as ju,h as qu,Z as _b,y as mb}from"./indexhtml.4fd90206.js";import{p as Ii,D as ye,a as bi,b as Si,P as W,m as ji,i as vb,f as gn,e as gb,t as Be,c as km,d as Ye,g as wi,F as Ce,r as Dm,h as Lm,j as Fm,k as Zi,E as re,C as He,T as yb,l as H,n as Ln,o as $m,q as td,s as ke,u as Nm,v as bb,w as zm,x as Pt,y as kt,z as fe,A as Hi,B as wb,G as xb,H as Xu,I as Cb,J as xs,K as Ab,L as Ql,M as Eb,N as Ku,O as Bm,Q as Vm,R as Ib,S as Sb,U as Gm,V as id,W as Hm,X as Um,Y as Wm,Z as Gs,_ as Zu,$ as Tb,a0 as Ob,a1 as Mb,a2 as pr,a3 as Rb,a4 as qa,a5 as Gr,a6 as Hr,a7 as rd,a8 as Ym,a9 as Pb,aa as Xa,ab as Qu,ac as Ka,ad as kb,ae as Et,af as jm,ag as El,ah as Za,ai as Ur,aj as Ti,ak as Qa,al as Ja,am as ts,an as is,ao as Db,ap as Xt,aq as Lb,ar as Ju,as as el,at as Wr,au as Qi,av as Ji,aw as Fb,ax as nd,ay as Lo,az as qm,aA as $b,aB as Nb,aC as Xm,aD as ec,aE as Km,aF as tl,aG as zb,aH as Bb,aI as Vb,aJ as Gb,aK as Hb,aL as Ub,aM as Zm,aN as Wb,aO as Yb,aP as Il}from"./generated-flow-imports.fe173b1b.js";R("vaadin-grid",k`
    :host {
      font-family: var(--lumo-font-family);
      font-size: var(--lumo-font-size-m);
      line-height: var(--lumo-line-height-s);
      color: var(--lumo-body-text-color);
      background-color: var(--lumo-base-color);
      box-sizing: border-box;
      -webkit-text-size-adjust: 100%;
      -webkit-tap-highlight-color: transparent;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;

      /* For internal use only */
      --_lumo-grid-border-color: var(--lumo-contrast-20pct);
      --_lumo-grid-secondary-border-color: var(--lumo-contrast-10pct);
      --_lumo-grid-border-width: 1px;
      --_lumo-grid-selected-row-color: var(--lumo-primary-color-10pct);
    }

    /* No (outer) border */

    :host(:not([theme~='no-border'])) {
      border: var(--_lumo-grid-border-width) solid var(--_lumo-grid-border-color);
    }

    :host([disabled]) {
      opacity: 0.7;
    }

    /* Cell styles */

    [part~='cell'] {
      min-height: var(--lumo-size-m);
      background-color: var(--lumo-base-color);
    }

    [part~='cell'] ::slotted(vaadin-grid-cell-content) {
      cursor: default;
      padding: var(--lumo-space-xs) var(--lumo-space-m);
    }

    /* Apply row borders by default and introduce the "no-row-borders" variant */
    :host(:not([theme~='no-row-borders'])) [part~='cell']:not([part~='details-cell']) {
      border-top: var(--_lumo-grid-border-width) solid var(--_lumo-grid-secondary-border-color);
    }

    /* Hide first body row top border */
    :host(:not([theme~='no-row-borders'])) [part='row'][first] [part~='cell']:not([part~='details-cell']) {
      border-top: 0;
      min-height: calc(var(--lumo-size-m) - var(--_lumo-grid-border-width));
    }

    /* Focus-ring */

    [part~='row'] {
      position: relative;
    }

    [part~='row']:focus,
    [part~='focused-cell']:focus {
      outline: none;
    }

    :host([navigating]) [part~='row']:focus::before,
    :host([navigating]) [part~='focused-cell']:focus::before {
      content: '';
      position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
      pointer-events: none;
      box-shadow: inset 0 0 0 2px var(--lumo-primary-color-50pct);
    }

    :host([navigating]) [part~='row']:focus::before {
      transform: translateX(calc(-1 * var(--_grid-horizontal-scroll-position)));
      z-index: 3;
    }

    /* Drag and Drop styles */
    :host([dragover])::after {
      content: '';
      position: absolute;
      z-index: 100;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
      pointer-events: none;
      box-shadow: inset 0 0 0 2px var(--lumo-primary-color-50pct);
    }

    [part~='row'][dragover] {
      z-index: 100 !important;
    }

    [part~='row'][dragover] [part~='cell'] {
      overflow: visible;
    }

    [part~='row'][dragover] [part~='cell']::after {
      content: '';
      position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
      height: calc(var(--_lumo-grid-border-width) + 2px);
      pointer-events: none;
      background: var(--lumo-primary-color-50pct);
    }

    [part~='row'][dragover] [part~='cell'][last-frozen]::after {
      right: -1px;
    }

    :host([theme~='no-row-borders']) [dragover] [part~='cell']::after {
      height: 2px;
    }

    [part~='row'][dragover='below'] [part~='cell']::after {
      top: 100%;
      bottom: auto;
      margin-top: -1px;
    }

    :host([all-rows-visible]) [part~='row'][last][dragover='below'] [part~='cell']::after {
      height: 1px;
    }

    [part~='row'][dragover='above'] [part~='cell']::after {
      top: auto;
      bottom: 100%;
      margin-bottom: -1px;
    }

    [part~='row'][details-opened][dragover='below'] [part~='cell']:not([part~='details-cell'])::after,
    [part~='row'][details-opened][dragover='above'] [part~='details-cell']::after {
      display: none;
    }

    [part~='row'][dragover][dragover='on-top'] [part~='cell']::after {
      height: 100%;
      opacity: 0.5;
    }

    [part~='row'][dragstart] [part~='cell'] {
      border: none !important;
      box-shadow: none !important;
    }

    [part~='row'][dragstart] [part~='cell'][last-column] {
      border-radius: 0 var(--lumo-border-radius-s) var(--lumo-border-radius-s) 0;
    }

    [part~='row'][dragstart] [part~='cell'][first-column] {
      border-radius: var(--lumo-border-radius-s) 0 0 var(--lumo-border-radius-s);
    }

    #scroller [part~='row'][dragstart]:not([dragstart=''])::after {
      display: block;
      position: absolute;
      left: var(--_grid-drag-start-x);
      top: var(--_grid-drag-start-y);
      z-index: 100;
      content: attr(dragstart);
      align-items: center;
      justify-content: center;
      box-sizing: border-box;
      padding: calc(var(--lumo-space-xs) * 0.8);
      color: var(--lumo-error-contrast-color);
      background-color: var(--lumo-error-color);
      border-radius: var(--lumo-border-radius-m);
      font-family: var(--lumo-font-family);
      font-size: var(--lumo-font-size-xxs);
      line-height: 1;
      font-weight: 500;
      text-transform: initial;
      letter-spacing: initial;
      min-width: calc(var(--lumo-size-s) * 0.7);
      text-align: center;
    }

    /* Headers and footers */

    [part~='header-cell'] ::slotted(vaadin-grid-cell-content),
    [part~='footer-cell'] ::slotted(vaadin-grid-cell-content),
    [part~='reorder-ghost'] {
      font-size: var(--lumo-font-size-s);
      font-weight: 500;
    }

    [part~='footer-cell'] ::slotted(vaadin-grid-cell-content) {
      font-weight: 400;
    }

    [part='row']:only-child [part~='header-cell'] {
      min-height: var(--lumo-size-xl);
    }

    /* Header borders */

    /* Hide first header row top border */
    :host(:not([theme~='no-row-borders'])) [part='row']:first-child [part~='header-cell'] {
      border-top: 0;
    }

    [part='row']:last-child [part~='header-cell'] {
      border-bottom: var(--_lumo-grid-border-width) solid transparent;
    }

    :host(:not([theme~='no-row-borders'])) [part='row']:last-child [part~='header-cell'] {
      border-bottom-color: var(--_lumo-grid-secondary-border-color);
    }

    /* Overflow uses a stronger border color */
    :host([overflow~='top']) [part='row']:last-child [part~='header-cell'] {
      border-bottom-color: var(--_lumo-grid-border-color);
    }

    /* Footer borders */

    [part='row']:first-child [part~='footer-cell'] {
      border-top: var(--_lumo-grid-border-width) solid transparent;
    }

    :host(:not([theme~='no-row-borders'])) [part='row']:first-child [part~='footer-cell'] {
      border-top-color: var(--_lumo-grid-secondary-border-color);
    }

    /* Overflow uses a stronger border color */
    :host([overflow~='bottom']) [part='row']:first-child [part~='footer-cell'] {
      border-top-color: var(--_lumo-grid-border-color);
    }

    /* Column reordering */

    :host([reordering]) [part~='cell'] {
      background: linear-gradient(var(--lumo-shade-20pct), var(--lumo-shade-20pct)) var(--lumo-base-color);
    }

    :host([reordering]) [part~='cell'][reorder-status='allowed'] {
      background: var(--lumo-base-color);
    }

    :host([reordering]) [part~='cell'][reorder-status='dragging'] {
      background: linear-gradient(var(--lumo-contrast-5pct), var(--lumo-contrast-5pct)) var(--lumo-base-color);
    }

    [part~='reorder-ghost'] {
      opacity: 0.85;
      box-shadow: var(--lumo-box-shadow-s);
      /* TODO Use the same styles as for the cell element (reorder-ghost copies styles from the cell element) */
      padding: var(--lumo-space-s) var(--lumo-space-m) !important;
    }

    /* Column resizing */

    [part='resize-handle'] {
      width: 3px;
      background-color: var(--lumo-primary-color-50pct);
      opacity: 0;
      transition: opacity 0.2s;
    }

    :host(:not([reordering])) *:not([column-resizing]) [part~='cell']:hover [part='resize-handle'],
    [part='resize-handle']:active {
      opacity: 1;
      transition-delay: 0.15s;
    }

    /* Column borders */

    :host([theme~='column-borders']) [part~='cell']:not([last-column]):not([part~='details-cell']) {
      border-right: var(--_lumo-grid-border-width) solid var(--_lumo-grid-secondary-border-color);
    }

    /* Frozen columns */

    [last-frozen] {
      border-right: var(--_lumo-grid-border-width) solid transparent;
      overflow: hidden;
    }

    :host([overflow~='start']) [part~='cell'][last-frozen]:not([part~='details-cell']) {
      border-right-color: var(--_lumo-grid-border-color);
    }

    [first-frozen-to-end] {
      border-left: var(--_lumo-grid-border-width) solid transparent;
    }

    :host([overflow~='end']) [part~='cell'][first-frozen-to-end]:not([part~='details-cell']) {
      border-left-color: var(--_lumo-grid-border-color);
    }

    /* Row stripes */

    :host([theme~='row-stripes']) [part~='row']:not([odd]) [part~='body-cell'],
    :host([theme~='row-stripes']) [part~='row']:not([odd]) [part~='details-cell'] {
      background-image: linear-gradient(var(--lumo-contrast-5pct), var(--lumo-contrast-5pct));
      background-repeat: repeat-x;
    }

    /* Selected row */

    /* Raise the selected rows above unselected rows (so that box-shadow can cover unselected rows) */
    :host(:not([reordering])) [part~='row'][selected] {
      z-index: 1;
    }

    :host(:not([reordering])) [part~='row'][selected] [part~='body-cell']:not([part~='details-cell']) {
      background-image: linear-gradient(var(--_lumo-grid-selected-row-color), var(--_lumo-grid-selected-row-color));
      background-repeat: repeat;
    }

    /* Cover the border of an unselected row */
    :host(:not([theme~='no-row-borders'])) [part~='row'][selected] [part~='cell']:not([part~='details-cell']) {
      box-shadow: 0 var(--_lumo-grid-border-width) 0 0 var(--_lumo-grid-selected-row-color);
    }

    /* Compact */

    :host([theme~='compact']) [part='row']:only-child [part~='header-cell'] {
      min-height: var(--lumo-size-m);
    }

    :host([theme~='compact']) [part~='cell'] {
      min-height: var(--lumo-size-s);
    }

    :host([theme~='compact']) [part='row'][first] [part~='cell']:not([part~='details-cell']) {
      min-height: calc(var(--lumo-size-s) - var(--_lumo-grid-border-width));
    }

    :host([theme~='compact']) [part~='cell'] ::slotted(vaadin-grid-cell-content) {
      padding: var(--lumo-space-xs) var(--lumo-space-s);
    }

    /* Wrap cell contents */

    :host([theme~='wrap-cell-content']) [part~='cell'] ::slotted(vaadin-grid-cell-content) {
      white-space: normal;
    }

    /* RTL specific styles */

    :host([dir='rtl']) [part~='row'][dragstart] [part~='cell'][last-column] {
      border-radius: var(--lumo-border-radius-s) 0 0 var(--lumo-border-radius-s);
    }

    :host([dir='rtl']) [part~='row'][dragstart] [part~='cell'][first-column] {
      border-radius: 0 var(--lumo-border-radius-s) var(--lumo-border-radius-s) 0;
    }

    :host([dir='rtl'][theme~='column-borders']) [part~='cell']:not([last-column]):not([part~='details-cell']) {
      border-right: none;
      border-left: var(--_lumo-grid-border-width) solid var(--_lumo-grid-secondary-border-color);
    }

    :host([dir='rtl']) [last-frozen] {
      border-right: none;
      border-left: var(--_lumo-grid-border-width) solid transparent;
    }

    :host([dir='rtl']) [first-frozen-to-end] {
      border-left: none;
      border-right: var(--_lumo-grid-border-width) solid transparent;
    }

    :host([dir='rtl'][overflow~='start']) [part~='cell'][last-frozen]:not([part~='details-cell']) {
      border-left-color: var(--_lumo-grid-border-color);
    }

    :host([dir='rtl'][overflow~='end']) [part~='cell'][first-frozen-to-end]:not([part~='details-cell']) {
      border-right-color: var(--_lumo-grid-border-color);
    }
  `,{moduleId:"lumo-grid"});/**
 * @license
 * Copyright (c) 2016 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const Qm=r=>class extends r{static get properties(){return{resizable:{type:Boolean,value(){if(this.localName==="vaadin-grid-column-group")return;const e=this.parentNode;return e&&e.localName==="vaadin-grid-column-group"&&e.resizable||!1}},frozen:{type:Boolean,value:!1},frozenToEnd:{type:Boolean,value:!1},hidden:{type:Boolean,value:!1},header:{type:String},textAlign:{type:String},_lastFrozen:{type:Boolean,value:!1},_firstFrozenToEnd:{type:Boolean,value:!1},_order:Number,_reorderStatus:Boolean,_emptyCells:Array,_headerCell:Object,_footerCell:Object,_grid:Object,__initialized:{type:Boolean,value:!0},headerRenderer:Function,_headerRenderer:{type:Function,computed:"_computeHeaderRenderer(headerRenderer, header, __initialized)"},footerRenderer:Function,_footerRenderer:{type:Function,computed:"_computeFooterRenderer(footerRenderer, __initialized)"},__gridColumnElement:{type:Boolean,value:!0}}}static get observers(){return["_widthChanged(width, _headerCell, _footerCell, _cells.*)","_frozenChanged(frozen, _headerCell, _footerCell, _cells.*)","_frozenToEndChanged(frozenToEnd, _headerCell, _footerCell, _cells.*)","_flexGrowChanged(flexGrow, _headerCell, _footerCell, _cells.*)","_textAlignChanged(textAlign, _cells.*, _headerCell, _footerCell)","_orderChanged(_order, _headerCell, _footerCell, _cells.*)","_lastFrozenChanged(_lastFrozen)","_firstFrozenToEndChanged(_firstFrozenToEnd)","_onRendererOrBindingChanged(_renderer, _cells, _cells.*, path)","_onHeaderRendererOrBindingChanged(_headerRenderer, _headerCell, path, header)","_onFooterRendererOrBindingChanged(_footerRenderer, _footerCell)","_resizableChanged(resizable, _headerCell)","_reorderStatusChanged(_reorderStatus, _headerCell, _footerCell, _cells.*)","_hiddenChanged(hidden, _headerCell, _footerCell, _cells.*)"]}connectedCallback(){super.connectedCallback(),requestAnimationFrame(()=>{!this._grid||this._allCells.forEach(e=>{e._content.parentNode||this._grid.appendChild(e._content)})})}disconnectedCallback(){super.disconnectedCallback(),requestAnimationFrame(()=>{this._grid||this._allCells.forEach(e=>{e._content.parentNode&&e._content.parentNode.removeChild(e._content)})}),this._gridValue=void 0}ready(){super.ready(),Ii(this)}_findHostGrid(){let e=this;for(;e&&!/^vaadin.*grid(-pro)?$/.test(e.localName);)e=e.assignedSlot?e.assignedSlot.parentNode:e.parentNode;return e||void 0}get _grid(){return this._gridValue||(this._gridValue=this._findHostGrid()),this._gridValue}get _allCells(){return[].concat(this._cells||[]).concat(this._emptyCells||[]).concat(this._headerCell).concat(this._footerCell).filter(e=>e)}_renderHeaderAndFooter(){this._renderHeaderCellContent(this._headerRenderer,this._headerCell),this._renderFooterCellContent(this._footerRenderer,this._footerCell)}_flexGrowChanged(e){this.parentElement&&this.parentElement._columnPropChanged&&this.parentElement._columnPropChanged("flexGrow"),this._allCells.forEach(i=>{i.style.flexGrow=e})}_orderChanged(e){this._allCells.forEach(i=>{i.style.order=e})}_widthChanged(e){this.parentElement&&this.parentElement._columnPropChanged&&this.parentElement._columnPropChanged("width"),this._allCells.forEach(i=>{i.style.width=e})}_frozenChanged(e){this.parentElement&&this.parentElement._columnPropChanged&&this.parentElement._columnPropChanged("frozen",e),this._allCells.forEach(i=>i.toggleAttribute("frozen",e)),this._grid&&this._grid._frozenCellsChanged&&this._grid._frozenCellsChanged()}_frozenToEndChanged(e){this.parentElement&&this.parentElement._columnPropChanged&&this.parentElement._columnPropChanged("frozenToEnd",e),this._allCells.forEach(i=>{this._grid&&i.parentElement===this._grid.$.sizer||i.toggleAttribute("frozen-to-end",e)}),this._grid&&this._grid._frozenCellsChanged&&this._grid._frozenCellsChanged()}_lastFrozenChanged(e){this._allCells.forEach(i=>i.toggleAttribute("last-frozen",e)),this.parentElement&&this.parentElement._columnPropChanged&&(this.parentElement._lastFrozen=e)}_firstFrozenToEndChanged(e){this._allCells.forEach(i=>{this._grid&&i.parentElement===this._grid.$.sizer||i.toggleAttribute("first-frozen-to-end",e)}),this.parentElement&&this.parentElement._columnPropChanged&&(this.parentElement._firstFrozenToEnd=e)}_generateHeader(e){return e.substr(e.lastIndexOf(".")+1).replace(/([A-Z])/g,"-$1").toLowerCase().replace(/-/g," ").replace(/^./,i=>i.toUpperCase())}_reorderStatusChanged(e){this._allCells.forEach(i=>i.setAttribute("reorder-status",e))}_resizableChanged(e,i){e===void 0||i===void 0||i&&[i].concat(this._emptyCells).forEach(n=>{if(n){const s=n.querySelector('[part~="resize-handle"]');if(s&&n.removeChild(s),e){const o=document.createElement("div");o.setAttribute("part","resize-handle"),n.appendChild(o)}}})}_textAlignChanged(e){if(e===void 0)return;if(["start","end","center"].indexOf(e)===-1){console.warn('textAlign can only be set as "start", "end" or "center"');return}let i;getComputedStyle(this._grid).direction==="ltr"?e==="start"?i="left":e==="end"&&(i="right"):e==="start"?i="right":e==="end"&&(i="left"),this._allCells.forEach(n=>{n._content.style.textAlign=e,getComputedStyle(n._content).textAlign!==e&&(n._content.style.textAlign=i)})}_hiddenChanged(e){this.parentElement&&this.parentElement._columnPropChanged&&this.parentElement._columnPropChanged("hidden",e),!!e!=!!this._previousHidden&&this._grid&&(e===!0&&this._allCells.forEach(i=>{i._content.parentNode&&i._content.parentNode.removeChild(i._content)}),this._grid._debouncerHiddenChanged=ye.debounce(this._grid._debouncerHiddenChanged,bi,()=>{this._grid&&this._grid._renderColumnTree&&this._grid._renderColumnTree(this._grid._columnTree)}),this._grid._debounceUpdateFrozenColumn&&this._grid._debounceUpdateFrozenColumn(),this._grid._resetKeyboardNavigation&&this._grid._resetKeyboardNavigation()),this._previousHidden=e}_runRenderer(e,i,n){const s=[i._content,this];n&&n.item&&s.push(n),e.apply(this,s)}__renderCellsContent(e,i){this.hidden||!this._grid||i.forEach(n=>{if(!n.parentElement)return;const s=this._grid.__getRowModel(n.parentElement);!e||(n._renderer!==e&&this._clearCellContent(n),n._renderer=e,(s.item||e===this._headerRenderer||e===this._footerRenderer)&&this._runRenderer(e,n,s))})}_clearCellContent(e){e._content.innerHTML="",delete e._content._$litPart$}_renderHeaderCellContent(e,i){!i||!e||(this.__renderCellsContent(e,[i]),this._grid&&i.parentElement&&this._grid.__debounceUpdateHeaderFooterRowVisibility(i.parentElement))}_onHeaderRendererOrBindingChanged(e,i,...n){this._renderHeaderCellContent(e,i)}_renderBodyCellsContent(e,i){!i||!e||this.__renderCellsContent(e,i)}_onRendererOrBindingChanged(e,i,...n){this._renderBodyCellsContent(e,i)}_renderFooterCellContent(e,i){!i||!e||(this.__renderCellsContent(e,[i]),this._grid&&i.parentElement&&this._grid.__debounceUpdateHeaderFooterRowVisibility(i.parentElement))}_onFooterRendererOrBindingChanged(e,i){this._renderFooterCellContent(e,i)}__setTextContent(e,i){e.textContent!==i&&(e.textContent=i)}__textHeaderRenderer(){this.__setTextContent(this._headerCell._content,this.header)}_defaultHeaderRenderer(){!this.path||this.__setTextContent(this._headerCell._content,this._generateHeader(this.path))}_defaultRenderer(e,i,{item:n}){!this.path||this.__setTextContent(e,this.get(this.path,n))}_defaultFooterRenderer(){}_computeHeaderRenderer(e,i){return e||(i!=null?this.__textHeaderRenderer:this._defaultHeaderRenderer)}_computeRenderer(e){return e||this._defaultRenderer}_computeFooterRenderer(e){return e||this._defaultFooterRenderer}};class Jl extends Qm(Si(W)){static get is(){return"vaadin-grid-column"}static get properties(){return{width:{type:String,value:"100px"},flexGrow:{type:Number,value:1},renderer:Function,_renderer:{type:Function,computed:"_computeRenderer(renderer, __initialized)"},path:{type:String},autoWidth:{type:Boolean,value:!1},_focusButtonMode:{type:Boolean,value:!1},_cells:Array}}}customElements.define(Jl.is,Jl);/**
 * @license
 * Copyright (c) 2016 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */R("vaadin-grid",k`
    @keyframes vaadin-grid-appear {
      to {
        opacity: 1;
      }
    }

    :host {
      display: block;
      animation: 1ms vaadin-grid-appear;
      height: 400px;
      flex: 1 1 auto;
      align-self: stretch;
      position: relative;
    }

    :host([hidden]) {
      display: none !important;
    }

    :host([disabled]) {
      pointer-events: none;
    }

    #scroller {
      display: block;
      transform: translateY(0);
      width: auto;
      height: auto;
      position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
    }

    :host([all-rows-visible]) {
      height: auto;
      align-self: flex-start;
      flex-grow: 0;
      width: 100%;
    }

    :host([all-rows-visible]) #scroller {
      width: 100%;
      height: 100%;
      position: relative;
    }

    :host([all-rows-visible]) #items {
      min-height: 1px;
    }

    #table {
      display: flex;
      flex-direction: column;
      width: 100%;
      height: 100%;
      overflow: auto;
      position: relative;
      outline: none;
      /* Workaround for a Desktop Safari bug: new stacking context here prevents the scrollbar from getting hidden */
      z-index: 0;
    }

    #header,
    #footer {
      display: block;
      position: -webkit-sticky;
      position: sticky;
      left: 0;
      overflow: visible;
      width: 100%;
      z-index: 1;
    }

    #header {
      top: 0;
    }

    th {
      text-align: inherit;
    }

    /* Safari doesn't work with "inherit" */
    [safari] th {
      text-align: initial;
    }

    #footer {
      bottom: 0;
    }

    #items {
      flex-grow: 1;
      flex-shrink: 0;
      display: block;
      position: -webkit-sticky;
      position: sticky;
      width: 100%;
      left: 0;
      overflow: visible;
    }

    [part~='row'] {
      display: flex;
      width: 100%;
      box-sizing: border-box;
      margin: 0;
    }

    [part~='row'][loading] [part~='body-cell'] ::slotted(vaadin-grid-cell-content) {
      opacity: 0;
    }

    #items [part~='row'] {
      position: absolute;
    }

    #items [part~='row']:empty {
      height: 100%;
    }

    [part~='cell']:not([part~='details-cell']) {
      flex-shrink: 0;
      flex-grow: 1;
      box-sizing: border-box;
      display: flex;
      width: 100%;
      position: relative;
      align-items: center;
      padding: 0;
      white-space: nowrap;
    }

    [part~='cell'] > [tabindex] {
      display: flex;
      align-items: inherit;
      outline: none;
      position: absolute;
      top: 0;
      bottom: 0;
      left: 0;
      right: 0;
    }

    [part~='details-cell'] {
      position: absolute;
      bottom: 0;
      width: 100%;
      box-sizing: border-box;
      padding: 0;
    }

    [part~='cell'] ::slotted(vaadin-grid-cell-content) {
      display: block;
      width: 100%;
      box-sizing: border-box;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    [hidden] {
      display: none !important;
    }

    [frozen],
    [frozen-to-end] {
      z-index: 2;
      will-change: transform;
    }

    [no-scrollbars][safari] #table,
    [no-scrollbars][firefox] #table {
      overflow: hidden;
    }

    /* Reordering styles */
    :host([reordering]) [part~='cell'] ::slotted(vaadin-grid-cell-content),
    :host([reordering]) [part~='resize-handle'],
    #scroller[no-content-pointer-events] [part~='cell'] ::slotted(vaadin-grid-cell-content) {
      pointer-events: none;
    }

    [part~='reorder-ghost'] {
      visibility: hidden;
      position: fixed;
      pointer-events: none;
      opacity: 0.5;

      /* Prevent overflowing the grid in Firefox */
      top: 0;
      left: 0;
    }

    :host([reordering]) {
      -moz-user-select: none;
      -webkit-user-select: none;
      user-select: none;
    }

    /* Resizing styles */
    [part~='resize-handle'] {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
      cursor: col-resize;
      z-index: 1;
    }

    [part~='resize-handle']::before {
      position: absolute;
      content: '';
      height: 100%;
      width: 35px;
      transform: translateX(-50%);
    }

    [last-column] [part~='resize-handle']::before,
    [last-frozen] [part~='resize-handle']::before {
      width: 18px;
      transform: none;
      right: 0;
    }

    [frozen-to-end] [part~='resize-handle'] {
      left: 0;
      right: auto;
    }

    [frozen-to-end] [part~='resize-handle']::before {
      left: 0;
      right: auto;
    }

    [first-frozen-to-end] [part~='resize-handle']::before {
      width: 18px;
      transform: none;
    }

    [first-frozen-to-end] {
      margin-inline-start: auto;
    }

    /* Hide resize handle if scrolled to end */
    :host(:not([overflow~='end'])) [first-frozen-to-end] [part~='resize-handle'] {
      display: none;
    }

    #scroller[column-resizing] {
      -ms-user-select: none;
      -moz-user-select: none;
      -webkit-user-select: none;
      user-select: none;
    }

    /* Sizer styles */
    #sizer {
      display: flex;
      position: absolute;
      visibility: hidden;
    }

    #sizer [part~='details-cell'] {
      display: none !important;
    }

    #sizer [part~='cell'][hidden] {
      display: none !important;
    }

    #sizer [part~='cell'] {
      display: block;
      flex-shrink: 0;
      line-height: 0;
      height: 0 !important;
      min-height: 0 !important;
      max-height: 0 !important;
      padding: 0 !important;
      border: none !important;
    }

    #sizer [part~='cell']::before {
      content: '-';
    }

    #sizer [part~='cell'] ::slotted(vaadin-grid-cell-content) {
      display: none !important;
    }

    /* RTL specific styles */

    :host([dir='rtl']) #items,
    :host([dir='rtl']) #header,
    :host([dir='rtl']) #footer {
      left: auto;
    }

    :host([dir='rtl']) [part~='reorder-ghost'] {
      left: auto;
      right: 0;
    }

    :host([dir='rtl']) [part~='resize-handle'] {
      left: 0;
      right: auto;
    }

    :host([dir='rtl']) [part~='resize-handle']::before {
      transform: translateX(50%);
    }

    :host([dir='rtl']) [last-column] [part~='resize-handle']::before,
    :host([dir='rtl']) [last-frozen] [part~='resize-handle']::before {
      left: 0;
      right: auto;
    }

    :host([dir='rtl']) [frozen-to-end] [part~='resize-handle'] {
      right: 0;
      left: auto;
    }

    :host([dir='rtl']) [frozen-to-end] [part~='resize-handle']::before {
      right: 0;
      left: auto;
    }
  `,{moduleId:"vaadin-grid-styles"});/**
 * @license
 * Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
 */const sd=navigator.userAgent.match(/iP(?:hone|ad;(?: U;)? CPU) OS (\d+)/),jb=sd&&sd[1]>=8,od=3,qb={_ratio:.5,_scrollerPaddingTop:0,_scrollPosition:0,_physicalSize:0,_physicalAverage:0,_physicalAverageCount:0,_physicalTop:0,_virtualCount:0,_estScrollHeight:0,_scrollHeight:0,_viewportHeight:0,_viewportWidth:0,_physicalItems:null,_physicalSizes:null,_firstVisibleIndexVal:null,_lastVisibleIndexVal:null,_maxPages:2,_templateCost:0,get _physicalBottom(){return this._physicalTop+this._physicalSize},get _scrollBottom(){return this._scrollPosition+this._viewportHeight},get _virtualEnd(){return this._virtualStart+this._physicalCount-1},get _hiddenContentSize(){return this._physicalSize-this._viewportHeight},get _maxScrollTop(){return this._estScrollHeight-this._viewportHeight+this._scrollOffset},get _maxVirtualStart(){const r=this._virtualCount;return Math.max(0,r-this._physicalCount)},get _virtualStart(){return this._virtualStartVal||0},set _virtualStart(r){r=this._clamp(r,0,this._maxVirtualStart),this._virtualStartVal=r},get _physicalStart(){return this._physicalStartVal||0},set _physicalStart(r){r%=this._physicalCount,r<0&&(r=this._physicalCount+r),this._physicalStartVal=r},get _physicalEnd(){return(this._physicalStart+this._physicalCount-1)%this._physicalCount},get _physicalCount(){return this._physicalCountVal||0},set _physicalCount(r){this._physicalCountVal=r},get _optPhysicalSize(){return this._viewportHeight===0?1/0:this._viewportHeight*this._maxPages},get _isVisible(){return Boolean(this.offsetWidth||this.offsetHeight)},get firstVisibleIndex(){let r=this._firstVisibleIndexVal;if(r==null){let t=this._physicalTop+this._scrollOffset;r=this._iterateItems((e,i)=>{if(t+=this._getPhysicalSizeIncrement(e),t>this._scrollPosition)return i})||0,this._firstVisibleIndexVal=r}return r},get lastVisibleIndex(){let r=this._lastVisibleIndexVal;if(r==null){let t=this._physicalTop+this._scrollOffset;this._iterateItems((e,i)=>{t<this._scrollBottom&&(r=i),t+=this._getPhysicalSizeIncrement(e)}),this._lastVisibleIndexVal=r}return r},get _scrollOffset(){return this._scrollerPaddingTop+this.scrollOffset},_scrollHandler(){const r=Math.max(0,Math.min(this._maxScrollTop,this._scrollTop));let t=r-this._scrollPosition;const e=t>=0;if(this._scrollPosition=r,this._firstVisibleIndexVal=null,this._lastVisibleIndexVal=null,Math.abs(t)>this._physicalSize&&this._physicalSize>0){t-=this._scrollOffset;const i=Math.round(t/this._physicalAverage);this._virtualStart+=i,this._physicalStart+=i,this._physicalTop=Math.min(Math.floor(this._virtualStart)*this._physicalAverage,this._scrollPosition),this._update()}else if(this._physicalCount>0){const i=this._getReusables(e);e?(this._physicalTop=i.physicalTop,this._virtualStart+=i.indexes.length,this._physicalStart+=i.indexes.length):(this._virtualStart-=i.indexes.length,this._physicalStart-=i.indexes.length),this._update(i.indexes,e?null:i.indexes),this._debounce("_increasePoolIfNeeded",this._increasePoolIfNeeded.bind(this,0),ji)}},_getReusables(r){let t,e,i;const n=[],s=this._hiddenContentSize*this._ratio,o=this._virtualStart,a=this._virtualEnd,l=this._physicalCount;let h=this._physicalTop+this._scrollOffset;const u=this._physicalBottom+this._scrollOffset,c=this._scrollPosition,d=this._scrollBottom;for(r?(t=this._physicalStart,e=c-h):(t=this._physicalEnd,e=u-d);i=this._getPhysicalSizeIncrement(t),e-=i,!(n.length>=l||e<=s);)if(r){if(a+n.length+1>=this._virtualCount||h+i>=c-this._scrollOffset)break;n.push(t),h+=i,t=(t+1)%l}else{if(o-n.length<=0||h+this._physicalSize-i<=d)break;n.push(t),h-=i,t=t===0?l-1:t-1}return{indexes:n,physicalTop:h-this._scrollOffset}},_update(r,t){if(!(r&&r.length===0||this._physicalCount===0)){if(this._assignModels(r),this._updateMetrics(r),t)for(;t.length;){const e=t.pop();this._physicalTop-=this._getPhysicalSizeIncrement(e)}this._positionItems(),this._updateScrollerSize()}},_isClientFull(){return this._scrollBottom!==0&&this._physicalBottom-1>=this._scrollBottom&&this._physicalTop<=this._scrollPosition},_increasePoolIfNeeded(r){const e=this._clamp(this._physicalCount+r,od,this._virtualCount-this._virtualStart)-this._physicalCount;let i=Math.round(this._physicalCount*.5);if(!(e<0)){if(e>0){const n=window.performance.now();[].push.apply(this._physicalItems,this._createPool(e));for(let s=0;s<e;s++)this._physicalSizes.push(0);this._physicalCount+=e,this._physicalStart>this._physicalEnd&&this._isIndexRendered(this._focusedVirtualIndex)&&this._getPhysicalIndex(this._focusedVirtualIndex)<this._physicalEnd&&(this._physicalStart+=e),this._update(),this._templateCost=(window.performance.now()-n)/e,i=Math.round(this._physicalCount*.5)}this._virtualEnd>=this._virtualCount-1||i===0||(this._isClientFull()?this._physicalSize<this._optPhysicalSize&&this._debounce("_increasePoolIfNeeded",this._increasePoolIfNeeded.bind(this,this._clamp(Math.round(50/this._templateCost),1,i)),vb):this._debounce("_increasePoolIfNeeded",this._increasePoolIfNeeded.bind(this,i),ji))}},_render(){if(!(!this.isAttached||!this._isVisible))if(this._physicalCount!==0){const r=this._getReusables(!0);this._physicalTop=r.physicalTop,this._virtualStart+=r.indexes.length,this._physicalStart+=r.indexes.length,this._update(r.indexes),this._update(),this._increasePoolIfNeeded(0)}else this._virtualCount>0&&(this.updateViewportBoundaries(),this._increasePoolIfNeeded(od))},_itemsChanged(r){r.path==="items"&&(this._virtualStart=0,this._physicalTop=0,this._virtualCount=this.items?this.items.length:0,this._physicalIndexForKey={},this._firstVisibleIndexVal=null,this._lastVisibleIndexVal=null,this._physicalCount=this._physicalCount||0,this._physicalItems=this._physicalItems||[],this._physicalSizes=this._physicalSizes||[],this._physicalStart=0,this._scrollTop>this._scrollOffset&&this._resetScrollPosition(0),this._debounce("_render",this._render,bi))},_iterateItems(r,t){let e,i,n,s;if(arguments.length===2&&t){for(s=0;s<t.length;s++)if(e=t[s],i=this._computeVidx(e),(n=r.call(this,e,i))!=null)return n}else{for(e=this._physicalStart,i=this._virtualStart;e<this._physicalCount;e++,i++)if((n=r.call(this,e,i))!=null)return n;for(e=0;e<this._physicalStart;e++,i++)if((n=r.call(this,e,i))!=null)return n}},_computeVidx(r){return r>=this._physicalStart?this._virtualStart+(r-this._physicalStart):this._virtualStart+(this._physicalCount-this._physicalStart)+r},_positionItems(){this._adjustScrollPosition();let r=this._physicalTop;this._iterateItems(t=>{this.translate3d(0,`${r}px`,0,this._physicalItems[t]),r+=this._physicalSizes[t]})},_getPhysicalSizeIncrement(r){return this._physicalSizes[r]},_adjustScrollPosition(){const r=this._virtualStart===0?this._physicalTop:Math.min(this._scrollPosition+this._physicalTop,0);if(r!==0){this._physicalTop-=r;const t=this._scrollPosition;!jb&&t>0&&this._resetScrollPosition(t-r)}},_resetScrollPosition(r){this.scrollTarget&&r>=0&&(this._scrollTop=r,this._scrollPosition=this._scrollTop)},_updateScrollerSize(r){this._estScrollHeight=this._physicalBottom+Math.max(this._virtualCount-this._physicalCount-this._virtualStart,0)*this._physicalAverage,r=r||this._scrollHeight===0,r=r||this._scrollPosition>=this._estScrollHeight-this._physicalSize,(r||Math.abs(this._estScrollHeight-this._scrollHeight)>=this._viewportHeight)&&(this.$.items.style.height=`${this._estScrollHeight}px`,this._scrollHeight=this._estScrollHeight)},scrollToIndex(r){if(typeof r!="number"||r<0||r>this.items.length-1||(gn(),this._physicalCount===0))return;r=this._clamp(r,0,this._virtualCount-1),(!this._isIndexRendered(r)||r>=this._maxVirtualStart)&&(this._virtualStart=r-1),this._assignModels(),this._updateMetrics(),this._physicalTop=this._virtualStart*this._physicalAverage;let t=this._physicalStart,e=this._virtualStart,i=0;const n=this._hiddenContentSize;for(;e<r&&i<=n;)i+=this._getPhysicalSizeIncrement(t),t=(t+1)%this._physicalCount,e+=1;this._updateScrollerSize(!0),this._positionItems(),this._resetScrollPosition(this._physicalTop+this._scrollOffset+i),this._increasePoolIfNeeded(0),this._firstVisibleIndexVal=null,this._lastVisibleIndexVal=null},_resetAverage(){this._physicalAverage=0,this._physicalAverageCount=0},_resizeHandler(){this._debounce("_render",()=>{this._firstVisibleIndexVal=null,this._lastVisibleIndexVal=null,this._isVisible?(this.updateViewportBoundaries(),this.toggleScrollListener(!0),this._resetAverage(),this._render()):this.toggleScrollListener(!1)},bi)},_isIndexRendered(r){return r>=this._virtualStart&&r<=this._virtualEnd},_getPhysicalIndex(r){return(this._physicalStart+(r-this._virtualStart))%this._physicalCount},_clamp(r,t,e){return Math.min(e,Math.max(t,r))},_debounce(r,t,e){this._debouncers=this._debouncers||{},this._debouncers[r]=ye.debounce(this._debouncers[r],e,t.bind(this)),gb(this._debouncers[r])}};/**
 * @license
 * Copyright (c) 2021 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const Xb=1e5,Sl=1e3;class Jm{constructor({createElements:t,updateElement:e,scrollTarget:i,scrollContainer:n,elementsContainer:s,reorderElements:o}){this.isAttached=!0,this._vidxOffset=0,this.createElements=t,this.updateElement=e,this.scrollTarget=i,this.scrollContainer=n,this.elementsContainer=s||n,this.reorderElements=o,this._maxPages=1.3,this.__placeholderHeight=200,this.__elementHeightQueue=Array(10),this.timeouts={SCROLL_REORDER:500,IGNORE_WHEEL:500,FIX_INVALID_ITEM_POSITIONING:100},this.__resizeObserver=new ResizeObserver(()=>this._resizeHandler()),getComputedStyle(this.scrollTarget).overflow==="visible"&&(this.scrollTarget.style.overflow="auto"),getComputedStyle(this.scrollContainer).position==="static"&&(this.scrollContainer.style.position="relative"),this.__resizeObserver.observe(this.scrollTarget),this.scrollTarget.addEventListener("scroll",()=>this._scrollHandler()),this._scrollLineHeight=this._getScrollLineHeight(),this.scrollTarget.addEventListener("wheel",a=>this.__onWheel(a)),this.reorderElements&&(this.scrollTarget.addEventListener("mousedown",()=>{this.__mouseDown=!0}),this.scrollTarget.addEventListener("mouseup",()=>{this.__mouseDown=!1,this.__pendingReorder&&this.__reorderElements()}))}get scrollOffset(){return 0}get adjustedFirstVisibleIndex(){return this.firstVisibleIndex+this._vidxOffset}get adjustedLastVisibleIndex(){return this.lastVisibleIndex+this._vidxOffset}scrollToIndex(t){if(typeof t!="number"||isNaN(t)||this.size===0||!this.scrollTarget.offsetHeight)return;t=this._clamp(t,0,this.size-1);const e=this.__getVisibleElements().length;let i=Math.floor(t/this.size*this._virtualCount);this._virtualCount-i<e?(i=this._virtualCount-(this.size-t),this._vidxOffset=this.size-this._virtualCount):i<e?t<Sl?(i=t,this._vidxOffset=0):(i=Sl,this._vidxOffset=t-i):this._vidxOffset=t-i,this.__skipNextVirtualIndexAdjust=!0,super.scrollToIndex(i),this.adjustedFirstVisibleIndex!==t&&this._scrollTop<this._maxScrollTop&&!this.grid&&(this._scrollTop-=this.__getIndexScrollOffset(t)||0),this._scrollHandler()}flush(){this.scrollTarget.offsetHeight!==0&&(this._resizeHandler(),gn(),this._scrollHandler(),this.__fixInvalidItemPositioningDebouncer&&this.__fixInvalidItemPositioningDebouncer.flush(),this.__scrollReorderDebouncer&&this.__scrollReorderDebouncer.flush(),this.__debouncerWheelAnimationFrame&&this.__debouncerWheelAnimationFrame.flush())}update(t=0,e=this.size-1){this.__getVisibleElements().forEach(i=>{i.__virtualIndex>=t&&i.__virtualIndex<=e&&this.__updateElement(i,i.__virtualIndex,!0)})}_updateMetrics(t){gn();let e=0,i=0;const n=this._physicalAverageCount,s=this._physicalAverage;this._iterateItems((o,a)=>{i+=this._physicalSizes[o],this._physicalSizes[o]=Math.ceil(this.__getBorderBoxHeight(this._physicalItems[o])),e+=this._physicalSizes[o],this._physicalAverageCount+=this._physicalSizes[o]?1:0},t),this._physicalSize=this._physicalSize+e-i,this._physicalAverageCount!==n&&(this._physicalAverage=Math.round((s*n+e)/this._physicalAverageCount))}__getBorderBoxHeight(t){const e=getComputedStyle(t),i=parseFloat(e.height)||0;if(e.boxSizing==="border-box")return i;const n=parseFloat(e.paddingBottom)||0,s=parseFloat(e.paddingTop)||0,o=parseFloat(e.borderBottomWidth)||0,a=parseFloat(e.borderTopWidth)||0;return i+n+s+o+a}__updateElement(t,e,i){t.style.paddingTop&&(t.style.paddingTop=""),!this.__preventElementUpdates&&(t.__lastUpdatedIndex!==e||i)&&(this.updateElement(t,e),t.__lastUpdatedIndex=e);const n=t.offsetHeight;if(n===0)t.style.paddingTop=`${this.__placeholderHeight}px`,requestAnimationFrame(()=>this._resizeHandler());else{this.__elementHeightQueue.push(n),this.__elementHeightQueue.shift();const s=this.__elementHeightQueue.filter(o=>o!==void 0);this.__placeholderHeight=Math.round(s.reduce((o,a)=>o+a,0)/s.length)}}__getIndexScrollOffset(t){const e=this.__getVisibleElements().find(i=>i.__virtualIndex===t);return e?this.scrollTarget.getBoundingClientRect().top-e.getBoundingClientRect().top:void 0}get size(){return this.__size}set size(t){if(t===this.size)return;this.__fixInvalidItemPositioningDebouncer&&this.__fixInvalidItemPositioningDebouncer.cancel(),this._debouncers&&this._debouncers._increasePoolIfNeeded&&this._debouncers._increasePoolIfNeeded.cancel(),this.__preventElementUpdates=!0;let e,i;if(t>0&&(e=this.adjustedFirstVisibleIndex,i=this.__getIndexScrollOffset(e)),this.__size=t,this._itemsChanged({path:"items"}),gn(),t>0){e=Math.min(e,t-1),this.scrollToIndex(e);const n=this.__getIndexScrollOffset(e);i!==void 0&&n!==void 0&&(this._scrollTop+=i-n)}this.elementsContainer.children.length||requestAnimationFrame(()=>this._resizeHandler()),this.__preventElementUpdates=!1,this._resizeHandler(),gn()}get _scrollTop(){return this.scrollTarget.scrollTop}set _scrollTop(t){this.scrollTarget.scrollTop=t}get items(){return{length:Math.min(this.size,Xb)}}get offsetHeight(){return this.scrollTarget.offsetHeight}get $(){return{items:this.scrollContainer}}updateViewportBoundaries(){const t=window.getComputedStyle(this.scrollTarget);this._scrollerPaddingTop=this.scrollTarget===this?0:parseInt(t["padding-top"],10),this._isRTL=Boolean(t.direction==="rtl"),this._viewportWidth=this.elementsContainer.offsetWidth,this._viewportHeight=this.scrollTarget.offsetHeight,this._scrollPageHeight=this._viewportHeight-this._scrollLineHeight,this.grid&&this._updateGridMetrics()}setAttribute(){}_createPool(t){const e=this.createElements(t),i=document.createDocumentFragment();return e.forEach(n=>{n.style.position="absolute",i.appendChild(n),this.__resizeObserver.observe(n)}),this.elementsContainer.appendChild(i),e}_assignModels(t){this._iterateItems((e,i)=>{const n=this._physicalItems[e];n.hidden=i>=this.size,n.hidden?delete n.__lastUpdatedIndex:(n.__virtualIndex=i+(this._vidxOffset||0),this.__updateElement(n,n.__virtualIndex))},t)}_isClientFull(){return setTimeout(()=>{this.__clientFull=!0}),this.__clientFull||super._isClientFull()}translate3d(t,e,i,n){n.style.transform=`translateY(${e})`}toggleScrollListener(){}_scrollHandler(){this._adjustVirtualIndexOffset(this._scrollTop-(this.__previousScrollTop||0));const t=this.scrollTarget.scrollTop-this._scrollPosition;if(super._scrollHandler(),this._physicalCount!==0){const e=t>=0,i=this._getReusables(!e);i.indexes.length&&(this._physicalTop=i.physicalTop,e?(this._virtualStart-=i.indexes.length,this._physicalStart-=i.indexes.length):(this._virtualStart+=i.indexes.length,this._physicalStart+=i.indexes.length),this._resizeHandler())}t&&(this.__fixInvalidItemPositioningDebouncer=ye.debounce(this.__fixInvalidItemPositioningDebouncer,Be.after(this.timeouts.FIX_INVALID_ITEM_POSITIONING),()=>this.__fixInvalidItemPositioning())),this.reorderElements&&(this.__scrollReorderDebouncer=ye.debounce(this.__scrollReorderDebouncer,Be.after(this.timeouts.SCROLL_REORDER),()=>this.__reorderElements())),this.__previousScrollTop=this._scrollTop,this._scrollTop===0&&this.firstVisibleIndex!==0&&Math.abs(t)>0&&this.scrollToIndex(0)}__fixInvalidItemPositioning(){if(!this.scrollTarget.isConnected)return;const t=this._physicalTop>this._scrollTop,e=this._physicalBottom<this._scrollBottom,i=this.adjustedFirstVisibleIndex===0,n=this.adjustedLastVisibleIndex===this.size-1;if(t&&!i||e&&!n){const s=e,o=this._ratio;this._ratio=0,this._scrollPosition=this._scrollTop+(s?-1:1),this._scrollHandler(),this._ratio=o}}__onWheel(t){if(t.ctrlKey||this._hasScrolledAncestor(t.target,t.deltaX,t.deltaY))return;let e=t.deltaY;if(t.deltaMode===WheelEvent.DOM_DELTA_LINE?e*=this._scrollLineHeight:t.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(e*=this._scrollPageHeight),this._deltaYAcc=this._deltaYAcc||0,this._wheelAnimationFrame){this._deltaYAcc+=e,t.preventDefault();return}e+=this._deltaYAcc,this._deltaYAcc=0,this._wheelAnimationFrame=!0,this.__debouncerWheelAnimationFrame=ye.debounce(this.__debouncerWheelAnimationFrame,bi,()=>{this._wheelAnimationFrame=!1});const i=Math.abs(t.deltaX)+Math.abs(e);this._canScroll(this.scrollTarget,t.deltaX,e)?(t.preventDefault(),this.scrollTarget.scrollTop+=e,this.scrollTarget.scrollLeft+=t.deltaX,this._hasResidualMomentum=!0,this._ignoreNewWheel=!0,this._debouncerIgnoreNewWheel=ye.debounce(this._debouncerIgnoreNewWheel,Be.after(this.timeouts.IGNORE_WHEEL),()=>{this._ignoreNewWheel=!1})):this._hasResidualMomentum&&i<=this._previousMomentum||this._ignoreNewWheel?t.preventDefault():i>this._previousMomentum&&(this._hasResidualMomentum=!1),this._previousMomentum=i}_hasScrolledAncestor(t,e,i){if(t===this.scrollTarget||t===this.scrollTarget.getRootNode().host)return!1;if(this._canScroll(t,e,i)&&["auto","scroll"].indexOf(getComputedStyle(t).overflow)!==-1)return!0;if(t!==this&&t.parentElement)return this._hasScrolledAncestor(t.parentElement,e,i)}_canScroll(t,e,i){return i>0&&t.scrollTop<t.scrollHeight-t.offsetHeight||i<0&&t.scrollTop>0||e>0&&t.scrollLeft<t.scrollWidth-t.offsetWidth||e<0&&t.scrollLeft>0}_getScrollLineHeight(){const t=document.createElement("div");t.style.fontSize="initial",t.style.display="none",document.body.appendChild(t);const e=window.getComputedStyle(t).fontSize;return document.body.removeChild(t),e?window.parseInt(e):void 0}__getVisibleElements(){return Array.from(this.elementsContainer.children).filter(t=>!t.hidden)}__reorderElements(){if(this.__mouseDown){this.__pendingReorder=!0;return}this.__pendingReorder=!1;const t=this._virtualStart+(this._vidxOffset||0),e=this.__getVisibleElements(),n=e.find(a=>a.contains(this.elementsContainer.getRootNode().activeElement)||a.contains(this.scrollTarget.getRootNode().activeElement))||e[0];if(!n)return;const s=n.__virtualIndex-t,o=e.indexOf(n)-s;if(o>0)for(let a=0;a<o;a++)this.elementsContainer.appendChild(e[a]);else if(o<0)for(let a=e.length+o;a<e.length;a++)this.elementsContainer.insertBefore(e[a],e[0]);if(km){const{transform:a}=this.scrollTarget.style;this.scrollTarget.style.transform="translateZ(0)",setTimeout(()=>{this.scrollTarget.style.transform=a})}}_adjustVirtualIndexOffset(t){if(this._virtualCount>=this.size)this._vidxOffset=0;else if(this.__skipNextVirtualIndexAdjust)this.__skipNextVirtualIndexAdjust=!1;else if(Math.abs(t)>1e4){const e=this._scrollTop/(this.scrollTarget.scrollHeight-this.scrollTarget.offsetHeight),i=e*this.size;this._vidxOffset=Math.round(i-e*this._virtualCount)}else{const e=this._vidxOffset,i=Sl,n=100;this._scrollTop===0?(this._vidxOffset=0,e!==this._vidxOffset&&super.scrollToIndex(0)):this.firstVisibleIndex<i&&this._vidxOffset>0&&(this._vidxOffset-=Math.min(this._vidxOffset,n),super.scrollToIndex(this.firstVisibleIndex+(e-this._vidxOffset)));const s=this.size-this._virtualCount;this._scrollTop>=this._maxScrollTop&&this._maxScrollTop>0?(this._vidxOffset=s,e!==this._vidxOffset&&super.scrollToIndex(this._virtualCount-1)):this.firstVisibleIndex>this._virtualCount-i&&this._vidxOffset<s&&(this._vidxOffset+=Math.min(s-this._vidxOffset,n),super.scrollToIndex(this.firstVisibleIndex-(this._vidxOffset-e)))}}}Object.setPrototypeOf(Jm.prototype,qb);class tc{constructor(t){this.__adapter=new Jm(t)}get size(){return this.__adapter.size}set size(t){this.__adapter.size=t}scrollToIndex(t){this.__adapter.scrollToIndex(t)}update(t=0,e=this.size-1){this.__adapter.update(t,e)}flush(){this.__adapter.flush()}get firstVisibleIndex(){return this.__adapter.adjustedFirstVisibleIndex}get lastVisibleIndex(){return this.__adapter.adjustedLastVisibleIndex}}/**
 * @license
 * Copyright (c) 2016 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const Kb=r=>class extends r{static get observers(){return["_a11yUpdateGridSize(size, _columnTree, _columnTree.*)"]}_a11yGetHeaderRowCount(e){return e.filter(i=>i.some(n=>n.headerRenderer||n.path||n.header)).length}_a11yGetFooterRowCount(e){return e.filter(i=>i.some(n=>n.headerRenderer)).length}_a11yUpdateGridSize(e,i){if(e===void 0||i===void 0)return;const n=i[i.length-1];this.$.table.setAttribute("aria-rowcount",e+this._a11yGetHeaderRowCount(i)+this._a11yGetFooterRowCount(i)),this.$.table.setAttribute("aria-colcount",n&&n.length||0),this._a11yUpdateHeaderRows(),this._a11yUpdateFooterRows()}_a11yUpdateHeaderRows(){Array.from(this.$.header.children).forEach((e,i)=>e.setAttribute("aria-rowindex",i+1))}_a11yUpdateFooterRows(){Array.from(this.$.footer.children).forEach((e,i)=>e.setAttribute("aria-rowindex",this._a11yGetHeaderRowCount(this._columnTree)+this.size+i+1))}_a11yUpdateRowRowindex(e,i){e.setAttribute("aria-rowindex",i+this._a11yGetHeaderRowCount(this._columnTree)+1)}_a11yUpdateRowSelected(e,i){e.setAttribute("aria-selected",Boolean(i)),Array.from(e.children).forEach(n=>n.setAttribute("aria-selected",Boolean(i)))}_a11yUpdateRowExpanded(e){this.__isRowExpandable(e)?e.setAttribute("aria-expanded","false"):this.__isRowCollapsible(e)?e.setAttribute("aria-expanded","true"):e.removeAttribute("aria-expanded")}_a11yUpdateRowLevel(e,i){i>0||this.__isRowCollapsible(e)||this.__isRowExpandable(e)?e.setAttribute("aria-level",i+1):e.removeAttribute("aria-level")}_a11ySetRowDetailsCell(e,i){Array.from(e.children).forEach(n=>{n!==i&&n.setAttribute("aria-controls",i.id)})}_a11yUpdateCellColspan(e,i){e.setAttribute("aria-colspan",Number(i))}_a11yUpdateSorters(){Array.from(this.querySelectorAll("vaadin-grid-sorter")).forEach(e=>{let i=e.parentNode;for(;i&&i.localName!=="vaadin-grid-cell-content";)i=i.parentNode;i&&i.assignedSlot&&i.assignedSlot.parentNode.setAttribute("aria-sort",{asc:"ascending",desc:"descending"}[String(e.direction)]||"none")})}};/**
 * @license
 * Copyright (c) 2016 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const Zb=r=>class extends r{static get properties(){return{activeItem:{type:Object,notify:!0,value:null}}}ready(){super.ready(),this.$.scroller.addEventListener("click",this._onClick.bind(this)),this.addEventListener("cell-activate",this._activateItem.bind(this)),this.addEventListener("row-activate",this._activateItem.bind(this))}_activateItem(e){const i=e.detail.model,n=i?i.item:null;n&&(this.activeItem=this._itemsEqual(this.activeItem,n)?null:n)}_onClick(e){if(e.defaultPrevented)return;const i=e.composedPath(),n=i[i.indexOf(this.$.table)-3];if(!n||n.getAttribute("part").indexOf("details-cell")>-1)return;const s=n._content,o=this.getRootNode().activeElement;!s.contains(o)&&!this._isFocusable(e.target)&&!(e.target instanceof HTMLLabelElement)&&this.dispatchEvent(new CustomEvent("cell-activate",{detail:{model:this.__getRowModel(n.parentElement)}}))}_isFocusable(e){return ic(e)}},ic=r=>{if(!r.parentNode)return!1;const e=Array.from(r.parentNode.querySelectorAll("[tabindex], button, input, select, textarea, object, iframe, a[href], area[href]")).filter(i=>{const n=i.getAttribute("part");return!(n&&n.includes("body-cell"))}).includes(r);return!r.disabled&&e&&r.offsetParent&&getComputedStyle(r).visibility!=="hidden"};function gr(r,t){return r.split(".").reduce((e,i)=>e[i],t)}function ad(r,t,e){if(e.length===0)return!1;let i=!0;return r.forEach(({path:n})=>{if(!n||n.indexOf(".")===-1)return;const s=n.replace(/\.[^.]*$/,"");gr(s,e[0])===void 0&&(console.warn(`Path "${n}" used for ${t} does not exist in all of the items, ${t} is disabled.`),i=!1)}),i}function Qb(r,t){return r.sort((e,i)=>t.map(n=>n.direction==="asc"?ld(gr(n.path,e),gr(n.path,i)):n.direction==="desc"?ld(gr(n.path,i),gr(n.path,e)):0).reduce((n,s)=>n!==0?n:s,0))}function Fo(r){return[void 0,null].indexOf(r)>=0?"":isNaN(r)?r.toString():r}function ld(r,t){return r=Fo(r),t=Fo(t),r<t?-1:r>t?1:0}function Jb(r,t){return r.filter(e=>t.every(i=>{const n=Fo(gr(i.path,e)),s=Fo(i.value).toString().toLowerCase();return n.toString().toLowerCase().includes(s)}))}const e0=r=>(t,e)=>{let i=r?[...r]:[];t.filters&&ad(t.filters,"filtering",i)&&(i=Jb(i,t.filters)),Array.isArray(t.sortOrders)&&t.sortOrders.length&&ad(t.sortOrders,"sorting",i)&&(i=Qb(i,t.sortOrders));const n=Math.min(i.length,t.pageSize),s=t.page*n,o=s+n,a=i.slice(s,o);e(a,i.length)};/**
 * @license
 * Copyright (c) 2016 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const t0=r=>class extends r{static get properties(){return{items:Array}}static get observers(){return["__dataProviderOrItemsChanged(dataProvider, items, isAttached, items.*, _filters, _sorters)"]}__setArrayDataProvider(e){const i=e0(this.items);i.__items=e,this.setProperties({_arrayDataProvider:i,size:e.length,dataProvider:i})}__dataProviderOrItemsChanged(e,i,n){!n||(this._arrayDataProvider?e!==this._arrayDataProvider?this.setProperties({_arrayDataProvider:void 0,items:void 0}):i?this._arrayDataProvider.__items===i?(this.clearCache(),this.size=this._effectiveSize):this.__setArrayDataProvider(i):(this.setProperties({_arrayDataProvider:void 0,dataProvider:void 0,size:0}),this.clearCache()):i&&this.__setArrayDataProvider(i))}};/**
 * @license
 * Copyright (c) 2016 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */function ev(r,t,e){let i=1;r.forEach(n=>{i%10===0&&(i+=1),n._order=e+i*t,i+=1})}/**
 * @license
 * Copyright (c) 2016 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const i0=r=>class extends r{static get properties(){return{columnReorderingAllowed:{type:Boolean,value:!1},_orderBaseScope:{type:Number,value:1e7}}}static get observers(){return["_updateOrders(_columnTree)"]}ready(){super.ready(),Ye(this,"track",this._onTrackEvent),this._reorderGhost=this.shadowRoot.querySelector('[part="reorder-ghost"]'),this.addEventListener("touchstart",this._onTouchStart.bind(this)),this.addEventListener("touchmove",this._onTouchMove.bind(this)),this.addEventListener("touchend",this._onTouchEnd.bind(this)),this.addEventListener("contextmenu",this._onContextMenu.bind(this))}_onContextMenu(e){this.hasAttribute("reordering")&&(e.preventDefault(),wi||this._onTrackEnd())}_onTouchStart(e){this._startTouchReorderTimeout=setTimeout(()=>{this._onTrackStart({detail:{x:e.touches[0].clientX,y:e.touches[0].clientY}})},100)}_onTouchMove(e){this._draggedColumn&&e.preventDefault(),clearTimeout(this._startTouchReorderTimeout)}_onTouchEnd(){clearTimeout(this._startTouchReorderTimeout),this._onTrackEnd()}_onTrackEvent(e){if(e.detail.state==="start"){const i=e.composedPath(),n=i[i.indexOf(this.$.header)-2];if(!n||!n._content||n._content.contains(this.getRootNode().activeElement)||this.$.scroller.hasAttribute("column-resizing"))return;this._touchDevice||this._onTrackStart(e)}else e.detail.state==="track"?this._onTrack(e):e.detail.state==="end"&&this._onTrackEnd(e)}_onTrackStart(e){if(!this.columnReorderingAllowed)return;const i=e.composedPath&&e.composedPath();if(i&&i.some(s=>s.hasAttribute&&s.hasAttribute("draggable")))return;const n=this._cellFromPoint(e.detail.x,e.detail.y);if(!(!n||!n.getAttribute("part").includes("header-cell"))){for(this.toggleAttribute("reordering",!0),this._draggedColumn=n._column;this._draggedColumn.parentElement.childElementCount===1;)this._draggedColumn=this._draggedColumn.parentElement;this._setSiblingsReorderStatus(this._draggedColumn,"allowed"),this._draggedColumn._reorderStatus="dragging",this._updateGhost(n),this._reorderGhost.style.visibility="visible",this._updateGhostPosition(e.detail.x,this._touchDevice?e.detail.y-50:e.detail.y),this._autoScroller()}}_onTrack(e){if(!this._draggedColumn)return;const i=this._cellFromPoint(e.detail.x,e.detail.y);if(!i)return;const n=this._getTargetColumn(i,this._draggedColumn);if(this._isSwapAllowed(this._draggedColumn,n)&&this._isSwappableByPosition(n,e.detail.x)){const s=this._columnTree.findIndex(u=>u.includes(n)),o=this._getColumnsInOrder(s),a=o.indexOf(this._draggedColumn),l=o.indexOf(n),h=a<l?1:-1;for(let u=a;u!==l;u+=h)this._swapColumnOrders(this._draggedColumn,o[u+h])}this._updateGhostPosition(e.detail.x,this._touchDevice?e.detail.y-50:e.detail.y),this._lastDragClientX=e.detail.x}_onTrackEnd(){!this._draggedColumn||(this.toggleAttribute("reordering",!1),this._draggedColumn._reorderStatus="",this._setSiblingsReorderStatus(this._draggedColumn,""),this._draggedColumn=null,this._lastDragClientX=null,this._reorderGhost.style.visibility="hidden",this.dispatchEvent(new CustomEvent("column-reorder",{detail:{columns:this._getColumnsInOrder()}})))}_getColumnsInOrder(e=this._columnTree.length-1){return this._columnTree[e].filter(i=>!i.hidden).sort((i,n)=>i._order-n._order)}_cellFromPoint(e,i){e=e||0,i=i||0,this._draggedColumn||this.$.scroller.toggleAttribute("no-content-pointer-events",!0);const n=this.shadowRoot.elementFromPoint(e,i);if(this.$.scroller.toggleAttribute("no-content-pointer-events",!1),n&&n._column)return n}_updateGhostPosition(e,i){const n=this._reorderGhost.getBoundingClientRect(),s=e-n.width/2,o=i-n.height/2,a=parseInt(this._reorderGhost._left||0),l=parseInt(this._reorderGhost._top||0);this._reorderGhost._left=a-(n.left-s),this._reorderGhost._top=l-(n.top-o),this._reorderGhost.style.transform=`translate(${this._reorderGhost._left}px, ${this._reorderGhost._top}px)`}_updateGhost(e){const i=this._reorderGhost;i.textContent=e._content.innerText;const n=window.getComputedStyle(e);return["boxSizing","display","width","height","background","alignItems","padding","border","flex-direction","overflow"].forEach(s=>{i.style[s]=n[s]}),i}_updateOrders(e){e!==void 0&&(e[0].forEach(i=>{i._order=0}),ev(e[0],this._orderBaseScope,0))}_setSiblingsReorderStatus(e,i){Array.from(e.parentNode.children).filter(n=>/column/.test(n.localName)&&this._isSwapAllowed(n,e)).forEach(n=>{n._reorderStatus=i})}_autoScroller(){if(this._lastDragClientX){const e=this._lastDragClientX-this.getBoundingClientRect().right+50,i=this.getBoundingClientRect().left-this._lastDragClientX+50;e>0?this.$.table.scrollLeft+=e/10:i>0&&(this.$.table.scrollLeft-=i/10)}this._draggedColumn&&setTimeout(()=>this._autoScroller(),10)}_isSwapAllowed(e,i){if(e&&i){const n=e!==i,s=e.parentElement===i.parentElement,o=e.frozen&&i.frozen||e.frozenToEnd&&i.frozenToEnd||!e.frozen&&!e.frozenToEnd&&!i.frozen&&!i.frozenToEnd;return n&&s&&o}}_isSwappableByPosition(e,i){const n=Array.from(this.$.header.querySelectorAll('tr:not([hidden]) [part~="cell"]')).find(a=>e.contains(a._column)),s=this.$.header.querySelector("tr:not([hidden]) [reorder-status=dragging]").getBoundingClientRect(),o=n.getBoundingClientRect();return o.left>s.left?i>o.right-s.width:i<o.left+s.width}_swapColumnOrders(e,i){[e._order,i._order]=[i._order,e._order],this._debounceUpdateFrozenColumn(),this._updateFirstAndLastColumn()}_getTargetColumn(e,i){if(e&&i){let n=e._column;for(;n.parentElement!==i.parentElement&&n!==this;)n=n.parentElement;return n.parentElement===i.parentElement?n:e._column}}};/**
 * @license
 * Copyright (c) 2016 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const r0=r=>class extends r{ready(){super.ready();const e=this.$.scroller;Ye(e,"track",this._onHeaderTrack.bind(this)),e.addEventListener("touchmove",i=>e.hasAttribute("column-resizing")&&i.preventDefault()),e.addEventListener("contextmenu",i=>i.target.getAttribute("part")==="resize-handle"&&i.preventDefault()),e.addEventListener("mousedown",i=>i.target.getAttribute("part")==="resize-handle"&&i.preventDefault())}_onHeaderTrack(e){const i=e.target;if(i.getAttribute("part")==="resize-handle"){let s=i.parentElement._column;for(this.$.scroller.toggleAttribute("column-resizing",!0);s.localName==="vaadin-grid-column-group";)s=s._childColumns.slice(0).sort((u,c)=>u._order-c._order).filter(u=>!u.hidden).pop();const o=e.detail.x,a=Array.from(this.$.header.querySelectorAll('[part~="row"]:last-child [part~="cell"]')),l=a.find(u=>u._column===s);if(l.offsetWidth){const u=getComputedStyle(l._content),c=10+parseInt(u.paddingLeft)+parseInt(u.paddingRight)+parseInt(u.borderLeftWidth)+parseInt(u.borderRightWidth)+parseInt(u.marginLeft)+parseInt(u.marginRight);let d;const f=l.offsetWidth,p=l.getBoundingClientRect();l.hasAttribute("frozen-to-end")?d=f+(this.__isRTL?o-p.right:p.left-o):d=f+(this.__isRTL?p.left-o:o-p.right),s.width=`${Math.max(c,d)}px`,s.flexGrow=0}a.sort((u,c)=>u._column._order-c._column._order).forEach((u,c,d)=>{c<d.indexOf(l)&&(u._column.width=`${u.offsetWidth}px`,u._column.flexGrow=0)});const h=this._frozenToEndCells[0];if(h&&this.$.table.scrollWidth>this.$.table.offsetWidth){const u=h.getBoundingClientRect(),c=o-(this.__isRTL?u.right:u.left);(this.__isRTL&&c<=0||!this.__isRTL&&c>=0)&&(this.$.table.scrollLeft+=c)}e.detail.state==="end"&&(this.$.scroller.toggleAttribute("column-resizing",!1),this.dispatchEvent(new CustomEvent("column-resize",{detail:{resizedColumn:s}}))),this._resizeHandler()}}};/**
 * @license
 * Copyright (c) 2016 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const ut=class tv{constructor(t,e,i){this.grid=t,this.parentCache=e,this.parentItem=i,this.itemCaches={},this.items={},this.effectiveSize=0,this.size=0,this.pendingRequests={}}isLoading(){return Boolean(Object.keys(this.pendingRequests).length||Object.keys(this.itemCaches).filter(t=>this.itemCaches[t].isLoading())[0])}getItemForIndex(t){const{cache:e,scaledIndex:i}=this.getCacheAndIndex(t);return e.items[i]}updateSize(){this.effectiveSize=!this.parentItem||this.grid._isExpanded(this.parentItem)?this.size+Object.keys(this.itemCaches).reduce((t,e)=>{const i=this.itemCaches[e];return i.updateSize(),t+i.effectiveSize},0):0}ensureSubCacheForScaledIndex(t){if(!this.itemCaches[t]){const e=new tv(this.grid,this,this.items[t]);this.itemCaches[t]=e,this.grid._loadPage(0,e)}}getCacheAndIndex(t){let e=t;const i=Object.keys(this.itemCaches);for(let n=0;n<i.length;n++){const s=Number(i[n]),o=this.itemCaches[s];if(e<=s)return{cache:this,scaledIndex:e};if(e<=s+o.effectiveSize)return o.getCacheAndIndex(e-s-1);e-=o.effectiveSize}return{cache:this,scaledIndex:e}}},n0=r=>class extends r{static get properties(){return{size:{type:Number,notify:!0},pageSize:{type:Number,value:50,observer:"_pageSizeChanged"},dataProvider:{type:Object,notify:!0,observer:"_dataProviderChanged"},loading:{type:Boolean,notify:!0,readOnly:!0,reflectToAttribute:!0},_cache:{type:Object,value(){return new ut(this)}},_hasData:{type:Boolean,value:!1},itemHasChildrenPath:{type:String,value:"children"},itemIdPath:{type:String,value:null},expandedItems:{type:Object,notify:!0,value:()=>[]},__expandedKeys:{type:Object,computed:"__computeExpandedKeys(itemIdPath, expandedItems.*)"}}}static get observers(){return["_sizeChanged(size)","_expandedItemsChanged(expandedItems.*)"]}_sizeChanged(e){const i=e-this._cache.size;this._cache.size+=i,this._cache.effectiveSize+=i,this._effectiveSize=this._cache.effectiveSize}_getItem(e,i){if(e>=this._effectiveSize)return;i.index=e;const{cache:n,scaledIndex:s}=this._cache.getCacheAndIndex(e),o=n.items[s];o?(i.toggleAttribute("loading",!1),this._updateItem(i,o),this._isExpanded(o)&&n.ensureSubCacheForScaledIndex(s)):(i.toggleAttribute("loading",!0),this._loadPage(this._getPageForIndex(s),n))}getItemId(e){return this.itemIdPath?this.get(this.itemIdPath,e):e}_isExpanded(e){return this.__expandedKeys.has(this.getItemId(e))}_expandedItemsChanged(){this._cache.updateSize(),this._effectiveSize=this._cache.effectiveSize,this.__updateVisibleRows()}__computeExpandedKeys(e,i){const n=i.base||[],s=new Set;return n.forEach(o=>{s.add(this.getItemId(o))}),s}expandItem(e){this._isExpanded(e)||(this.expandedItems=[...this.expandedItems,e])}collapseItem(e){this._isExpanded(e)&&(this.expandedItems=this.expandedItems.filter(i=>!this._itemsEqual(i,e)))}_getIndexLevel(e){let{cache:i}=this._cache.getCacheAndIndex(e),n=0;for(;i.parentCache;)i=i.parentCache,n+=1;return n}_loadPage(e,i){if(!i.pendingRequests[e]&&this.dataProvider){this._setLoading(!0),i.pendingRequests[e]=!0;const n={page:e,pageSize:this.pageSize,sortOrders:this._mapSorters(),filters:this._mapFilters(),parentItem:i.parentItem};this.dataProvider(n,(s,o)=>{o!==void 0?i.size=o:n.parentItem&&(i.size=s.length);const a=Array.from(this.$.items.children).map(l=>l._item);s.forEach((l,h)=>{const u=e*this.pageSize+h;i.items[u]=l,this._isExpanded(l)&&a.indexOf(l)>-1&&i.ensureSubCacheForScaledIndex(u)}),this._hasData=!0,delete i.pendingRequests[e],this._debouncerApplyCachedData=ye.debounce(this._debouncerApplyCachedData,Be.after(0),()=>{this._setLoading(!1),this._cache.updateSize(),this._effectiveSize=this._cache.effectiveSize,Array.from(this.$.items.children).filter(l=>!l.hidden).forEach(l=>{this._cache.getItemForIndex(l.index)&&this._getItem(l.index,l)}),this.__scrollToPendingIndex()}),this._cache.isLoading()||this._debouncerApplyCachedData.flush(),this.__itemsReceived()})}}_getPageForIndex(e){return Math.floor(e/this.pageSize)}clearCache(){this._cache=new ut(this),this._cache.size=this.size||0,this._cache.updateSize(),this._hasData=!1,this.__updateVisibleRows(),this._effectiveSize||this._loadPage(0,this._cache)}_pageSizeChanged(e,i){i!==void 0&&e!==i&&this.clearCache()}_checkSize(){this.size===void 0&&this._effectiveSize===0&&console.warn("The <vaadin-grid> needs the total number of items in order to display rows. Set the total number of items to the `size` property, or provide the total number of items in the second argument of the `dataProvider`\u2019s `callback` call.")}_dataProviderChanged(e,i){i!==void 0&&this.clearCache(),this._ensureFirstPageLoaded(),this._debouncerCheckSize=ye.debounce(this._debouncerCheckSize,Be.after(2e3),this._checkSize.bind(this))}_ensureFirstPageLoaded(){this._hasData||this._loadPage(0,this._cache)}_itemsEqual(e,i){return this.getItemId(e)===this.getItemId(i)}_getItemIndexInArray(e,i){let n=-1;return i.forEach((s,o)=>{this._itemsEqual(s,e)&&(n=o)}),n}scrollToIndex(e){super.scrollToIndex(e),!isNaN(e)&&(this._cache.isLoading()||!this.clientHeight)&&(this.__pendingScrollToIndex=e)}__scrollToPendingIndex(){if(this.__pendingScrollToIndex&&this.$.items.children.length){const e=this.__pendingScrollToIndex;delete this.__pendingScrollToIndex,this.scrollToIndex(e)}}};/**
 * @license
 * Copyright (c) 2016 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const ln={BETWEEN:"between",ON_TOP:"on-top",ON_TOP_OR_BETWEEN:"on-top-or-between",ON_GRID:"on-grid"},ei={ON_TOP:"on-top",ABOVE:"above",BELOW:"below",EMPTY:"empty"},s0=!("draggable"in document.createElement("div")),o0=r=>class extends r{static get properties(){return{dropMode:String,rowsDraggable:Boolean,dragFilter:Function,dropFilter:Function,__dndAutoScrollThreshold:{value:50}}}static get observers(){return["_dragDropAccessChanged(rowsDraggable, dropMode, dragFilter, dropFilter, loading)"]}ready(){super.ready(),this.$.table.addEventListener("dragstart",this._onDragStart.bind(this)),this.$.table.addEventListener("dragend",this._onDragEnd.bind(this)),this.$.table.addEventListener("dragover",this._onDragOver.bind(this)),this.$.table.addEventListener("dragleave",this._onDragLeave.bind(this)),this.$.table.addEventListener("drop",this._onDrop.bind(this)),this.$.table.addEventListener("dragenter",e=>{this.dropMode&&(e.preventDefault(),e.stopPropagation())})}_onDragStart(e){if(this.rowsDraggable){let i=e.target;if(i.localName==="vaadin-grid-cell-content"&&(i=i.assignedSlot.parentNode.parentNode),i.parentNode!==this.$.items)return;if(e.stopPropagation(),this.toggleAttribute("dragging-rows",!0),this._safari){const a=i.style.transform;i.style.top=/translateY\((.*)\)/.exec(a)[1],i.style.transform="none",requestAnimationFrame(()=>{i.style.top="",i.style.transform=a})}const n=i.getBoundingClientRect();s0?e.dataTransfer.setDragImage(i):e.dataTransfer.setDragImage(i,e.clientX-n.left,e.clientY-n.top);let s=[i];this._isSelected(i._item)&&(s=this.__getViewportRows().filter(a=>this._isSelected(a._item)).filter(a=>!this.dragFilter||this.dragFilter(this.__getRowModel(a)))),e.dataTransfer.setData("text",this.__formatDefaultTransferData(s)),i.setAttribute("dragstart",s.length>1?s.length:""),this.style.setProperty("--_grid-drag-start-x",`${e.clientX-n.left+20}px`),this.style.setProperty("--_grid-drag-start-y",`${e.clientY-n.top+10}px`),requestAnimationFrame(()=>{i.removeAttribute("dragstart"),this.updateStyles({"--_grid-drag-start-x":"","--_grid-drag-start-y":""})});const o=new CustomEvent("grid-dragstart",{detail:{draggedItems:s.map(a=>a._item),setDragData:(a,l)=>e.dataTransfer.setData(a,l),setDraggedItemsCount:a=>i.setAttribute("dragstart",a)}});o.originalEvent=e,this.dispatchEvent(o)}}_onDragEnd(e){this.toggleAttribute("dragging-rows",!1),e.stopPropagation();const i=new CustomEvent("grid-dragend");i.originalEvent=e,this.dispatchEvent(i)}_onDragLeave(e){e.stopPropagation(),this._clearDragStyles()}_onDragOver(e){if(this.dropMode){if(this._dropLocation=void 0,this._dragOverItem=void 0,this.__dndAutoScroll(e.clientY)){this._clearDragStyles();return}let i=e.composedPath().find(n=>n.localName==="tr");if(!this._effectiveSize||this.dropMode===ln.ON_GRID)this._dropLocation=ei.EMPTY;else if(!i||i.parentNode!==this.$.items){if(i)return;if(this.dropMode===ln.BETWEEN||this.dropMode===ln.ON_TOP_OR_BETWEEN)i=Array.from(this.$.items.children).filter(n=>!n.hidden).pop(),this._dropLocation=ei.BELOW;else return}else{const n=i.getBoundingClientRect();if(this._dropLocation=ei.ON_TOP,this.dropMode===ln.BETWEEN){const s=e.clientY-n.top<n.bottom-e.clientY;this._dropLocation=s?ei.ABOVE:ei.BELOW}else this.dropMode===ln.ON_TOP_OR_BETWEEN&&(e.clientY-n.top<n.height/3?this._dropLocation=ei.ABOVE:e.clientY-n.top>n.height/3*2&&(this._dropLocation=ei.BELOW))}if(i&&i.hasAttribute("drop-disabled")){this._dropLocation=void 0;return}e.stopPropagation(),e.preventDefault(),this._dropLocation===ei.EMPTY?this.toggleAttribute("dragover",!0):i?(this._dragOverItem=i._item,i.getAttribute("dragover")!==this._dropLocation&&i.setAttribute("dragover",this._dropLocation)):this._clearDragStyles()}}__dndAutoScroll(e){if(this.__dndAutoScrolling)return!0;const i=this.$.header.getBoundingClientRect().bottom,n=this.$.footer.getBoundingClientRect().top,s=i-e+this.__dndAutoScrollThreshold,o=e-n+this.__dndAutoScrollThreshold;let a=0;if(o>0?a=o*2:s>0&&(a=-s*2),a){const l=this.$.table.scrollTop;if(this.$.table.scrollTop+=a,l!==this.$.table.scrollTop)return this.__dndAutoScrolling=!0,setTimeout(()=>{this.__dndAutoScrolling=!1},20),!0}}__getViewportRows(){const e=this.$.header.getBoundingClientRect().bottom,i=this.$.footer.getBoundingClientRect().top;return Array.from(this.$.items.children).filter(n=>{const s=n.getBoundingClientRect();return s.bottom>e&&s.top<i})}_clearDragStyles(){this.removeAttribute("dragover"),Array.from(this.$.items.children).forEach(e=>e.removeAttribute("dragover"))}_onDrop(e){if(this.dropMode){e.stopPropagation(),e.preventDefault();const i=e.dataTransfer.types&&Array.from(e.dataTransfer.types).map(s=>({type:s,data:e.dataTransfer.getData(s)}));this._clearDragStyles();const n=new CustomEvent("grid-drop",{bubbles:e.bubbles,cancelable:e.cancelable,detail:{dropTargetItem:this._dragOverItem,dropLocation:this._dropLocation,dragData:i}});n.originalEvent=e,this.dispatchEvent(n)}}__formatDefaultTransferData(e){return e.map(i=>Array.from(i.children).filter(n=>!n.hidden&&n.getAttribute("part").indexOf("details-cell")===-1).sort((n,s)=>n._column._order>s._column._order?1:-1).map(n=>n._content.textContent.trim()).filter(n=>n).join("	")).join(`
`)}_dragDropAccessChanged(){this.filterDragAndDrop()}filterDragAndDrop(){Array.from(this.$.items.children).filter(e=>!e.hidden).forEach(e=>{this._filterDragAndDrop(e,this.__getRowModel(e))})}_filterDragAndDrop(e,i){const n=this.loading||e.hasAttribute("loading"),s=!this.rowsDraggable||n||this.dragFilter&&!this.dragFilter(i),o=!this.dropMode||n||this.dropFilter&&!this.dropFilter(i);Array.from(e.children).map(l=>l._content).forEach(l=>{s?l.removeAttribute("draggable"):l.setAttribute("draggable",!0)}),e.toggleAttribute("drag-disabled",!!s),e.toggleAttribute("drop-disabled",!!o)}};/**
 * @license
 * Copyright (c) 2016 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */function iv(r,t){if(!r||!t||r.length!==t.length)return!1;for(let e=0,i=r.length;e<i;e++)if(r[e]instanceof Array&&t[e]instanceof Array){if(!iv(r[e],t[e]))return!1}else if(r[e]!==t[e])return!1;return!0}const a0=r=>class extends r{static get properties(){return{_columnTree:Object}}ready(){super.ready(),this._addNodeObserver()}_hasColumnGroups(e){for(let i=0;i<e.length;i++)if(e[i].localName==="vaadin-grid-column-group")return!0;return!1}_getChildColumns(e){return Ce.getFlattenedNodes(e).filter(this._isColumnElement)}_flattenColumnGroups(e){return e.map(i=>i.localName==="vaadin-grid-column-group"?this._getChildColumns(i):[i]).reduce((i,n)=>i.concat(n),[])}_getColumnTree(){const e=Ce.getFlattenedNodes(this).filter(this._isColumnElement),i=[e];let n=e;for(;this._hasColumnGroups(n);)n=this._flattenColumnGroups(n),i.push(n);return i}_updateColumnTree(){const e=this._getColumnTree();iv(e,this._columnTree)||(this._columnTree=e)}_addNodeObserver(){this._observer=new Ce(this,e=>{const i=n=>n.filter(this._isColumnElement).length>0;if(i(e.addedNodes)||i(e.removedNodes)){const n=e.removedNodes.flatMap(o=>o._allCells),s=o=>n.filter(a=>a._content.contains(o)).length;this.__removeSorters(this._sorters.filter(s)),this.__removeFilters(this._filters.filter(s)),this._updateColumnTree()}this._debouncerCheckImports=ye.debounce(this._debouncerCheckImports,Be.after(2e3),this._checkImports.bind(this)),this._ensureFirstPageLoaded()})}_checkImports(){["vaadin-grid-column-group","vaadin-grid-filter","vaadin-grid-filter-column","vaadin-grid-tree-toggle","vaadin-grid-selection-column","vaadin-grid-sort-column","vaadin-grid-sorter"].forEach(e=>{const i=this.querySelector(e);i&&!(i instanceof W)&&console.warn(`Make sure you have imported the required module for <${e}> element.`)})}_updateFirstAndLastColumn(){Array.from(this.shadowRoot.querySelectorAll("tr")).forEach(e=>this._updateFirstAndLastColumnForRow(e))}_updateFirstAndLastColumnForRow(e){Array.from(e.querySelectorAll('[part~="cell"]:not([part~="details-cell"])')).sort((i,n)=>i._column._order-n._column._order).forEach((i,n,s)=>{i.toggleAttribute("first-column",n===0),i.toggleAttribute("last-column",n===s.length-1)})}_isColumnElement(e){return e.nodeType===Node.ELEMENT_NODE&&/\bcolumn\b/.test(e.localName)}};/**
 * @license
 * Copyright (c) 2016 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const l0=r=>class extends r{getEventContext(e){const i={},n=e.__composedPath||e.composedPath(),s=n[n.indexOf(this.$.table)-3];return s&&(i.section=["body","header","footer","details"].find(o=>s.getAttribute("part").indexOf(o)>-1),s._column&&(i.column=s._column),(i.section==="body"||i.section==="details")&&Object.assign(i,this.__getRowModel(s.parentElement))),i}};/**
 * @license
 * Copyright (c) 2016 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const h0=r=>class extends r{static get properties(){return{_filters:{type:Array,value:()=>[]}}}ready(){super.ready(),this.addEventListener("filter-changed",this._filterChanged.bind(this))}_filterChanged(e){e.stopPropagation(),this.__addFilter(e.target),this.__applyFilters()}__removeFilters(e){e.length!==0&&(this._filters=this._filters.filter(i=>e.indexOf(i)<0),this.__applyFilters())}__addFilter(e){this._filters.indexOf(e)===-1&&this._filters.push(e)}__applyFilters(){this.dataProvider&&this.isAttached&&this.clearCache()}_mapFilters(){return this._filters.map(e=>({path:e.path,value:e.value}))}};/**
 * @license
 * Copyright (c) 2016 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const u0=r=>class extends r{static get properties(){return{_headerFocusable:{type:Object,observer:"_focusableChanged"},_itemsFocusable:{type:Object,observer:"_focusableChanged"},_footerFocusable:{type:Object,observer:"_focusableChanged"},_navigatingIsHidden:Boolean,_focusedItemIndex:{type:Number,value:0},_focusedColumnOrder:Number,_focusedCell:{type:Object,observer:"_focusedCellChanged"},interacting:{type:Boolean,value:!1,reflectToAttribute:!0,readOnly:!0,observer:"_interactingChanged"}}}ready(){super.ready(),!(this._ios||this._android)&&(this.addEventListener("keydown",this._onKeyDown),this.addEventListener("keyup",this._onKeyUp),this.addEventListener("focusin",this._onFocusIn),this.addEventListener("focusout",this._onFocusOut),this.$.table.addEventListener("focusin",this._onContentFocusIn.bind(this)),this.addEventListener("mousedown",()=>{this.toggleAttribute("navigating",!1),this._isMousedown=!0,this._focusedColumnOrder=void 0}),this.addEventListener("mouseup",()=>{this._isMousedown=!1}))}get __rowFocusMode(){return this.__isRow(this._itemsFocusable)||this.__isRow(this._headerFocusable)||this.__isRow(this._footerFocusable)}set __rowFocusMode(e){["_itemsFocusable","_footerFocusable","_headerFocusable"].forEach(i=>{const n=this[i];if(e){const s=n&&n.parentElement;this.__isCell(n)?this[i]=s:this.__isCell(s)&&(this[i]=s.parentElement)}else if(!e&&this.__isRow(n)){const s=n.firstElementChild;this[i]=s._focusButton||s}})}_focusableChanged(e,i){i&&i.setAttribute("tabindex","-1"),e&&this._updateGridSectionFocusTarget(e)}_focusedCellChanged(e,i){i&&Dm(i,"part","focused-cell"),e&&Lm(e,"part","focused-cell")}_interactingChanged(){this._updateGridSectionFocusTarget(this._headerFocusable),this._updateGridSectionFocusTarget(this._itemsFocusable),this._updateGridSectionFocusTarget(this._footerFocusable)}__updateItemsFocusable(){if(!this._itemsFocusable)return;const e=this.shadowRoot.activeElement===this._itemsFocusable;this._getVisibleRows().forEach(i=>{if(i.index===this._focusedItemIndex)if(this.__rowFocusMode)this._itemsFocusable=i;else{let n=this._itemsFocusable.parentElement,s=this._itemsFocusable;if(n){this.__isCell(n)&&(s=n,n=n.parentElement);const o=[...n.children].indexOf(s);this._itemsFocusable=this.__getFocusable(i,i.children[o])}}}),e&&this._itemsFocusable.focus()}_onKeyDown(e){const i=e.key;let n;switch(i){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"PageUp":case"PageDown":case"Home":case"End":n="Navigation";break;case"Enter":case"Escape":case"F2":n="Interaction";break;case"Tab":n="Tab";break;case" ":n="Space";break}this._detectInteracting(e),this.interacting&&n!=="Interaction"&&(n=void 0),n&&this[`_on${n}KeyDown`](e,i)}_ensureScrolledToIndex(e){[...this.$.items.children].find(n=>n.index===e)?this.__scrollIntoViewport(e):this.scrollToIndex(e)}__isRowExpandable(e){if(this.itemHasChildrenPath){const i=e._item;return i&&this.get(this.itemHasChildrenPath,i)&&!this._isExpanded(i)}}__isRowCollapsible(e){return this._isExpanded(e._item)}__isDetailsCell(e){return e.matches('[part~="details-cell"]')}__isCell(e){return e instanceof HTMLTableCellElement}__isRow(e){return e instanceof HTMLTableRowElement}__getIndexOfChildElement(e){return Array.prototype.indexOf.call(e.parentNode.children,e)}_onNavigationKeyDown(e,i){e.preventDefault();const n=this._lastVisibleIndex-this._firstVisibleIndex-1;let s=0,o=0;switch(i){case"ArrowRight":s=this.__isRTL?-1:1;break;case"ArrowLeft":s=this.__isRTL?1:-1;break;case"Home":this.__rowFocusMode||e.ctrlKey?o=-1/0:s=-1/0;break;case"End":this.__rowFocusMode||e.ctrlKey?o=1/0:s=1/0;break;case"ArrowDown":o=1;break;case"ArrowUp":o=-1;break;case"PageDown":o=n;break;case"PageUp":o=-n;break}const a=e.composedPath().find(c=>this.__isRow(c)),l=e.composedPath().find(c=>this.__isCell(c));if(this.__rowFocusMode&&!a||!this.__rowFocusMode&&!l)return;const h=this.__isRTL?"ArrowLeft":"ArrowRight",u=this.__isRTL?"ArrowRight":"ArrowLeft";if(i===h){if(this.__rowFocusMode){if(this.__isRowExpandable(a)){this.expandItem(a._item);return}this.__rowFocusMode=!1,this._onCellNavigation(a.firstElementChild,0,0);return}}else if(i===u)if(this.__rowFocusMode){if(this.__isRowCollapsible(a)){this.collapseItem(a._item);return}}else{const c=[...a.children].sort((d,f)=>d._order-f._order);if(l===c[0]||this.__isDetailsCell(l)){this.__rowFocusMode=!0,this._onRowNavigation(a,0);return}}this.__rowFocusMode?this._onRowNavigation(a,o):this._onCellNavigation(l,s,o)}_onRowNavigation(e,i){const{dstRow:n}=this.__navigateRows(i,e);n&&n.focus()}__getIndexInGroup(e,i){return e.parentNode===this.$.items?i!==void 0?i:e.index:this.__getIndexOfChildElement(e)}__navigateRows(e,i,n){const s=this.__getIndexInGroup(i,this._focusedItemIndex),o=i.parentNode,a=(o===this.$.items?this._effectiveSize:o.children.length)-1;let l=Math.max(0,Math.min(s+e,a));if(o!==this.$.items){if(l>s)for(;l<a&&o.children[l].hidden;)l+=1;else if(l<s)for(;l>0&&o.children[l].hidden;)l-=1;return this.toggleAttribute("navigating",!0),{dstRow:o.children[l]}}let h=!1;if(n){const u=this.__isDetailsCell(n);if(o===this.$.items){const c=i._item,d=this._cache.getItemForIndex(l);u?h=e===0:h=e===1&&this._isDetailsOpened(c)||e===-1&&l!==s&&this._isDetailsOpened(d),h!==u&&(e===1&&h||e===-1&&!h)&&(l=s)}}return this._ensureScrolledToIndex(l),this._focusedItemIndex=l,this.toggleAttribute("navigating",!0),{dstRow:[...o.children].find(u=>!u.hidden&&u.index===l),dstIsRowDetails:h}}_onCellNavigation(e,i,n){const s=e.parentNode,{dstRow:o,dstIsRowDetails:a}=this.__navigateRows(n,s,e);if(!o)return;const l=this.__getIndexOfChildElement(e),h=this.__isDetailsCell(e),u=s.parentNode,c=this.__getIndexInGroup(s,this._focusedItemIndex);if(this._focusedColumnOrder===void 0&&(h?this._focusedColumnOrder=0:this._focusedColumnOrder=this._getColumns(u,c).filter(d=>!d.hidden)[l]._order),a)[...o.children].find(f=>this.__isDetailsCell(f)).focus();else{const d=this.__getIndexInGroup(o,this._focusedItemIndex),f=this._getColumns(u,d).filter(E=>!E.hidden),p=f.map(E=>E._order).sort((E,I)=>E-I),_=p.length-1,m=p.indexOf(p.slice(0).sort((E,I)=>Math.abs(E-this._focusedColumnOrder)-Math.abs(I-this._focusedColumnOrder))[0]),g=n===0&&h?m:Math.max(0,Math.min(m+i,_));g!==m&&(this._focusedColumnOrder=void 0);const b=f.reduce((E,I,M)=>(E[I._order]=M,E),{})[p[g]],C=o.children[b];this._scrollHorizontallyToCell(C),C.focus()}}_onInteractionKeyDown(e,i){const n=e.composedPath()[0],s=n.localName==="input"&&!/^(button|checkbox|color|file|image|radio|range|reset|submit)$/i.test(n.type);let o;switch(i){case"Enter":o=this.interacting?!s:!0;break;case"Escape":o=!1;break;case"F2":o=!this.interacting;break}const{cell:a}=this._getGridEventLocation(e);if(this.interacting!==o&&a!==null)if(o){const l=a._content.querySelector("[focus-target]")||[...a._content.querySelectorAll("*")].find(h=>this._isFocusable(h));l&&(e.preventDefault(),l.focus(),this._setInteracting(!0),this.toggleAttribute("navigating",!1))}else e.preventDefault(),this._focusedColumnOrder=void 0,a.focus(),this._setInteracting(!1),this.toggleAttribute("navigating",!0);i==="Escape"&&this._hideTooltip(!0)}_predictFocusStepTarget(e,i){const n=[this.$.table,this._headerFocusable,this._itemsFocusable,this._footerFocusable,this.$.focusexit];let s=n.indexOf(e);for(s+=i;s>=0&&s<=n.length-1;){let o=n[s];if(o&&!this.__rowFocusMode&&(o=n[s].parentNode),!o||o.hidden)s+=i;else break}return n[s]}_onTabKeyDown(e){const i=this._predictFocusStepTarget(e.composedPath()[0],e.shiftKey?-1:1);if(!!i){if(e.stopPropagation(),i===this.$.table)this.$.table.focus();else if(i===this.$.focusexit)this.$.focusexit.focus();else if(i===this._itemsFocusable){let n=i;const s=this.__isRow(i)?i:i.parentNode;if(this._ensureScrolledToIndex(this._focusedItemIndex),s.index!==this._focusedItemIndex&&this.__isCell(i)){const o=Array.from(s.children).indexOf(this._itemsFocusable),a=Array.from(this.$.items.children).find(l=>!l.hidden&&l.index===this._focusedItemIndex);a&&(n=a.children[o])}e.preventDefault(),n.focus()}else e.preventDefault(),i.focus();this.toggleAttribute("navigating",!0)}}_onSpaceKeyDown(e){e.preventDefault();const i=e.composedPath()[0],n=this.__isRow(i);(n||!i._content||!i._content.firstElementChild)&&this.dispatchEvent(new CustomEvent(n?"row-activate":"cell-activate",{detail:{model:this.__getRowModel(n?i:i.parentElement)}}))}_onKeyUp(e){if(!/^( |SpaceBar)$/.test(e.key)||this.interacting)return;e.preventDefault();const i=e.composedPath()[0];if(i._content&&i._content.firstElementChild){const n=this.hasAttribute("navigating");i._content.firstElementChild.dispatchEvent(new MouseEvent("click",{shiftKey:e.shiftKey,bubbles:!0,composed:!0,cancelable:!0})),this.toggleAttribute("navigating",n)}}_onFocusIn(e){this._isMousedown||this.toggleAttribute("navigating",!0);const i=e.composedPath()[0];i===this.$.table||i===this.$.focusexit?(this._predictFocusStepTarget(i,i===this.$.table?1:-1).focus(),this._setInteracting(!1)):this._detectInteracting(e)}_onFocusOut(e){this.toggleAttribute("navigating",!1),this._detectInteracting(e),this._hideTooltip(),this._focusedCell=null}_onContentFocusIn(e){const{section:i,cell:n,row:s}=this._getGridEventLocation(e);if(!(!n&&!this.__rowFocusMode)){if(this._detectInteracting(e),i&&(n||s))if(this._activeRowGroup=i,this.$.header===i?this._headerFocusable=this.__getFocusable(s,n):this.$.items===i?this._itemsFocusable=this.__getFocusable(s,n):this.$.footer===i&&(this._footerFocusable=this.__getFocusable(s,n)),n){const o=this.getEventContext(e);n.dispatchEvent(new CustomEvent("cell-focus",{bubbles:!0,composed:!0,detail:{context:o}})),this._focusedCell=n._focusButton||n,Fm()&&e.target===n&&this._showTooltip(e)}else this._focusedCell=null;this._detectFocusedItemIndex(e)}}__getFocusable(e,i){return this.__rowFocusMode?e:i._focusButton||i}_detectInteracting(e){const i=e.composedPath().some(n=>n.localName==="vaadin-grid-cell-content");this._setInteracting(i),this.__updateHorizontalScrollPosition()}_detectFocusedItemIndex(e){const{section:i,row:n}=this._getGridEventLocation(e);i===this.$.items&&(this._focusedItemIndex=n.index)}_updateGridSectionFocusTarget(e){if(!e)return;const i=this._getGridSectionFromFocusTarget(e),n=this.interacting&&i===this._activeRowGroup;e.tabIndex=n?-1:0}_preventScrollerRotatingCellFocus(e,i){e.index===this._focusedItemIndex&&this.hasAttribute("navigating")&&this._activeRowGroup===this.$.items&&(this._navigatingIsHidden=!0,this.toggleAttribute("navigating",!1)),i===this._focusedItemIndex&&this._navigatingIsHidden&&(this._navigatingIsHidden=!1,this.toggleAttribute("navigating",!0))}_getColumns(e,i){let n=this._columnTree.length-1;return e===this.$.header?n=i:e===this.$.footer&&(n=this._columnTree.length-1-i),this._columnTree[n]}__isValidFocusable(e){return this.$.table.contains(e)&&e.offsetHeight}_resetKeyboardNavigation(){if(["header","footer"].forEach(e=>{if(!this.__isValidFocusable(this[`_${e}Focusable`])){const i=[...this.$[e].children].find(s=>s.offsetHeight),n=i?[...i.children].find(s=>!s.hidden):null;i&&n&&(this[`_${e}Focusable`]=this.__getFocusable(i,n))}}),!this.__isValidFocusable(this._itemsFocusable)&&this.$.items.firstElementChild){const e=this.__getFirstVisibleItem(),i=e?[...e.children].find(n=>!n.hidden):null;i&&e&&(delete this._focusedColumnOrder,this._itemsFocusable=this.__getFocusable(e,i))}else this.__updateItemsFocusable()}_scrollHorizontallyToCell(e){if(e.hasAttribute("frozen")||e.hasAttribute("frozen-to-end")||this.__isDetailsCell(e))return;const i=e.getBoundingClientRect(),n=e.parentNode,s=Array.from(n.children).indexOf(e),o=this.$.table.getBoundingClientRect();let a=o.left,l=o.right;for(let h=s-1;h>=0;h--){const u=n.children[h];if(!(u.hasAttribute("hidden")||this.__isDetailsCell(u))&&(u.hasAttribute("frozen")||u.hasAttribute("frozen-to-end"))){a=u.getBoundingClientRect().right;break}}for(let h=s+1;h<n.children.length;h++){const u=n.children[h];if(!(u.hasAttribute("hidden")||this.__isDetailsCell(u))&&(u.hasAttribute("frozen")||u.hasAttribute("frozen-to-end"))){l=u.getBoundingClientRect().left;break}}i.left<a&&(this.$.table.scrollLeft+=Math.round(i.left-a)),i.right>l&&(this.$.table.scrollLeft+=Math.round(i.right-l))}_getGridEventLocation(e){const i=e.composedPath(),n=i.indexOf(this.$.table),s=n>=1?i[n-1]:null,o=n>=2?i[n-2]:null,a=n>=3?i[n-3]:null;return{section:s,row:o,cell:a}}_getGridSectionFromFocusTarget(e){return e===this._headerFocusable?this.$.header:e===this._itemsFocusable?this.$.items:e===this._footerFocusable?this.$.footer:null}};/**
 * @license
 * Copyright (c) 2016 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const c0=r=>class extends r{static get properties(){return{detailsOpenedItems:{type:Array,value:()=>[]},rowDetailsRenderer:Function,_detailsCells:{type:Array}}}static get observers(){return["_detailsOpenedItemsChanged(detailsOpenedItems.*, rowDetailsRenderer)","_rowDetailsRendererChanged(rowDetailsRenderer)"]}ready(){super.ready(),this._detailsCellResizeObserver=new ResizeObserver(e=>{e.forEach(({target:i})=>{this._updateDetailsCellHeight(i.parentElement)}),this.__virtualizer.__adapter._resizeHandler()})}_rowDetailsRendererChanged(e){!e||this._columnTree&&Array.from(this.$.items.children).forEach(i=>{if(!i.querySelector("[part~=details-cell]")){this._updateRow(i,this._columnTree[this._columnTree.length-1]);const n=this._isDetailsOpened(i._item);this._toggleDetailsCell(i,n)}})}_detailsOpenedItemsChanged(e,i){e.path==="detailsOpenedItems.length"||!e.value||[...this.$.items.children].forEach(n=>{if(n.hasAttribute("details-opened")){this._updateItem(n,n._item);return}i&&this._isDetailsOpened(n._item)&&this._updateItem(n,n._item)})}_configureDetailsCell(e){e.setAttribute("part","cell details-cell"),e.toggleAttribute("frozen",!0),this._detailsCellResizeObserver.observe(e)}_toggleDetailsCell(e,i){const n=e.querySelector('[part~="details-cell"]');!n||(n.hidden=!i,!n.hidden&&this.rowDetailsRenderer&&(n._renderer=this.rowDetailsRenderer))}_updateDetailsCellHeight(e){const i=e.querySelector('[part~="details-cell"]');!i||(i.hidden?e.style.removeProperty("padding-bottom"):e.style.setProperty("padding-bottom",`${i.offsetHeight}px`))}_updateDetailsCellHeights(){[...this.$.items.children].forEach(e=>{this._updateDetailsCellHeight(e)})}_isDetailsOpened(e){return this.detailsOpenedItems&&this._getItemIndexInArray(e,this.detailsOpenedItems)!==-1}openItemDetails(e){this._isDetailsOpened(e)||(this.detailsOpenedItems=[...this.detailsOpenedItems,e])}closeItemDetails(e){this._isDetailsOpened(e)&&(this.detailsOpenedItems=this.detailsOpenedItems.filter(i=>!this._itemsEqual(i,e)))}};/**
 * @license
 * Copyright (c) 2021 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const Cs=new ResizeObserver(r=>{setTimeout(()=>{r.forEach(t=>{t.target.resizables?t.target.resizables.forEach(e=>{e._onResize(t.contentRect)}):t.target._onResize(t.contentRect)})})}),er=Zi(r=>class extends r{connectedCallback(){if(super.connectedCallback(),Cs.observe(this),this._observeParent){const e=this.parentNode instanceof ShadowRoot?this.parentNode.host:this.parentNode;e.resizables||(e.resizables=new Set,Cs.observe(e)),e.resizables.add(this),this.__parent=e}}disconnectedCallback(){super.disconnectedCallback(),Cs.unobserve(this);const e=this.__parent;if(this._observeParent&&e){const i=e.resizables;i&&(i.delete(this),i.size===0&&Cs.unobserve(e)),this.__parent=null}}get _observeParent(){return!1}_onResize(e){}notifyResize(){console.warn("WARNING: Since Vaadin 23, notifyResize() is deprecated. The component uses a ResizeObserver internally and doesn't need to be explicitly notified of resizes.")}});/**
 * @license
 * Copyright (c) 2016 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const d0={SCROLLING:500},f0=r=>class extends er(r){static get properties(){return{_frozenCells:{type:Array,value:()=>[]},_frozenToEndCells:{type:Array,value:()=>[]},_rowWithFocusedElement:Element}}get _scrollTop(){return this.$.table.scrollTop}set _scrollTop(e){this.$.table.scrollTop=e}get _scrollLeft(){return this.$.table.scrollLeft}ready(){super.ready(),this.scrollTarget=this.$.table,this.$.items.addEventListener("focusin",e=>{const i=e.composedPath().indexOf(this.$.items);this._rowWithFocusedElement=e.composedPath()[i-1]}),this.$.items.addEventListener("focusout",()=>{this._rowWithFocusedElement=void 0}),this.$.table.addEventListener("scroll",()=>this._afterScroll())}_onResize(){this._updateOverflow(),this.__updateHorizontalScrollPosition()}scrollToIndex(e){e=Math.min(this._effectiveSize-1,Math.max(0,e)),this.__virtualizer.scrollToIndex(e),this.__scrollIntoViewport(e)}__scrollIntoViewport(e){const i=[...this.$.items.children].find(n=>n.index===e);if(i){const n=i.getBoundingClientRect(),s=this.$.footer.getBoundingClientRect().top,o=this.$.header.getBoundingClientRect().bottom;n.bottom>s?this.$.table.scrollTop+=n.bottom-s:n.top<o&&(this.$.table.scrollTop-=o-n.top)}}_scheduleScrolling(){this._scrollingFrame||(this._scrollingFrame=requestAnimationFrame(()=>this.$.scroller.toggleAttribute("scrolling",!0))),this._debounceScrolling=ye.debounce(this._debounceScrolling,Be.after(d0.SCROLLING),()=>{cancelAnimationFrame(this._scrollingFrame),delete this._scrollingFrame,this.$.scroller.toggleAttribute("scrolling",!1)})}_afterScroll(){this.__updateHorizontalScrollPosition(),this.hasAttribute("reordering")||this._scheduleScrolling(),this.hasAttribute("navigating")||this._hideTooltip(!0),this._updateOverflow()}_updateOverflow(){let e="";const i=this.$.table;i.scrollTop<i.scrollHeight-i.clientHeight&&(e+=" bottom"),i.scrollTop>0&&(e+=" top");const n=this.__getNormalizedScrollLeft(i);n>0&&(e+=" start"),n<i.scrollWidth-i.clientWidth&&(e+=" end"),this.__isRTL&&(e=e.replace(/start|end/gi,s=>s==="start"?"end":"start")),i.scrollLeft<i.scrollWidth-i.clientWidth&&(e+=" right"),i.scrollLeft>0&&(e+=" left"),this._debounceOverflow=ye.debounce(this._debounceOverflow,bi,()=>{const s=e.trim();s.length>0&&this.getAttribute("overflow")!==s?this.setAttribute("overflow",s):s.length===0&&this.hasAttribute("overflow")&&this.removeAttribute("overflow")})}_frozenCellsChanged(){this._debouncerCacheElements=ye.debounce(this._debouncerCacheElements,ji,()=>{Array.from(this.shadowRoot.querySelectorAll('[part~="cell"]')).forEach(e=>{e.style.transform=""}),this._frozenCells=Array.prototype.slice.call(this.$.table.querySelectorAll("[frozen]")),this._frozenToEndCells=Array.prototype.slice.call(this.$.table.querySelectorAll("[frozen-to-end]")),this.__updateHorizontalScrollPosition()}),this._debounceUpdateFrozenColumn()}_debounceUpdateFrozenColumn(){this.__debounceUpdateFrozenColumn=ye.debounce(this.__debounceUpdateFrozenColumn,ji,()=>this._updateFrozenColumn())}_updateFrozenColumn(){if(!this._columnTree)return;const e=this._columnTree[this._columnTree.length-1].slice(0);e.sort((s,o)=>s._order-o._order);let i,n;for(let s=0;s<e.length;s++){const o=e[s];o._lastFrozen=!1,o._firstFrozenToEnd=!1,n===void 0&&o.frozenToEnd&&!o.hidden&&(n=s),o.frozen&&!o.hidden&&(i=s)}i!==void 0&&(e[i]._lastFrozen=!0),n!==void 0&&(e[n]._firstFrozenToEnd=!0)}__updateHorizontalScrollPosition(){const e=this.$.table.scrollWidth,i=this.$.table.clientWidth,n=Math.max(0,this.$.table.scrollLeft),s=this.__getNormalizedScrollLeft(this.$.table),o=`translate(${-n}px, 0)`;this.$.header.style.transform=o,this.$.footer.style.transform=o,this.$.items.style.transform=o;const a=this.__isRTL?s+i-e:n,l=`translate(${a}px, 0)`;for(let c=0;c<this._frozenCells.length;c++)this._frozenCells[c].style.transform=l;const u=`translate(${this.__isRTL?s:n+i-e}px, 0)`;for(let c=0;c<this._frozenToEndCells.length;c++)this._frozenToEndCells[c].style.transform=u;this.hasAttribute("navigating")&&this.__rowFocusMode&&this.$.table.style.setProperty("--_grid-horizontal-scroll-position",`${-a}px`)}};/**
 * @license
 * Copyright (c) 2016 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const p0=r=>class extends r{static get properties(){return{selectedItems:{type:Object,notify:!0,value:()=>[]},__selectedKeys:{type:Object,computed:"__computeSelectedKeys(itemIdPath, selectedItems.*)"}}}static get observers(){return["__selectedItemsChanged(itemIdPath, selectedItems.*)"]}_isSelected(e){return this.__selectedKeys.has(this.getItemId(e))}selectItem(e){this._isSelected(e)||(this.selectedItems=[...this.selectedItems,e])}deselectItem(e){this._isSelected(e)&&(this.selectedItems=this.selectedItems.filter(i=>!this._itemsEqual(i,e)))}_toggleItem(e){this._isSelected(e)?this.deselectItem(e):this.selectItem(e)}__selectedItemsChanged(){this.requestContentUpdate()}__computeSelectedKeys(e,i){const n=i.base||[],s=new Set;return n.forEach(o=>{s.add(this.getItemId(o))}),s}};/**
 * @license
 * Copyright (c) 2016 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */let hd="prepend";const _0=r=>class extends r{static get properties(){return{multiSort:{type:Boolean,value:!1},multiSortPriority:{type:String,value:()=>hd},multiSortOnShiftClick:{type:Boolean,value:!1},_sorters:{type:Array,value:()=>[]},_previousSorters:{type:Array,value:()=>[]}}}static setDefaultMultiSortPriority(e){hd=["append","prepend"].includes(e)?e:"prepend"}ready(){super.ready(),this.addEventListener("sorter-changed",this._onSorterChanged)}_onSorterChanged(e){const i=e.target;e.stopPropagation(),i._grid=this,this.__updateSorter(i,e.detail.shiftClick,e.detail.fromSorterClick),this.__applySorters()}__removeSorters(e){e.length!==0&&(this._sorters=this._sorters.filter(i=>e.indexOf(i)<0),this.multiSort&&this.__updateSortOrders(),this.__applySorters())}__updateSortOrders(){this._sorters.forEach((e,i)=>{e._order=this._sorters.length>1?i:null})}__appendSorter(e){e.direction?this._sorters.includes(e)||this._sorters.push(e):this._removeArrayItem(this._sorters,e),this.__updateSortOrders()}__prependSorter(e){this._removeArrayItem(this._sorters,e),e.direction&&this._sorters.unshift(e),this.__updateSortOrders()}__updateSorter(e,i,n){if(!(!e.direction&&this._sorters.indexOf(e)===-1)){if(e._order=null,this.multiSort&&(!this.multiSortOnShiftClick||!n)||this.multiSortOnShiftClick&&i)this.multiSortPriority==="append"?this.__appendSorter(e):this.__prependSorter(e);else if(e.direction||this.multiSortOnShiftClick){const s=this._sorters.filter(o=>o!==e);this._sorters=e.direction?[e]:[],s.forEach(o=>{o._order=null,o.direction=null})}}}__applySorters(){this.dataProvider&&this.isAttached&&JSON.stringify(this._previousSorters)!==JSON.stringify(this._mapSorters())&&this.clearCache(),this._a11yUpdateSorters(),this._previousSorters=this._mapSorters()}_mapSorters(){return this._sorters.map(e=>({path:e.path,direction:e.direction}))}_removeArrayItem(e,i){const n=e.indexOf(i);n>-1&&e.splice(n,1)}};/**
 * @license
 * Copyright (c) 2016 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const m0=r=>class extends r{static get properties(){return{cellClassNameGenerator:Function}}static get observers(){return["__cellClassNameGeneratorChanged(cellClassNameGenerator)"]}__cellClassNameGeneratorChanged(){this.generateCellClassNames()}generateCellClassNames(){Array.from(this.$.items.children).filter(e=>!e.hidden&&!e.hasAttribute("loading")).forEach(e=>this._generateCellClassNames(e,this.__getRowModel(e)))}_generateCellClassNames(e,i){Array.from(e.children).forEach(n=>{if(n.__generatedClasses&&n.__generatedClasses.forEach(s=>n.classList.remove(s)),this.cellClassNameGenerator){const s=this.cellClassNameGenerator(n._column,i);n.__generatedClasses=s&&s.split(" ").filter(o=>o.length>0),n.__generatedClasses&&n.__generatedClasses.forEach(o=>n.classList.add(o))}})}};/**
 * @license
 * Copyright (c) 2016 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class Sn extends re(j(n0(t0(a0(Zb(f0(p0(_0(c0(u0(Kb(h0(i0(r0(He(l0(o0(m0(yb(W)))))))))))))))))))){static get template(){return H`
      <div
        id="scroller"
        safari$="[[_safari]]"
        ios$="[[_ios]]"
        loading$="[[loading]]"
        column-reordering-allowed$="[[columnReorderingAllowed]]"
      >
        <table id="table" role="treegrid" aria-multiselectable="true" tabindex="0">
          <caption id="sizer" part="row"></caption>
          <thead id="header" role="rowgroup"></thead>
          <tbody id="items" role="rowgroup"></tbody>
          <tfoot id="footer" role="rowgroup"></tfoot>
        </table>

        <div part="reorder-ghost"></div>
      </div>

      <slot name="tooltip"></slot>

      <div id="focusexit" tabindex="0"></div>
    `}static get is(){return"vaadin-grid"}static get observers(){return["_columnTreeChanged(_columnTree, _columnTree.*)","_effectiveSizeChanged(_effectiveSize, __virtualizer, _hasData, _columnTree)"]}static get properties(){return{_safari:{type:Boolean,value:km},_ios:{type:Boolean,value:Ln},_firefox:{type:Boolean,value:$m},_android:{type:Boolean,value:td},_touchDevice:{type:Boolean,value:wi},allRowsVisible:{type:Boolean,value:!1,reflectToAttribute:!0},_recalculateColumnWidthOnceLoadingFinished:{type:Boolean,value:!0},isAttached:{value:!1},__gridElement:{type:Boolean,value:!0}}}constructor(){super(),this.addEventListener("animationend",this._onAnimationEnd)}connectedCallback(){super.connectedCallback(),this.isAttached=!0,this.recalculateColumnWidths()}disconnectedCallback(){super.disconnectedCallback(),this.isAttached=!1,this._hideTooltip(!0)}__getFirstVisibleItem(){return this._getVisibleRows().find(t=>this._isInViewport(t))}get _firstVisibleIndex(){const t=this.__getFirstVisibleItem();return t?t.index:void 0}__getLastVisibleItem(){return this._getVisibleRows().reverse().find(t=>this._isInViewport(t))}get _lastVisibleIndex(){const t=this.__getLastVisibleItem();return t?t.index:void 0}_isInViewport(t){const e=this.$.table.getBoundingClientRect(),i=t.getBoundingClientRect(),n=this.$.header.getBoundingClientRect().height,s=this.$.footer.getBoundingClientRect().height;return i.bottom>e.top+n&&i.top<e.bottom-s}_getVisibleRows(){return Array.from(this.$.items.children).filter(t=>!t.hidden).sort((t,e)=>t.index-e.index)}ready(){super.ready(),this.__virtualizer=new tc({createElements:this._createScrollerRows.bind(this),updateElement:this._updateScrollerItem.bind(this),scrollContainer:this.$.items,scrollTarget:this.$.table,reorderElements:!0}),new ResizeObserver(()=>setTimeout(()=>this.__updateFooterPositioning())).observe(this.$.footer),Ii(this),this._tooltipController=new ke(this),this.addController(this._tooltipController),this._tooltipController.setManual(!0)}attributeChangedCallback(t,e,i){super.attributeChangedCallback(t,e,i),t==="dir"&&(this.__isRTL=i==="rtl")}__getBodyCellCoordinates(t){if(this.$.items.contains(t)&&t.localName==="td")return{item:t.parentElement._item,column:t._column}}__focusBodyCell({item:t,column:e}){const i=this._getVisibleRows().find(s=>s._item===t),n=i&&[...i.children].find(s=>s._column===e);n&&n.focus()}_effectiveSizeChanged(t,e,i,n){if(e&&i&&n){const s=this.shadowRoot.activeElement,o=this.__getBodyCellCoordinates(s);e.size=t,e.update(),e.flush(),o&&s.parentElement.hidden&&this.__focusBodyCell(o),this._resetKeyboardNavigation()}}__hasRowsWithClientHeight(){return!!Array.from(this.$.items.children).filter(t=>t.clientHeight).length}__itemsReceived(){this._recalculateColumnWidthOnceLoadingFinished&&!this._cache.isLoading()&&this.__hasRowsWithClientHeight()&&(this._recalculateColumnWidthOnceLoadingFinished=!1,this.recalculateColumnWidths())}__getIntrinsicWidth(t){if(this.__intrinsicWidthCache.has(t))return this.__intrinsicWidthCache.get(t);const e=this.__calculateIntrinsicWidth(t);return this.__intrinsicWidthCache.set(t,e),e}__calculateIntrinsicWidth(t){const e=t.width,i=t.flexGrow;t.width="auto",t.flexGrow=0;const n=t._allCells.filter(s=>!this.$.items.contains(s)||this._isInViewport(s.parentElement)).reduce((s,o)=>Math.max(s,o.offsetWidth+1),0);return t.flexGrow=i,t.width=e,n}__getDistributedWidth(t,e){if(t==null||t===this)return 0;const i=Math.max(this.__getIntrinsicWidth(t),this.__getDistributedWidth(t.parentElement,t));if(!e)return i;const n=t,s=i,o=n._visibleChildColumns.map(u=>this.__getIntrinsicWidth(u)).reduce((u,c)=>u+c,0),a=Math.max(0,s-o),h=this.__getIntrinsicWidth(e)/o*a;return this.__getIntrinsicWidth(e)+h}_recalculateColumnWidths(t){this.__virtualizer.flush(),[...this.$.header.children,...this.$.footer.children].forEach(e=>{e.__debounceUpdateHeaderFooterRowVisibility&&e.__debounceUpdateHeaderFooterRowVisibility.flush()}),this._debouncerHiddenChanged&&this._debouncerHiddenChanged.flush(),this.__intrinsicWidthCache=new Map,t.forEach(e=>{e.width=`${this.__getDistributedWidth(e)}px`})}recalculateColumnWidths(){if(!!this._columnTree)if(this._cache.isLoading())this._recalculateColumnWidthOnceLoadingFinished=!0;else{const t=this._getColumns().filter(e=>!e.hidden&&e.autoWidth);this._recalculateColumnWidths(t)}}_createScrollerRows(t){const e=[];for(let i=0;i<t;i++){const n=document.createElement("tr");n.setAttribute("part","row"),n.setAttribute("role","row"),n.setAttribute("tabindex","-1"),this._columnTree&&this._updateRow(n,this._columnTree[this._columnTree.length-1],"body",!1,!0),e.push(n)}return this._columnTree&&this._columnTree[this._columnTree.length-1].forEach(i=>i.isConnected&&i.notifyPath&&i.notifyPath("_cells.*",i._cells)),Nm(this,()=>{this._updateFirstAndLastColumn(),this._resetKeyboardNavigation(),this._afterScroll(),this.__itemsReceived()}),e}_createCell(t,e){const n=`vaadin-grid-cell-content-${this._contentIndex=this._contentIndex+1||0}`,s=document.createElement("vaadin-grid-cell-content");s.setAttribute("slot",n);const o=document.createElement(t);o.id=n.replace("-content-","-"),o.setAttribute("role",t==="td"?"gridcell":"columnheader"),!td&&!Ln&&(o.addEventListener("mouseenter",l=>{this.$.scroller.hasAttribute("scrolling")||this._showTooltip(l)}),o.addEventListener("mouseleave",()=>{this._hideTooltip()}),o.addEventListener("mousedown",()=>{this._hideTooltip(!0)}));const a=document.createElement("slot");if(a.setAttribute("name",n),e&&e._focusButtonMode){const l=document.createElement("div");l.setAttribute("role","button"),l.setAttribute("tabindex","-1"),o.appendChild(l),o._focusButton=l,o.focus=function(){o._focusButton.focus()},l.appendChild(a)}else o.setAttribute("tabindex","-1"),o.appendChild(a);return o._content=s,s.addEventListener("mousedown",()=>{if(bb){const l=h=>{const u=s.contains(this.getRootNode().activeElement),c=h.composedPath().includes(s);!u&&c&&o.focus(),document.removeEventListener("mouseup",l,!0)};document.addEventListener("mouseup",l,!0)}else setTimeout(()=>{s.contains(this.getRootNode().activeElement)||o.focus()})}),o}_updateRow(t,e,i,n,s){i=i||"body";const o=document.createDocumentFragment();Array.from(t.children).forEach(a=>{a._vacant=!0}),t.innerHTML="",e.filter(a=>!a.hidden).forEach((a,l,h)=>{let u;if(i==="body"){if(a._cells=a._cells||[],u=a._cells.find(c=>c._vacant),u||(u=this._createCell("td",a),a._cells.push(u)),u.setAttribute("part","cell body-cell"),t.appendChild(u),l===h.length-1&&this.rowDetailsRenderer){this._detailsCells=this._detailsCells||[];const c=this._detailsCells.find(d=>d._vacant)||this._createCell("td");this._detailsCells.indexOf(c)===-1&&this._detailsCells.push(c),c._content.parentElement||o.appendChild(c._content),this._configureDetailsCell(c),t.appendChild(c),this._a11ySetRowDetailsCell(t,c),c._vacant=!1}a.notifyPath&&!s&&a.notifyPath("_cells.*",a._cells)}else{const c=i==="header"?"th":"td";n||a.localName==="vaadin-grid-column-group"?(u=a[`_${i}Cell`]||this._createCell(c),u._column=a,t.appendChild(u),a[`_${i}Cell`]=u):(a._emptyCells=a._emptyCells||[],u=a._emptyCells.find(d=>d._vacant)||this._createCell(c),u._column=a,t.appendChild(u),a._emptyCells.indexOf(u)===-1&&a._emptyCells.push(u)),u.setAttribute("part",`cell ${i}-cell`)}u._content.parentElement||o.appendChild(u._content),u._vacant=!1,u._column=a}),i!=="body"&&this.__debounceUpdateHeaderFooterRowVisibility(t),this.appendChild(o),this._frozenCellsChanged(),this._updateFirstAndLastColumnForRow(t)}__debounceUpdateHeaderFooterRowVisibility(t){t.__debounceUpdateHeaderFooterRowVisibility=ye.debounce(t.__debounceUpdateHeaderFooterRowVisibility,ji,()=>this.__updateHeaderFooterRowVisibility(t))}__updateHeaderFooterRowVisibility(t){if(!t)return;const e=Array.from(t.children).filter(i=>{const n=i._column;if(n._emptyCells&&n._emptyCells.indexOf(i)>-1)return!1;if(t.parentElement===this.$.header){if(n.headerRenderer)return!0;if(n.header===null)return!1;if(n.path||n.header!==void 0)return!0}else if(n.footerRenderer)return!0;return!1});t.hidden!==!e.length&&(t.hidden=!e.length),this._resetKeyboardNavigation()}_updateScrollerItem(t,e){this._preventScrollerRotatingCellFocus(t,e),this._columnTree&&(t.toggleAttribute("first",e===0),t.toggleAttribute("last",e===this._effectiveSize-1),t.toggleAttribute("odd",e%2),this._a11yUpdateRowRowindex(t,e),this._getItem(e,t))}_columnTreeChanged(t){this._renderColumnTree(t),this.recalculateColumnWidths()}_renderColumnTree(t){for(Array.from(this.$.items.children).forEach(e=>this._updateRow(e,t[t.length-1],null,!1,!0));this.$.header.children.length<t.length;){const e=document.createElement("tr");e.setAttribute("part","row"),e.setAttribute("role","row"),e.setAttribute("tabindex","-1"),this.$.header.appendChild(e);const i=document.createElement("tr");i.setAttribute("part","row"),i.setAttribute("role","row"),i.setAttribute("tabindex","-1"),this.$.footer.appendChild(i)}for(;this.$.header.children.length>t.length;)this.$.header.removeChild(this.$.header.firstElementChild),this.$.footer.removeChild(this.$.footer.firstElementChild);Array.from(this.$.header.children).forEach((e,i)=>this._updateRow(e,t[i],"header",i===t.length-1)),Array.from(this.$.footer.children).forEach((e,i)=>this._updateRow(e,t[t.length-1-i],"footer",i===0)),this._updateRow(this.$.sizer,t[t.length-1]),this._resizeHandler(),this._frozenCellsChanged(),this._updateFirstAndLastColumn(),this._resetKeyboardNavigation(),this._a11yUpdateHeaderRows(),this._a11yUpdateFooterRows(),this.__updateFooterPositioning(),this.generateCellClassNames()}__updateFooterPositioning(){this._firefox&&parseFloat(navigator.userAgent.match(/Firefox\/(\d{2,3}.\d)/)[1])<99&&(this.$.items.style.paddingBottom=0,this.allRowsVisible||(this.$.items.style.paddingBottom=`${this.$.footer.offsetHeight}px`))}_updateItem(t,e){t._item=e;const i=this.__getRowModel(t);this._toggleDetailsCell(t,i.detailsOpened),this._a11yUpdateRowLevel(t,i.level),this._a11yUpdateRowSelected(t,i.selected),t.toggleAttribute("expanded",i.expanded),t.toggleAttribute("selected",i.selected),t.toggleAttribute("details-opened",i.detailsOpened),this._generateCellClassNames(t,i),this._filterDragAndDrop(t,i),Array.from(t.children).forEach(n=>{if(n._renderer){const s=n._column||this;n._renderer.call(s,n._content,s,i)}}),this._updateDetailsCellHeight(t),this._a11yUpdateRowExpanded(t,i.expanded)}_resizeHandler(){this._updateDetailsCellHeights(),this.__updateFooterPositioning(),this.__updateHorizontalScrollPosition()}_onAnimationEnd(t){t.animationName.indexOf("vaadin-grid-appear")===0&&(t.stopPropagation(),this.__itemsReceived(),requestAnimationFrame(()=>{this.__scrollToPendingIndex()}))}__getRowModel(t){return{index:t.index,item:t._item,level:this._getIndexLevel(t.index),expanded:this._isExpanded(t._item),selected:this._isSelected(t._item),detailsOpened:!!this.rowDetailsRenderer&&this._isDetailsOpened(t._item)}}_showTooltip(t){const e=this._tooltipController.node;e&&e.isConnected&&(this._tooltipController.setTarget(t.target),this._tooltipController.setContext(this.getEventContext(t)),e._stateController.open({focus:t.type==="focusin",hover:t.type==="mouseenter"}))}_hideTooltip(t){const e=this._tooltipController.node;e&&e._stateController.close(t)}requestContentUpdate(){this._columnTree&&(this._columnTree.forEach(t=>{t.forEach(e=>{e._renderHeaderAndFooter&&e._renderHeaderAndFooter()})}),this.__updateVisibleRows())}__updateVisibleRows(t,e){this.__virtualizer&&this.__virtualizer.update(t,e)}notifyResize(){console.warn("WARNING: Since Vaadin 22, notifyResize() is deprecated. The component uses a ResizeObserver internally and doesn't need to be explicitly notified of resizes.")}}customElements.define(Sn.is,Sn);/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const il=!(window.ShadyDOM&&window.ShadyDOM.inUse);let $o;function ud(r){r&&r.shimcssproperties?$o=!1:$o=il||Boolean(!navigator.userAgent.match(/AppleWebKit\/601|Edge\/15/)&&window.CSS&&CSS.supports&&CSS.supports("box-shadow","0 0 0 var(--foo)"))}let Fn;window.ShadyCSS&&window.ShadyCSS.cssBuild!==void 0&&(Fn=window.ShadyCSS.cssBuild);const rv=Boolean(window.ShadyCSS&&window.ShadyCSS.disableRuntime);window.ShadyCSS&&window.ShadyCSS.nativeCss!==void 0?$o=window.ShadyCSS.nativeCss:window.ShadyCSS?(ud(window.ShadyCSS),window.ShadyCSS=void 0):ud(window.WebComponents&&window.WebComponents.flags);const rc=$o;/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/class cd{constructor(){this.start=0,this.end=0,this.previous=null,this.parent=null,this.rules=null,this.parsedCssText="",this.cssText="",this.atRule=!1,this.type=0,this.keyframesName="",this.selector="",this.parsedSelector=""}}function nv(r){return r=v0(r),sv(g0(r),r)}function v0(r){return r.replace(Wt.comments,"").replace(Wt.port,"")}function g0(r){let t=new cd;t.start=0,t.end=r.length;let e=t;for(let i=0,n=r.length;i<n;i++)if(r[i]===av){e.rules||(e.rules=[]);let s=e,o=s.rules[s.rules.length-1]||null;e=new cd,e.start=i+1,e.parent=s,e.previous=o,s.rules.push(e)}else r[i]===lv&&(e.end=i+1,e=e.parent||t);return t}function sv(r,t){let e=t.substring(r.start,r.end-1);if(r.parsedCssText=r.cssText=e.trim(),r.parent){let n=r.previous?r.previous.end:r.parent.start;e=t.substring(n,r.start-1),e=y0(e),e=e.replace(Wt.multipleSpaces," "),e=e.substring(e.lastIndexOf(";")+1);let s=r.parsedSelector=r.selector=e.trim();r.atRule=s.indexOf(E0)===0,r.atRule?s.indexOf(A0)===0?r.type=ci.MEDIA_RULE:s.match(Wt.keyframesRule)&&(r.type=ci.KEYFRAMES_RULE,r.keyframesName=r.selector.split(Wt.multipleSpaces).pop()):s.indexOf(hv)===0?r.type=ci.MIXIN_RULE:r.type=ci.STYLE_RULE}let i=r.rules;if(i)for(let n=0,s=i.length,o;n<s&&(o=i[n]);n++)sv(o,t);return r}function y0(r){return r.replace(/\\([0-9a-f]{1,6})\s/gi,function(){let t=arguments[1],e=6-t.length;for(;e--;)t="0"+t;return"\\"+t})}function ov(r,t,e=""){let i="";if(r.cssText||r.rules){let n=r.rules;if(n&&!b0(n))for(let s=0,o=n.length,a;s<o&&(a=n[s]);s++)i=ov(a,t,i);else i=t?r.cssText:w0(r.cssText),i=i.trim(),i&&(i="  "+i+`
`)}return i&&(r.selector&&(e+=r.selector+" "+av+`
`),e+=i,r.selector&&(e+=lv+`

`)),e}function b0(r){let t=r[0];return Boolean(t)&&Boolean(t.selector)&&t.selector.indexOf(hv)===0}function w0(r){return r=x0(r),C0(r)}function x0(r){return r.replace(Wt.customProp,"").replace(Wt.mixinProp,"")}function C0(r){return r.replace(Wt.mixinApply,"").replace(Wt.varApply,"")}const ci={STYLE_RULE:1,KEYFRAMES_RULE:7,MEDIA_RULE:4,MIXIN_RULE:1e3},av="{",lv="}",Wt={comments:/\/\*[^*]*\*+([^/*][^*]*\*+)*\//gim,port:/@import[^;]*;/gim,customProp:/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?(?:[;\n]|$)/gim,mixinProp:/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?{[^}]*?}(?:[;\n]|$)?/gim,mixinApply:/@apply\s*\(?[^);]*\)?\s*(?:[;\n]|$)?/gim,varApply:/[^;:]*?:[^;]*?var\([^;]*\)(?:[;\n]|$)?/gim,keyframesRule:/^@[^\s]*keyframes/,multipleSpaces:/\s+/g},hv="--",A0="@media",E0="@";/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const eh=/(?:^|[;\s{]\s*)(--[\w-]*?)\s*:\s*(?:((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};{])+)|\{([^}]*)\}(?:(?=[;\s}])|$))/gi,No=/(?:^|\W+)@apply\s*\(?([^);\n]*)\)?/gi,I0=/@media\s(.*)/;/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const dd=new Set,S0="shady-unscoped";function T0(r){const t=r.textContent;if(!dd.has(t)){dd.add(t);const e=document.createElement("style");e.setAttribute("shady-unscoped",""),e.textContent=t,document.head.appendChild(e)}}function O0(r){return r.hasAttribute(S0)}/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/function th(r,t){return r?(typeof r=="string"&&(r=nv(r)),t&&Tn(r,t),ov(r,rc)):""}function fd(r){return!r.__cssRules&&r.textContent&&(r.__cssRules=nv(r.textContent)),r.__cssRules||null}function Tn(r,t,e,i){if(!r)return;let n=!1,s=r.type;if(i&&s===ci.MEDIA_RULE){let a=r.selector.match(I0);a&&(window.matchMedia(a[1]).matches||(n=!0))}s===ci.STYLE_RULE?t(r):e&&s===ci.KEYFRAMES_RULE?e(r):s===ci.MIXIN_RULE&&(n=!0);let o=r.rules;if(o&&!n)for(let a=0,l=o.length,h;a<l&&(h=o[a]);a++)Tn(h,t,e,i)}function M0(r,t){let e=0;for(let i=t,n=r.length;i<n;i++)if(r[i]==="(")e++;else if(r[i]===")"&&--e===0)return i;return-1}function uv(r,t){let e=r.indexOf("var(");if(e===-1)return t(r,"","","");let i=M0(r,e+3),n=r.substring(e+4,i),s=r.substring(0,e),o=uv(r.substring(i+1),t),a=n.indexOf(",");if(a===-1)return t(s,n.trim(),"",o);let l=n.substring(0,a).trim(),h=n.substring(a+1).trim();return t(s,l,h,o)}window.ShadyDOM&&window.ShadyDOM.wrap;function R0(r){let t=r.localName,e="",i="";return t?t.indexOf("-")>-1?e=t:(i=t,e=r.getAttribute&&r.getAttribute("is")||""):(e=r.is,i=r.extends),{is:e,typeExtension:i}}function P0(r){const t=[],e=r.querySelectorAll("style");for(let i=0;i<e.length;i++){const n=e[i];O0(n)?il||(T0(n),n.parentNode.removeChild(n)):(t.push(n.textContent),n.parentNode.removeChild(n))}return t.join("").trim()}const cv="css-build";function k0(r){if(Fn!==void 0)return Fn;if(r.__cssBuild===void 0){const t=r.getAttribute(cv);if(t)r.__cssBuild=t;else{const e=D0(r);e!==""&&L0(r),r.__cssBuild=e}}return r.__cssBuild||""}function pd(r){return k0(r)!==""}function D0(r){const t=r.localName==="template"?r.content.firstChild:r.firstChild;if(t instanceof Comment){const e=t.textContent.trim().split(":");if(e[0]===cv)return e[1]}return""}function L0(r){const t=r.localName==="template"?r.content.firstChild:r.firstChild;t.parentNode.removeChild(t)}/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/function ih(r,t){for(let e in t)e===null?r.style.removeProperty(e):r.style.setProperty(e,t[e])}function dv(r,t){const e=window.getComputedStyle(r).getPropertyValue(t);return e?e.trim():""}function F0(r){const t=No.test(r)||eh.test(r);return No.lastIndex=0,eh.lastIndex=0,t}/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const $0=/;\s*/m,N0=/^\s*(initial)|(inherit)\s*$/,_d=/\s*!important/,rh="_-_";class z0{constructor(){this._map={}}set(t,e){t=t.trim(),this._map[t]={properties:e,dependants:{}}}get(t){return t=t.trim(),this._map[t]||null}}let zo=null;class Ke{constructor(){this._currentElement=null,this._measureElement=null,this._map=new z0}detectMixin(t){return F0(t)}gatherStyles(t){const e=P0(t.content);if(e){const i=document.createElement("style");return i.textContent=e,t.content.insertBefore(i,t.content.firstChild),i}return null}transformTemplate(t,e){t._gatheredStyle===void 0&&(t._gatheredStyle=this.gatherStyles(t));const i=t._gatheredStyle;return i?this.transformStyle(i,e):null}transformStyle(t,e=""){let i=fd(t);return this.transformRules(i,e),t.textContent=th(i),i}transformCustomStyle(t){let e=fd(t);return Tn(e,i=>{i.selector===":root"&&(i.selector="html"),this.transformRule(i)}),t.textContent=th(e),e}transformRules(t,e){this._currentElement=e,Tn(t,i=>{this.transformRule(i)}),this._currentElement=null}transformRule(t){t.cssText=this.transformCssText(t.parsedCssText,t),t.selector===":root"&&(t.selector=":host > *")}transformCssText(t,e){return t=t.replace(eh,(i,n,s,o)=>this._produceCssProperties(i,n,s,o,e)),this._consumeCssProperties(t,e)}_getInitialValueForProperty(t){return this._measureElement||(this._measureElement=document.createElement("meta"),this._measureElement.setAttribute("apply-shim-measure",""),this._measureElement.style.all="initial",document.head.appendChild(this._measureElement)),window.getComputedStyle(this._measureElement).getPropertyValue(t)}_fallbacksFromPreviousRules(t){let e=t;for(;e.parent;)e=e.parent;const i={};let n=!1;return Tn(e,s=>{n=n||s===t,!n&&s.selector===t.selector&&Object.assign(i,this._cssTextToMap(s.parsedCssText))}),i}_consumeCssProperties(t,e){let i=null;for(;i=No.exec(t);){let n=i[0],s=i[1],o=i.index,a=o+n.indexOf("@apply"),l=o+n.length,h=t.slice(0,a),u=t.slice(l),c=e?this._fallbacksFromPreviousRules(e):{};Object.assign(c,this._cssTextToMap(h));let d=this._atApplyToCssProperties(s,c);t=`${h}${d}${u}`,No.lastIndex=o+d.length}return t}_atApplyToCssProperties(t,e){t=t.replace($0,"");let i=[],n=this._map.get(t);if(n||(this._map.set(t,{}),n=this._map.get(t)),n){this._currentElement&&(n.dependants[this._currentElement]=!0);let s,o,a;const l=n.properties;for(s in l)a=e&&e[s],o=[s,": var(",t,rh,s],a&&o.push(",",a.replace(_d,"")),o.push(")"),_d.test(l[s])&&o.push(" !important"),i.push(o.join(""))}return i.join("; ")}_replaceInitialOrInherit(t,e){let i=N0.exec(e);return i&&(i[1]?e=this._getInitialValueForProperty(t):e="apply-shim-inherit"),e}_cssTextToMap(t,e=!1){let i=t.split(";"),n,s,o={};for(let a=0,l,h;a<i.length;a++)l=i[a],l&&(h=l.split(":"),h.length>1&&(n=h[0].trim(),s=h.slice(1).join(":"),e&&(s=this._replaceInitialOrInherit(n,s)),o[n]=s));return o}_invalidateMixinEntry(t){if(!!zo)for(let e in t.dependants)e!==this._currentElement&&zo(e)}_produceCssProperties(t,e,i,n,s){if(i&&uv(i,(m,g)=>{g&&this._map.get(g)&&(n=`@apply ${g};`)}),!n)return t;let o=this._consumeCssProperties(""+n,s),a=t.slice(0,t.indexOf("--")),l=this._cssTextToMap(o,!0),h=l,u=this._map.get(e),c=u&&u.properties;c?h=Object.assign(Object.create(c),l):this._map.set(e,h);let d=[],f,p,_=!1;for(f in h)p=l[f],p===void 0&&(p="initial"),c&&!(f in c)&&(_=!0),d.push(`${e}${rh}${f}: ${p}`);return _&&this._invalidateMixinEntry(u),u&&(u.properties=h),i&&(a=`${t};${a}`),`${a}${d.join("; ")};`}}Ke.prototype.detectMixin=Ke.prototype.detectMixin;Ke.prototype.transformStyle=Ke.prototype.transformStyle;Ke.prototype.transformCustomStyle=Ke.prototype.transformCustomStyle;Ke.prototype.transformRules=Ke.prototype.transformRules;Ke.prototype.transformRule=Ke.prototype.transformRule;Ke.prototype.transformTemplate=Ke.prototype.transformTemplate;Ke.prototype._separator=rh;Object.defineProperty(Ke.prototype,"invalidCallback",{get(){return zo},set(r){zo=r}});/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const nh={};/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const Bo="_applyShimCurrentVersion",kr="_applyShimNextVersion",Vo="_applyShimValidatingVersion",B0=Promise.resolve();function V0(r){let t=nh[r];t&&G0(t)}function G0(r){r[Bo]=r[Bo]||0,r[Vo]=r[Vo]||0,r[kr]=(r[kr]||0)+1}function fv(r){return r[Bo]===r[kr]}function H0(r){return!fv(r)&&r[Vo]===r[kr]}function U0(r){r[Vo]=r[kr],r._validating||(r._validating=!0,B0.then(function(){r[Bo]=r[kr],r._validating=!1}))}/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/let Tl=null,md=window.HTMLImports&&window.HTMLImports.whenReady||null,Ol;function vd(r){requestAnimationFrame(function(){md?md(r):(Tl||(Tl=new Promise(t=>{Ol=t}),document.readyState==="complete"?Ol():document.addEventListener("readystatechange",()=>{document.readyState==="complete"&&Ol()})),Tl.then(function(){r&&r()}))})}/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const gd="__seenByShadyCSS",As="__shadyCSSCachedStyle";let Go=null,On=null;class xi{constructor(){this.customStyles=[],this.enqueued=!1,vd(()=>{window.ShadyCSS.flushCustomStyles&&window.ShadyCSS.flushCustomStyles()})}enqueueDocumentValidation(){this.enqueued||!On||(this.enqueued=!0,vd(On))}addCustomStyle(t){t[gd]||(t[gd]=!0,this.customStyles.push(t),this.enqueueDocumentValidation())}getStyleForCustomStyle(t){if(t[As])return t[As];let e;return t.getStyle?e=t.getStyle():e=t,e}processStyles(){const t=this.customStyles;for(let e=0;e<t.length;e++){const i=t[e];if(i[As])continue;const n=this.getStyleForCustomStyle(i);if(n){const s=n.__appliedElement||n;Go&&Go(s),i[As]=s}}return t}}xi.prototype.addCustomStyle=xi.prototype.addCustomStyle;xi.prototype.getStyleForCustomStyle=xi.prototype.getStyleForCustomStyle;xi.prototype.processStyles=xi.prototype.processStyles;Object.defineProperties(xi.prototype,{transformCallback:{get(){return Go},set(r){Go=r}},validateCallback:{get(){return On},set(r){let t=!1;On||(t=!0),On=r,t&&this.enqueueDocumentValidation()}}});/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const yn=new Ke;class W0{constructor(){this.customStyleInterface=null,yn.invalidCallback=V0}ensure(){this.customStyleInterface||window.ShadyCSS.CustomStyleInterface&&(this.customStyleInterface=window.ShadyCSS.CustomStyleInterface,this.customStyleInterface.transformCallback=t=>{yn.transformCustomStyle(t)},this.customStyleInterface.validateCallback=()=>{requestAnimationFrame(()=>{this.customStyleInterface.enqueued&&this.flushCustomStyles()})})}prepareTemplate(t,e){if(this.ensure(),pd(t))return;nh[e]=t;let i=yn.transformTemplate(t,e);t._styleAst=i}flushCustomStyles(){if(this.ensure(),!this.customStyleInterface)return;let t=this.customStyleInterface.processStyles();if(!!this.customStyleInterface.enqueued){for(let e=0;e<t.length;e++){let i=t[e],n=this.customStyleInterface.getStyleForCustomStyle(i);n&&yn.transformCustomStyle(n)}this.customStyleInterface.enqueued=!1}}styleSubtree(t,e){if(this.ensure(),e&&ih(t,e),t.shadowRoot){this.styleElement(t);let i=t.shadowRoot.children||t.shadowRoot.childNodes;for(let n=0;n<i.length;n++)this.styleSubtree(i[n])}else{let i=t.children||t.childNodes;for(let n=0;n<i.length;n++)this.styleSubtree(i[n])}}styleElement(t){this.ensure();let{is:e}=R0(t),i=nh[e];if(!(i&&pd(i))&&i&&!fv(i)){H0(i)||(this.prepareTemplate(i,e),U0(i));let n=t.shadowRoot;if(n){let s=n.querySelector("style");s&&(s.__cssRules=i._styleAst,s.textContent=th(i._styleAst))}}}styleDocument(t){this.ensure(),this.styleSubtree(document.body,t)}}if(!window.ShadyCSS||!window.ShadyCSS.ScopingShim){const r=new W0;let t=window.ShadyCSS&&window.ShadyCSS.CustomStyleInterface;window.ShadyCSS={prepareTemplate(e,i,n){r.flushCustomStyles(),r.prepareTemplate(e,i)},prepareTemplateStyles(e,i,n){window.ShadyCSS.prepareTemplate(e,i,n)},prepareTemplateDom(e,i){},styleSubtree(e,i){r.flushCustomStyles(),r.styleSubtree(e,i)},styleElement(e){r.flushCustomStyles(),r.styleElement(e)},styleDocument(e){r.flushCustomStyles(),r.styleDocument(e)},getComputedStyleValue(e,i){return dv(e,i)},flushCustomStyles(){r.flushCustomStyles()},nativeCss:rc,nativeShadow:il,cssBuild:Fn,disableRuntime:rv},t&&(window.ShadyCSS.CustomStyleInterface=t)}window.ShadyCSS.ApplyShim=yn;/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/let nc=typeof document.head.style.touchAction=="string",Ho="__polymerGestures",Hs="__polymerGesturesHandled",sh="__polymerGesturesTouchAction",yd=25,bd=5,Y0=2,j0=2500,pv=["mousedown","mousemove","mouseup","click"],q0=[0,1,4,2],X0=function(){try{return new MouseEvent("test",{buttons:1}).buttons===1}catch{return!1}}();function sc(r){return pv.indexOf(r)>-1}let oc=!1;(function(){try{let r=Object.defineProperty({},"passive",{get(){oc=!0}});window.addEventListener("test",null,r),window.removeEventListener("test",null,r)}catch{}})();function _v(r){if(!(sc(r)||r==="touchend")&&nc&&oc&&wb)return{passive:!0}}let mv=navigator.userAgent.match(/iP(?:[oa]d|hone)|Android/);const oh=[],K0={button:!0,input:!0,keygen:!0,meter:!0,output:!0,textarea:!0,progress:!0,select:!0},Z0={button:!0,command:!0,fieldset:!0,input:!0,keygen:!0,optgroup:!0,option:!0,select:!0,textarea:!0};function Q0(r){return K0[r.localName]||!1}function J0(r){let t=Array.prototype.slice.call(r.labels||[]);if(!t.length){t=[];try{let e=r.getRootNode();if(r.id){let i=e.querySelectorAll(`label[for = '${r.id}']`);for(let n=0;n<i.length;n++)t.push(i[n])}}catch{}}return t}let wd=function(r){let t=r.sourceCapabilities;if(!(t&&!t.firesTouchEvents)&&(r[Hs]={skip:!0},r.type==="click")){let e=!1,i=rl(r);for(let n=0;n<i.length;n++){if(i[n].nodeType===Node.ELEMENT_NODE){if(i[n].localName==="label")oh.push(i[n]);else if(Q0(i[n])){let s=J0(i[n]);for(let o=0;o<s.length;o++)e=e||oh.indexOf(s[o])>-1}}if(i[n]===ze.mouse.target)return}if(e)return;r.preventDefault(),r.stopPropagation()}};function xd(r){let t=mv?["click"]:pv;for(let e=0,i;e<t.length;e++)i=t[e],r?(oh.length=0,document.addEventListener(i,wd,!0)):document.removeEventListener(i,wd,!0)}function ew(r){if(!zm)return;ze.mouse.mouseIgnoreJob||xd(!0);let t=function(){xd(),ze.mouse.target=null,ze.mouse.mouseIgnoreJob=null};ze.mouse.target=rl(r)[0],ze.mouse.mouseIgnoreJob=Pt.debounce(ze.mouse.mouseIgnoreJob,kt.after(j0),t)}function Ui(r){let t=r.type;if(!sc(t))return!1;if(t==="mousemove"){let e=r.buttons===void 0?1:r.buttons;return r instanceof window.MouseEvent&&!X0&&(e=q0[r.which]||0),Boolean(e&1)}else return(r.button===void 0?0:r.button)===0}function tw(r){if(r.type==="click"){if(r.detail===0)return!0;let t=vi(r);if(!t.nodeType||t.nodeType!==Node.ELEMENT_NODE)return!0;let e=t.getBoundingClientRect(),i=r.pageX,n=r.pageY;return!(i>=e.left&&i<=e.right&&n>=e.top&&n<=e.bottom)}return!1}let ze={mouse:{target:null,mouseIgnoreJob:null},touch:{x:0,y:0,id:-1,scrollDecided:!1}};function iw(r){let t="auto",e=rl(r);for(let i=0,n;i<e.length;i++)if(n=e[i],n[sh]){t=n[sh];break}return t}function vv(r,t,e){r.movefn=t,r.upfn=e,document.addEventListener("mousemove",t),document.addEventListener("mouseup",e)}function Sr(r){document.removeEventListener("mousemove",r.movefn),document.removeEventListener("mouseup",r.upfn),r.movefn=null,r.upfn=null}zm&&document.addEventListener("touchend",ew,oc?{passive:!0}:!1);const rl=window.ShadyDOM&&window.ShadyDOM.noPatch?window.ShadyDOM.composedPath:r=>r.composedPath&&r.composedPath()||[],rs={},zi=[];function rw(r,t){let e=document.elementFromPoint(r,t),i=e;for(;i&&i.shadowRoot&&!window.ShadyDOM;){let n=i;if(i=i.shadowRoot.elementFromPoint(r,t),n===i)break;i&&(e=i)}return e}function vi(r){const t=rl(r);return t.length>0?t[0]:r.target}function gv(r){let t,e=r.type,n=r.currentTarget[Ho];if(!n)return;let s=n[e];if(!!s){if(!r[Hs]&&(r[Hs]={},e.slice(0,5)==="touch")){r=r;let o=r.changedTouches[0];if(e==="touchstart"&&r.touches.length===1&&(ze.touch.id=o.identifier),ze.touch.id!==o.identifier)return;nc||(e==="touchstart"||e==="touchmove")&&nw(r)}if(t=r[Hs],!t.skip){for(let o=0,a;o<zi.length;o++)a=zi[o],s[a.name]&&!t[a.name]&&a.flow&&a.flow.start.indexOf(r.type)>-1&&a.reset&&a.reset();for(let o=0,a;o<zi.length;o++)a=zi[o],s[a.name]&&!t[a.name]&&(t[a.name]=!0,a[e](r))}}}function nw(r){let t=r.changedTouches[0],e=r.type;if(e==="touchstart")ze.touch.x=t.clientX,ze.touch.y=t.clientY,ze.touch.scrollDecided=!1;else if(e==="touchmove"){if(ze.touch.scrollDecided)return;ze.touch.scrollDecided=!0;let i=iw(r),n=!1,s=Math.abs(ze.touch.x-t.clientX),o=Math.abs(ze.touch.y-t.clientY);r.cancelable&&(i==="none"?n=!0:i==="pan-x"?n=o>s:i==="pan-y"&&(n=s>o)),n?r.preventDefault():Uo("track")}}function sw(r,t,e){return rs[t]?(aw(r,t,e),!0):!1}function ow(r,t,e){return rs[t]?(lw(r,t,e),!0):!1}function aw(r,t,e){let i=rs[t],n=i.deps,s=i.name,o=r[Ho];o||(r[Ho]=o={});for(let a=0,l,h;a<n.length;a++)l=n[a],!(mv&&sc(l)&&l!=="click")&&(h=o[l],h||(o[l]=h={_count:0}),h._count===0&&r.addEventListener(l,gv,_v(l)),h[s]=(h[s]||0)+1,h._count=(h._count||0)+1);r.addEventListener(t,e),i.touchAction&&yv(r,i.touchAction)}function lw(r,t,e){let i=rs[t],n=i.deps,s=i.name,o=r[Ho];if(o)for(let a=0,l,h;a<n.length;a++)l=n[a],h=o[l],h&&h[s]&&(h[s]=(h[s]||1)-1,h._count=(h._count||1)-1,h._count===0&&r.removeEventListener(l,gv,_v(l)));r.removeEventListener(t,e)}function ac(r){zi.push(r);for(let t=0;t<r.emits.length;t++)rs[r.emits[t]]=r}function hw(r){for(let t=0,e;t<zi.length;t++){e=zi[t];for(let i=0,n;i<e.emits.length;i++)if(n=e.emits[i],n===r)return e}return null}function yv(r,t){nc&&r instanceof HTMLElement&&Hi.run(()=>{r.style.touchAction=t}),r[sh]=t}function lc(r,t,e){let i=new Event(t,{bubbles:!0,cancelable:!0,composed:!0});if(i.detail=e,fe(r).dispatchEvent(i),i.defaultPrevented){let n=e.preventer||e.sourceEvent;n&&n.preventDefault&&n.preventDefault()}}function Uo(r){let t=hw(r);t.info&&(t.info.prevent=!0)}ac({name:"downup",deps:["mousedown","touchstart","touchend"],flow:{start:["mousedown","touchstart"],end:["mouseup","touchend"]},emits:["down","up"],info:{movefn:null,upfn:null},reset:function(){Sr(this.info)},mousedown:function(r){if(!Ui(r))return;let t=vi(r),e=this,i=function(o){Ui(o)||(hn("up",t,o),Sr(e.info))},n=function(o){Ui(o)&&hn("up",t,o),Sr(e.info)};vv(this.info,i,n),hn("down",t,r)},touchstart:function(r){hn("down",vi(r),r.changedTouches[0],r)},touchend:function(r){hn("up",vi(r),r.changedTouches[0],r)}});function hn(r,t,e,i){!t||lc(t,r,{x:e.clientX,y:e.clientY,sourceEvent:e,preventer:i,prevent:function(n){return Uo(n)}})}ac({name:"track",touchAction:"none",deps:["mousedown","touchstart","touchmove","touchend"],flow:{start:["mousedown","touchstart"],end:["mouseup","touchend"]},emits:["track"],info:{x:0,y:0,state:"start",started:!1,moves:[],addMove:function(r){this.moves.length>Y0&&this.moves.shift(),this.moves.push(r)},movefn:null,upfn:null,prevent:!1},reset:function(){this.info.state="start",this.info.started=!1,this.info.moves=[],this.info.x=0,this.info.y=0,this.info.prevent=!1,Sr(this.info)},mousedown:function(r){if(!Ui(r))return;let t=vi(r),e=this,i=function(o){let a=o.clientX,l=o.clientY;Cd(e.info,a,l)&&(e.info.state=e.info.started?o.type==="mouseup"?"end":"track":"start",e.info.state==="start"&&Uo("tap"),e.info.addMove({x:a,y:l}),Ui(o)||(e.info.state="end",Sr(e.info)),t&&Ml(e.info,t,o),e.info.started=!0)},n=function(o){e.info.started&&i(o),Sr(e.info)};vv(this.info,i,n),this.info.x=r.clientX,this.info.y=r.clientY},touchstart:function(r){let t=r.changedTouches[0];this.info.x=t.clientX,this.info.y=t.clientY},touchmove:function(r){let t=vi(r),e=r.changedTouches[0],i=e.clientX,n=e.clientY;Cd(this.info,i,n)&&(this.info.state==="start"&&Uo("tap"),this.info.addMove({x:i,y:n}),Ml(this.info,t,e),this.info.state="track",this.info.started=!0)},touchend:function(r){let t=vi(r),e=r.changedTouches[0];this.info.started&&(this.info.state="end",this.info.addMove({x:e.clientX,y:e.clientY}),Ml(this.info,t,e))}});function Cd(r,t,e){if(r.prevent)return!1;if(r.started)return!0;let i=Math.abs(r.x-t),n=Math.abs(r.y-e);return i>=bd||n>=bd}function Ml(r,t,e){if(!t)return;let i=r.moves[r.moves.length-2],n=r.moves[r.moves.length-1],s=n.x-r.x,o=n.y-r.y,a,l=0;i&&(a=n.x-i.x,l=n.y-i.y),lc(t,"track",{state:r.state,x:e.clientX,y:e.clientY,dx:s,dy:o,ddx:a,ddy:l,sourceEvent:e,hover:function(){return rw(e.clientX,e.clientY)}})}ac({name:"tap",deps:["mousedown","click","touchstart","touchend"],flow:{start:["mousedown","touchstart"],end:["click","touchend"]},emits:["tap"],info:{x:NaN,y:NaN,prevent:!1},reset:function(){this.info.x=NaN,this.info.y=NaN,this.info.prevent=!1},mousedown:function(r){Ui(r)&&(this.info.x=r.clientX,this.info.y=r.clientY)},click:function(r){Ui(r)&&Ad(this.info,r)},touchstart:function(r){const t=r.changedTouches[0];this.info.x=t.clientX,this.info.y=t.clientY},touchend:function(r){Ad(this.info,r.changedTouches[0],r)}});function Ad(r,t,e){let i=Math.abs(t.clientX-r.x),n=Math.abs(t.clientY-r.y),s=vi(e||t);!s||Z0[s.localName]&&s.hasAttribute("disabled")||(isNaN(i)||isNaN(n)||i<=yd&&n<=yd||tw(t))&&(r.prevent||lc(s,"tap",{x:t.clientX,y:t.clientY,sourceEvent:t,preventer:e}))}/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const bv=Zi(r=>{class t extends r{_addEventListenerToNode(i,n,s){sw(i,n,s)||super._addEventListenerToNode(i,n,s)}_removeEventListenerFromNode(i,n,s){ow(i,n,s)||super._removeEventListenerFromNode(i,n,s)}}return t});/**
 * @fileoverview
 * @suppress {checkPrototypalTypes}
 * @license Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt The complete set of authors may be found
 * at http://polymer.github.io/AUTHORS.txt The complete set of contributors may
 * be found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by
 * Google as part of the polymer project is also subject to an additional IP
 * rights grant found at http://polymer.github.io/PATENTS.txt
 */const uw=/:host\(:dir\((ltr|rtl)\)\)/g,cw=':host([dir="$1"])',dw=/([\s\w-#\.\[\]\*]*):dir\((ltr|rtl)\)/g,fw=':host([dir="$2"]) $1',pw=/:dir\((?:ltr|rtl)\)/,Ed=Boolean(window.ShadyDOM&&window.ShadyDOM.inUse),Mn=[];let Rn=null,hc="";function wv(){hc=document.documentElement.getAttribute("dir")}function xv(r){r.__autoDirOptOut||r.setAttribute("dir",hc)}function Cv(){wv(),hc=document.documentElement.getAttribute("dir");for(let r=0;r<Mn.length;r++)xv(Mn[r])}function _w(){Rn&&Rn.takeRecords().length&&Cv()}const mw=Zi(r=>{Ed||Rn||(wv(),Rn=new MutationObserver(Cv),Rn.observe(document.documentElement,{attributes:!0,attributeFilter:["dir"]}));const t=xb(r);class e extends t{static _processStyleText(n,s){return n=t._processStyleText.call(this,n,s),!Ed&&pw.test(n)&&(n=this._replaceDirInCssText(n),this.__activateDir=!0),n}static _replaceDirInCssText(n){let s=n;return s=s.replace(uw,cw),s=s.replace(dw,fw),s}constructor(){super(),this.__autoDirOptOut=!1}ready(){super.ready(),this.__autoDirOptOut=this.hasAttribute("dir")}connectedCallback(){t.prototype.connectedCallback&&super.connectedCallback(),this.constructor.__activateDir&&(_w(),Mn.push(this),xv(this))}disconnectedCallback(){if(t.prototype.disconnectedCallback&&super.disconnectedCallback(),this.constructor.__activateDir){const n=Mn.indexOf(this);n>-1&&Mn.splice(n,1)}}}return e.__activateDir=!1,e});/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/function Id(){document.body.removeAttribute("unresolved")}document.readyState==="interactive"||document.readyState==="complete"?Id():window.addEventListener("DOMContentLoaded",Id);/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const ar=Element.prototype,vw=ar.matches||ar.matchesSelector||ar.mozMatchesSelector||ar.msMatchesSelector||ar.oMatchesSelector||ar.webkitMatchesSelector,Av=function(r,t){return vw.call(r,t)};class de{constructor(t){window.ShadyDOM&&window.ShadyDOM.inUse&&window.ShadyDOM.patch(t),this.node=t}observeNodes(t){return new Ce(this.node,t)}unobserveNodes(t){t.disconnect()}notifyObserver(){}deepContains(t){if(fe(this.node).contains(t))return!0;let e=t,i=t.ownerDocument;for(;e&&e!==i&&e!==this.node;)e=fe(e).parentNode||fe(e).host;return e===this.node}getOwnerRoot(){return fe(this.node).getRootNode()}getDistributedNodes(){return this.node.localName==="slot"?fe(this.node).assignedNodes({flatten:!0}):[]}getDestinationInsertionPoints(){let t=[],e=fe(this.node).assignedSlot;for(;e;)t.push(e),e=fe(e).assignedSlot;return t}importNode(t,e){let i=this.node instanceof Document?this.node:this.node.ownerDocument;return fe(i).importNode(t,e)}getEffectiveChildNodes(){return Ce.getFlattenedNodes(this.node)}queryDistributedElements(t){let e=this.getEffectiveChildNodes(),i=[];for(let n=0,s=e.length,o;n<s&&(o=e[n]);n++)o.nodeType===Node.ELEMENT_NODE&&Av(o,t)&&i.push(o);return i}get activeElement(){let t=this.node;return t._activeElement!==void 0?t._activeElement:t.activeElement}}function gw(r,t){for(let e=0;e<t.length;e++){let i=t[e];r[i]=function(){return this.node[i].apply(this.node,arguments)}}}function Sd(r,t){for(let e=0;e<t.length;e++){let i=t[e];Object.defineProperty(r,i,{get:function(){return this.node[i]},configurable:!0})}}function yw(r,t){for(let e=0;e<t.length;e++){let i=t[e];Object.defineProperty(r,i,{get:function(){return this.node[i]},set:function(n){this.node[i]=n},configurable:!0})}}class ah{constructor(t){this.event=t}get rootTarget(){return this.path[0]}get localTarget(){return this.event.target}get path(){return this.event.composedPath()}}de.prototype.cloneNode;de.prototype.appendChild;de.prototype.insertBefore;de.prototype.removeChild;de.prototype.replaceChild;de.prototype.setAttribute;de.prototype.removeAttribute;de.prototype.querySelector;de.prototype.querySelectorAll;de.prototype.parentNode;de.prototype.firstChild;de.prototype.lastChild;de.prototype.nextSibling;de.prototype.previousSibling;de.prototype.firstElementChild;de.prototype.lastElementChild;de.prototype.nextElementSibling;de.prototype.previousElementSibling;de.prototype.childNodes;de.prototype.children;de.prototype.classList;de.prototype.textContent;de.prototype.innerHTML;let lh=de;if(window.ShadyDOM&&window.ShadyDOM.inUse&&window.ShadyDOM.noPatch&&window.ShadyDOM.Wrapper){class r extends window.ShadyDOM.Wrapper{}Object.getOwnPropertyNames(de.prototype).forEach(t=>{t!="activeElement"&&(r.prototype[t]=de.prototype[t])}),Sd(r.prototype,["classList"]),lh=r,Object.defineProperties(ah.prototype,{localTarget:{get(){const t=this.event.currentTarget,e=t&&qe(t).getOwnerRoot(),i=this.path;for(let n=0;n<i.length;n++){const s=i[n];if(qe(s).getOwnerRoot()===e)return s}},configurable:!0},path:{get(){return window.ShadyDOM.composedPath(this.event)},configurable:!0}})}else gw(de.prototype,["cloneNode","appendChild","insertBefore","removeChild","replaceChild","setAttribute","removeAttribute","querySelector","querySelectorAll","attachShadow"]),Sd(de.prototype,["parentNode","firstChild","lastChild","nextSibling","previousSibling","firstElementChild","lastElementChild","nextElementSibling","previousElementSibling","childNodes","children","classList","shadowRoot"]),yw(de.prototype,["textContent","innerHTML","className"]);const qe=function(r){if(r=r||document,r instanceof lh||r instanceof ah)return r;let t=r.__domApi;return t||(r instanceof Event?t=new ah(r):t=new lh(r),r.__domApi=t),t};/**
@license
Copyright (c) 2019 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const Rl=window.ShadyDOM,Td=window.ShadyCSS;function Od(r,t){return fe(r).getRootNode()===t}function bw(r,t=!1){if(!Rl||!Td||!Rl.handlesDynamicScoping)return null;const e=Td.ScopingShim;if(!e)return null;const i=e.scopeForNode(r),n=fe(r).getRootNode(),s=o=>{if(!Od(o,n))return;const a=Array.from(Rl.nativeMethods.querySelectorAll.call(o,"*"));a.push(o);for(let l=0;l<a.length;l++){const h=a[l];if(!Od(h,n))continue;const u=e.currentScopeForNode(h);u!==i&&(u!==""&&e.unscopeNode(h,u),e.scopeNode(h,i))}};if(s(r),t){const o=new MutationObserver(a=>{for(let l=0;l<a.length;l++){const h=a[l];for(let u=0;u<h.addedNodes.length;u++){const c=h.addedNodes[u];c.nodeType===Node.ELEMENT_NODE&&s(c)}}});return o.observe(r,{childList:!0,subtree:!0}),o}else return null}/**
 * @fileoverview
 * @suppress {checkPrototypalTypes}
 * @license Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt The complete set of authors may be found
 * at http://polymer.github.io/AUTHORS.txt The complete set of contributors may
 * be found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by
 * Google as part of the polymer project is also subject to an additional IP
 * rights grant found at http://polymer.github.io/PATENTS.txt
 */const Pl="disable-upgrade",Ev=r=>{for(;r;){const t=Object.getOwnPropertyDescriptor(r,"observedAttributes");if(t)return t.get;r=Object.getPrototypeOf(r.prototype).constructor}return()=>[]},ww=Zi(r=>{const t=Xu(r);let e=Ev(t);class i extends t{constructor(){super(),this.__isUpgradeDisabled}static get observedAttributes(){return e.call(this).concat(Pl)}_initializeProperties(){this.hasAttribute(Pl)?this.__isUpgradeDisabled=!0:super._initializeProperties()}_enableProperties(){this.__isUpgradeDisabled||super._enableProperties()}_canApplyPropertyDefault(s){return super._canApplyPropertyDefault(s)&&!(this.__isUpgradeDisabled&&this._isPropertyPending(s))}attributeChangedCallback(s,o,a,l){s==Pl?this.__isUpgradeDisabled&&a==null&&(super._initializeProperties(),this.__isUpgradeDisabled=!1,fe(this).isConnected&&super.connectedCallback()):super.attributeChangedCallback(s,o,a,l)}connectedCallback(){this.__isUpgradeDisabled||super.connectedCallback()}disconnectedCallback(){this.__isUpgradeDisabled||super.disconnectedCallback()}}return i});/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const Es="disable-upgrade";let xw=window.ShadyCSS;const Iv=Zi(r=>{const t=bv(Xu(r)),e=Cb?t:mw(t),i=Ev(e),n={x:"pan-x",y:"pan-y",none:"none",all:"auto"};class s extends e{constructor(){super(),this.isAttached,this.__boundListeners,this._debouncers,this.__isUpgradeDisabled,this.__needsAttributesAtConnected,this._legacyForceObservedAttributes}static get importMeta(){return this.prototype.importMeta}created(){}__attributeReaction(a,l,h){(this.__dataAttributes&&this.__dataAttributes[a]||a===Es)&&this.attributeChangedCallback(a,l,h,null)}setAttribute(a,l){if(xs&&!this._legacyForceObservedAttributes){const h=this.getAttribute(a);super.setAttribute(a,l),this.__attributeReaction(a,h,String(l))}else super.setAttribute(a,l)}removeAttribute(a){if(xs&&!this._legacyForceObservedAttributes){const l=this.getAttribute(a);super.removeAttribute(a),this.__attributeReaction(a,l,null)}else super.removeAttribute(a)}static get observedAttributes(){return xs&&!this.prototype._legacyForceObservedAttributes?(this.hasOwnProperty(JSCompiler_renameProperty("__observedAttributes",this))||(this.__observedAttributes=[],Ab(this.prototype)),this.__observedAttributes):i.call(this).concat(Es)}_enableProperties(){this.__isUpgradeDisabled||super._enableProperties()}_canApplyPropertyDefault(a){return super._canApplyPropertyDefault(a)&&!(this.__isUpgradeDisabled&&this._isPropertyPending(a))}connectedCallback(){this.__needsAttributesAtConnected&&this._takeAttributes(),this.__isUpgradeDisabled||(super.connectedCallback(),this.isAttached=!0,this.attached())}attached(){}disconnectedCallback(){this.__isUpgradeDisabled||(super.disconnectedCallback(),this.isAttached=!1,this.detached())}detached(){}attributeChangedCallback(a,l,h,u){l!==h&&(a==Es?this.__isUpgradeDisabled&&h==null&&(this._initializeProperties(),this.__isUpgradeDisabled=!1,fe(this).isConnected&&this.connectedCallback()):(super.attributeChangedCallback(a,l,h,u),this.attributeChanged(a,l,h)))}attributeChanged(a,l,h){}_initializeProperties(){if(Ql&&this.hasAttribute(Es))this.__isUpgradeDisabled=!0;else{let a=Object.getPrototypeOf(this);a.hasOwnProperty(JSCompiler_renameProperty("__hasRegisterFinished",a))||(this._registered(),a.__hasRegisterFinished=!0),super._initializeProperties(),this.root=this,this.created(),xs&&!this._legacyForceObservedAttributes&&(this.hasAttributes()?this._takeAttributes():this.parentNode||(this.__needsAttributesAtConnected=!0)),this._applyListeners()}}_takeAttributes(){const a=this.attributes;for(let l=0,h=a.length;l<h;l++){const u=a[l];this.__attributeReaction(u.name,null,u.value)}}_registered(){}ready(){this._ensureAttributes(),super.ready()}_ensureAttributes(){}_applyListeners(){}serialize(a){return this._serializeValue(a)}deserialize(a,l){return this._deserializeValue(a,l)}reflectPropertyToAttribute(a,l,h){this._propertyToAttribute(a,l,h)}serializeValueToAttribute(a,l,h){this._valueToNodeAttribute(h||this,a,l)}extend(a,l){if(!(a&&l))return a||l;let h=Object.getOwnPropertyNames(l);for(let u=0,c;u<h.length&&(c=h[u]);u++){let d=Object.getOwnPropertyDescriptor(l,c);d&&Object.defineProperty(a,c,d)}return a}mixin(a,l){for(let h in l)a[h]=l[h];return a}chainObject(a,l){return a&&l&&a!==l&&(a.__proto__=l),a}instanceTemplate(a){let l=this.constructor._contentForTemplate(a);return document.importNode(l,!0)}fire(a,l,h){h=h||{},l=l==null?{}:l;let u=new Event(a,{bubbles:h.bubbles===void 0?!0:h.bubbles,cancelable:Boolean(h.cancelable),composed:h.composed===void 0?!0:h.composed});u.detail=l;let c=h.node||this;return fe(c).dispatchEvent(u),u}listen(a,l,h){a=a||this;let u=this.__boundListeners||(this.__boundListeners=new WeakMap),c=u.get(a);c||(c={},u.set(a,c));let d=l+h;c[d]||(c[d]=this._addMethodEventListenerToNode(a,l,h,this))}unlisten(a,l,h){a=a||this;let u=this.__boundListeners&&this.__boundListeners.get(a),c=l+h,d=u&&u[c];d&&(this._removeEventListenerFromNode(a,l,d),u[c]=null)}setScrollDirection(a,l){yv(l||this,n[a]||"auto")}$$(a){return this.root.querySelector(a)}get domHost(){let a=fe(this).getRootNode();return a instanceof DocumentFragment?a.host:a}distributeContent(){const l=qe(this);window.ShadyDOM&&l.shadowRoot&&ShadyDOM.flush()}getEffectiveChildNodes(){return qe(this).getEffectiveChildNodes()}queryDistributedElements(a){return qe(this).queryDistributedElements(a)}getEffectiveChildren(){return this.getEffectiveChildNodes().filter(function(l){return l.nodeType===Node.ELEMENT_NODE})}getEffectiveTextContent(){let a=this.getEffectiveChildNodes(),l=[];for(let h=0,u;u=a[h];h++)u.nodeType!==Node.COMMENT_NODE&&l.push(u.textContent);return l.join("")}queryEffectiveChildren(a){let l=this.queryDistributedElements(a);return l&&l[0]}queryAllEffectiveChildren(a){return this.queryDistributedElements(a)}getContentChildNodes(a){let l=this.root.querySelector(a||"slot");return l?qe(l).getDistributedNodes():[]}getContentChildren(a){return this.getContentChildNodes(a).filter(function(h){return h.nodeType===Node.ELEMENT_NODE})}isLightDescendant(a){const l=this;return l!==a&&fe(l).contains(a)&&fe(l).getRootNode()===fe(a).getRootNode()}isLocalDescendant(a){return this.root===fe(a).getRootNode()}scopeSubtree(a,l=!1){return bw(a,l)}getComputedStyleValue(a){return xw.getComputedStyleValue(this,a)}debounce(a,l,h){return this._debouncers=this._debouncers||{},this._debouncers[a]=Pt.debounce(this._debouncers[a],h>0?kt.after(h):Hi,l.bind(this))}isDebouncerActive(a){this._debouncers=this._debouncers||{};let l=this._debouncers[a];return!!(l&&l.isActive())}flushDebouncer(a){this._debouncers=this._debouncers||{};let l=this._debouncers[a];l&&l.flush()}cancelDebouncer(a){this._debouncers=this._debouncers||{};let l=this._debouncers[a];l&&l.cancel()}async(a,l){return l>0?kt.run(a.bind(this),l):~Hi.run(a.bind(this))}cancelAsync(a){a<0?Hi.cancel(~a):kt.cancel(a)}create(a,l){let h=document.createElement(a);if(l)if(h.setProperties)h.setProperties(l);else for(let u in l)h[u]=l[u];return h}elementMatches(a,l){return Av(l||this,a)}toggleAttribute(a,l){let h=this;return arguments.length===3&&(h=arguments[2]),arguments.length==1&&(l=!h.hasAttribute(a)),l?(fe(h).setAttribute(a,""),!0):(fe(h).removeAttribute(a),!1)}toggleClass(a,l,h){h=h||this,arguments.length==1&&(l=!h.classList.contains(a)),l?h.classList.add(a):h.classList.remove(a)}transform(a,l){l=l||this,l.style.webkitTransform=a,l.style.transform=a}translate3d(a,l,h,u){u=u||this,this.transform("translate3d("+a+","+l+","+h+")",u)}arrayDelete(a,l){let h;if(Array.isArray(a)){if(h=a.indexOf(l),h>=0)return a.splice(h,1)}else if(h=Eb(this,a).indexOf(l),h>=0)return this.splice(a,h,1);return null}_logger(a,l){switch(Array.isArray(l)&&l.length===1&&Array.isArray(l[0])&&(l=l[0]),a){case"log":case"warn":case"error":console[a](...l)}}_log(...a){this._logger("log",a)}_warn(...a){this._logger("warn",a)}_error(...a){this._logger("error",a)}_logf(a,...l){return["[%s::%s]",this.is,a,...l]}}return s.prototype.is="",s});/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const Cw={attached:!0,detached:!0,ready:!0,created:!0,beforeRegister:!0,registered:!0,attributeChanged:!0,listeners:!0,hostAttributes:!0},Sv={attached:!0,detached:!0,ready:!0,created:!0,beforeRegister:!0,registered:!0,attributeChanged:!0,behaviors:!0,_noAccessors:!0},Aw=Object.assign({listeners:!0,hostAttributes:!0,properties:!0,observers:!0},Sv);function Ew(r,t,e){const i=r._noAccessors,n=Object.getOwnPropertyNames(r);for(let s=0;s<n.length;s++){let o=n[s];if(!(o in e))if(i)t[o]=r[o];else{let a=Object.getOwnPropertyDescriptor(r,o);a&&(a.configurable=!0,Object.defineProperty(t,o,a))}}}function Iw(r,t,e){for(let i=0;i<t.length;i++)Tv(r,t[i],e,Aw)}function Tv(r,t,e,i){Ew(t,r,i);for(let n in Cw)t[n]&&(e[n]=e[n]||[],e[n].push(t[n]))}function Ov(r,t,e){t=t||[];for(let i=r.length-1;i>=0;i--){let n=r[i];n?Array.isArray(n)?Ov(n,t):t.indexOf(n)<0&&(!e||e.indexOf(n)<0)&&t.unshift(n):console.warn("behavior is null, check for missing or 404 import")}return t}function Md(r,t){for(const e in t){const i=r[e],n=t[e];!("value"in n)&&i&&"value"in i?r[e]=Object.assign({value:i.value},n):r[e]=n}}const Rd=Iv(HTMLElement);function Sw(r,t,e){let i;const n={};class s extends t{static _finalizeClass(){if(!this.hasOwnProperty(JSCompiler_renameProperty("generatedFrom",this)))t._finalizeClass.call(this);else{if(i)for(let l=0,h;l<i.length;l++)h=i[l],h.properties&&this.createProperties(h.properties),h.observers&&this.createObservers(h.observers,h.properties);r.properties&&this.createProperties(r.properties),r.observers&&this.createObservers(r.observers,r.properties),this._prepareTemplate()}}static get properties(){const l={};if(i)for(let h=0;h<i.length;h++)Md(l,i[h].properties);return Md(l,r.properties),l}static get observers(){let l=[];if(i)for(let h=0,u;h<i.length;h++)u=i[h],u.observers&&(l=l.concat(u.observers));return r.observers&&(l=l.concat(r.observers)),l}created(){super.created();const l=n.created;if(l)for(let h=0;h<l.length;h++)l[h].call(this)}_registered(){const l=s.prototype;if(!l.hasOwnProperty(JSCompiler_renameProperty("__hasRegisterFinished",l))){l.__hasRegisterFinished=!0,super._registered(),Ql&&o(l);const h=Object.getPrototypeOf(this);let u=n.beforeRegister;if(u)for(let c=0;c<u.length;c++)u[c].call(h);if(u=n.registered,u)for(let c=0;c<u.length;c++)u[c].call(h)}}_applyListeners(){super._applyListeners();const l=n.listeners;if(l)for(let h=0;h<l.length;h++){const u=l[h];if(u)for(let c in u)this._addMethodEventListenerToNode(this,c,u[c])}}_ensureAttributes(){const l=n.hostAttributes;if(l)for(let h=l.length-1;h>=0;h--){const u=l[h];for(let c in u)this._ensureAttribute(c,u[c])}super._ensureAttributes()}ready(){super.ready();let l=n.ready;if(l)for(let h=0;h<l.length;h++)l[h].call(this)}attached(){super.attached();let l=n.attached;if(l)for(let h=0;h<l.length;h++)l[h].call(this)}detached(){super.detached();let l=n.detached;if(l)for(let h=0;h<l.length;h++)l[h].call(this)}attributeChanged(l,h,u){super.attributeChanged();let c=n.attributeChanged;if(c)for(let d=0;d<c.length;d++)c[d].call(this,l,h,u)}}if(e){Array.isArray(e)||(e=[e]);let a=t.prototype.behaviors;i=Ov(e,null,a),s.prototype.behaviors=a?a.concat(e):i}const o=a=>{i&&Iw(a,i,n),Tv(a,r,n,Sv)};return Ql||o(s.prototype),s.generatedFrom=r,s}const Tw=function(r,t){r||console.warn("Polymer.Class requires `info` argument");let e=t?t(Rd):Rd;return e=Sw(r,e,r.behaviors),e.is=e.prototype.is=r.is,e};/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const ns=function(r){let t;return typeof r=="function"?t=r:t=ns.Class(r),r._legacyForceObservedAttributes&&(t.prototype._legacyForceObservedAttributes=r._legacyForceObservedAttributes),customElements.define(t.is,t),t};ns.Class=Tw;/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const Ow={templatize(r,t){this._templatizerTemplate=r,this.ctor=Ku(r,this,{mutableData:Boolean(t),parentModel:this._parentModel,instanceProps:this._instanceProps,forwardHostProp:this._forwardHostPropV2,notifyInstanceProp:this._notifyInstancePropV2})},stamp(r){return new this.ctor(r)},modelForElement(r){return Bm(this._templatizerTemplate,r)}};/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const Mw=bv(Vm(Ib(HTMLElement)));class Rw extends Mw{static get observedAttributes(){return["mutable-data"]}constructor(){if(super(),Sb)throw new Error("strictTemplatePolicy: dom-bind not allowed");this.root=null,this.$=null,this.__children=null}attributeChangedCallback(t,e,i,n){this.mutableData=!0}connectedCallback(){Gm()||(this.style.display="none"),this.render()}disconnectedCallback(){this.__removeChildren()}__insertChildren(){fe(fe(this).parentNode).insertBefore(this.root,this)}__removeChildren(){if(this.__children)for(let t=0;t<this.__children.length;t++)this.root.appendChild(this.__children[t])}render(){let t;if(!this.__children){if(t=t||this.querySelector("template"),!t){let e=new MutationObserver(()=>{if(t=this.querySelector("template"),t)e.disconnect(),this.render();else throw new Error("dom-bind requires a <template> child")});e.observe(this,{childList:!0});return}this.root=this._stampTemplate(t),this.$=this.root.$,this.__children=[];for(let e=this.root.firstChild;e;e=e.nextSibling)this.__children[this.__children.length]=e;this._enableProperties()}this.__insertChildren(),this.dispatchEvent(new CustomEvent("dom-change",{bubbles:!0,composed:!0}))}}customElements.define("dom-bind",Rw);/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const Pw=Vm(W);class Pd extends Pw{static get is(){return"dom-repeat"}static get template(){return null}static get properties(){return{items:{type:Array},as:{type:String,value:"item"},indexAs:{type:String,value:"index"},itemsIndexAs:{type:String,value:"itemsIndex"},sort:{type:Function,observer:"__sortChanged"},filter:{type:Function,observer:"__filterChanged"},observe:{type:String,observer:"__observeChanged"},delay:Number,renderedItemCount:{type:Number,notify:!id,readOnly:!0},initialCount:{type:Number},targetFramerate:{type:Number,value:20},_targetFrameTime:{type:Number,computed:"__computeFrameTime(targetFramerate)"},notifyDomChange:{type:Boolean},reuseChunkedInstances:{type:Boolean}}}static get observers(){return["__itemsChanged(items.*)"]}constructor(){super(),this.__instances=[],this.__renderDebouncer=null,this.__itemsIdxToInstIdx={},this.__chunkCount=null,this.__renderStartTime=null,this.__itemsArrayChanged=!1,this.__shouldMeasureChunk=!1,this.__shouldContinueChunking=!1,this.__chunkingId=0,this.__sortFn=null,this.__filterFn=null,this.__observePaths=null,this.__ctor=null,this.__isDetached=!0,this.template=null,this._templateInfo}disconnectedCallback(){super.disconnectedCallback(),this.__isDetached=!0;for(let t=0;t<this.__instances.length;t++)this.__detachInstance(t);this.__chunkingId&&cancelAnimationFrame(this.__chunkingId)}connectedCallback(){if(super.connectedCallback(),Gm()||(this.style.display="none"),this.__isDetached){this.__isDetached=!1;let t=fe(fe(this).parentNode);for(let e=0;e<this.__instances.length;e++)this.__attachInstance(e,t);this.__chunkingId&&this.__render()}}__ensureTemplatized(){if(!this.__ctor){const t=this;let e=this.template=t._templateInfo?t:this.querySelector("template");if(!e){let n=new MutationObserver(()=>{if(this.querySelector("template"))n.disconnect(),this.__render();else throw new Error("dom-repeat requires a <template> child")});return n.observe(this,{childList:!0}),!1}let i={};i[this.as]=!0,i[this.indexAs]=!0,i[this.itemsIndexAs]=!0,this.__ctor=Ku(e,this,{mutableData:this.mutableData,parentModel:!0,instanceProps:i,forwardHostProp:function(n,s){let o=this.__instances;for(let a=0,l;a<o.length&&(l=o[a]);a++)l.forwardHostProp(n,s)},notifyInstanceProp:function(n,s,o){if(Hm(this.as,s)){let a=n[this.itemsIndexAs];s==this.as&&(this.items[a]=o);let l=Um(this.as,`${JSCompiler_renameProperty("items",this)}.${a}`,s);this.notifyPath(l,o)}}})}return!0}__getMethodHost(){return this.__dataHost._methodHost||this.__dataHost}__functionFromPropertyValue(t){if(typeof t=="string"){let e=t,i=this.__getMethodHost();return function(){return i[e].apply(i,arguments)}}return t}__sortChanged(t){this.__sortFn=this.__functionFromPropertyValue(t),this.items&&this.__debounceRender(this.__render)}__filterChanged(t){this.__filterFn=this.__functionFromPropertyValue(t),this.items&&this.__debounceRender(this.__render)}__computeFrameTime(t){return Math.ceil(1e3/t)}__observeChanged(){this.__observePaths=this.observe&&this.observe.replace(".*",".").split(" ")}__handleObservedPaths(t){if(this.__sortFn||this.__filterFn){if(!t)this.__debounceRender(this.__render,this.delay);else if(this.__observePaths){let e=this.__observePaths;for(let i=0;i<e.length;i++)t.indexOf(e[i])===0&&this.__debounceRender(this.__render,this.delay)}}}__itemsChanged(t){this.items&&!Array.isArray(this.items)&&console.warn("dom-repeat expected array for `items`, found",this.items),this.__handleItemPath(t.path,t.value)||(t.path==="items"&&(this.__itemsArrayChanged=!0),this.__debounceRender(this.__render))}__debounceRender(t,e=0){this.__renderDebouncer=Pt.debounce(this.__renderDebouncer,e>0?kt.after(e):Hi,t.bind(this)),Wm(this.__renderDebouncer)}render(){this.__debounceRender(this.__render),Gs()}__render(){if(!this.__ensureTemplatized())return;let t=this.items||[];const e=this.__sortAndFilterItems(t),i=this.__calculateLimit(e.length);this.__updateInstances(t,i,e),this.initialCount&&(this.__shouldMeasureChunk||this.__shouldContinueChunking)&&(cancelAnimationFrame(this.__chunkingId),this.__chunkingId=requestAnimationFrame(()=>{this.__chunkingId=null,this.__continueChunking()})),this._setRenderedItemCount(this.__instances.length),(!id||this.notifyDomChange)&&this.dispatchEvent(new CustomEvent("dom-change",{bubbles:!0,composed:!0}))}__sortAndFilterItems(t){let e=new Array(t.length);for(let i=0;i<t.length;i++)e[i]=i;return this.__filterFn&&(e=e.filter((i,n,s)=>this.__filterFn(t[i],n,s))),this.__sortFn&&e.sort((i,n)=>this.__sortFn(t[i],t[n])),e}__calculateLimit(t){let e=t;const i=this.__instances.length;if(this.initialCount){let n;!this.__chunkCount||this.__itemsArrayChanged&&!this.reuseChunkedInstances?(e=Math.min(t,this.initialCount),n=Math.max(e-i,0),this.__chunkCount=n||1):(n=Math.min(Math.max(t-i,0),this.__chunkCount),e=Math.min(i+n,t)),this.__shouldMeasureChunk=n===this.__chunkCount,this.__shouldContinueChunking=e<t,this.__renderStartTime=performance.now()}return this.__itemsArrayChanged=!1,e}__continueChunking(){if(this.__shouldMeasureChunk){const t=performance.now()-this.__renderStartTime,e=this._targetFrameTime/t;this.__chunkCount=Math.round(this.__chunkCount*e)||1}this.__shouldContinueChunking&&this.__debounceRender(this.__render)}__updateInstances(t,e,i){const n=this.__itemsIdxToInstIdx={};let s;for(s=0;s<e;s++){let o=this.__instances[s],a=i[s],l=t[a];n[a]=s,o?(o._setPendingProperty(this.as,l),o._setPendingProperty(this.indexAs,s),o._setPendingProperty(this.itemsIndexAs,a),o._flushProperties()):this.__insertInstance(l,s,a)}for(let o=this.__instances.length-1;o>=s;o--)this.__detachAndRemoveInstance(o)}__detachInstance(t){let e=this.__instances[t];const i=fe(e.root);for(let n=0;n<e.children.length;n++){let s=e.children[n];i.appendChild(s)}return e}__attachInstance(t,e){let i=this.__instances[t];e.insertBefore(i.root,this)}__detachAndRemoveInstance(t){this.__detachInstance(t),this.__instances.splice(t,1)}__stampInstance(t,e,i){let n={};return n[this.as]=t,n[this.indexAs]=e,n[this.itemsIndexAs]=i,new this.__ctor(n)}__insertInstance(t,e,i){const n=this.__stampInstance(t,e,i);let s=this.__instances[e+1],o=s?s.children[0]:this;return fe(fe(this).parentNode).insertBefore(n.root,o),this.__instances[e]=n,n}_showHideChildren(t){for(let e=0;e<this.__instances.length;e++)this.__instances[e]._showHideChildren(t)}__handleItemPath(t,e){let i=t.slice(6),n=i.indexOf("."),s=n<0?i:i.substring(0,n);if(s==parseInt(s,10)){let o=n<0?"":i.substring(n+1);this.__handleObservedPaths(o);let a=this.__itemsIdxToInstIdx[s],l=this.__instances[a];if(l){let h=this.as+(o?"."+o:"");l._setPendingPropertyOrPath(h,e,!1,!0),l._flushProperties()}return!0}}itemForElement(t){let e=this.modelForElement(t);return e&&e[this.as]}indexForElement(t){let e=this.modelForElement(t);return e&&e[this.indexAs]}modelForElement(t){return Bm(this.template,t)}}customElements.define(Pd.is,Pd);/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/let kw=Zi(r=>{let t=Xu(r);class e extends t{static get properties(){return{items:{type:Array},multi:{type:Boolean,value:!1},selected:{type:Object,notify:!0},selectedItem:{type:Object,notify:!0},toggle:{type:Boolean,value:!1}}}static get observers(){return["__updateSelection(multi, items.*)"]}constructor(){super(),this.__lastItems=null,this.__lastMulti=null,this.__selectedMap=null}__updateSelection(n,s){let o=s.path;if(o==JSCompiler_renameProperty("items",this)){let a=s.base||[],l=this.__lastItems,h=this.__lastMulti;if(n!==h&&this.clearSelection(),l){let u=Zu(a,l);this.__applySplices(u)}this.__lastItems=a,this.__lastMulti=n}else if(s.path==`${JSCompiler_renameProperty("items",this)}.splices`)this.__applySplices(s.value.indexSplices);else{let a=o.slice(`${JSCompiler_renameProperty("items",this)}.`.length),l=parseInt(a,10);a.indexOf(".")<0&&a==l&&this.__deselectChangedIdx(l)}}__applySplices(n){let s=this.__selectedMap;for(let a=0;a<n.length;a++){let l=n[a];s.forEach((h,u)=>{h<l.index||(h>=l.index+l.removed.length?s.set(u,h+l.addedCount-l.removed.length):s.set(u,-1))});for(let h=0;h<l.addedCount;h++){let u=l.index+h;s.has(this.items[u])&&s.set(this.items[u],u)}}this.__updateLinks();let o=0;s.forEach((a,l)=>{a<0?(this.multi?this.splice(JSCompiler_renameProperty("selected",this),o,1):this.selected=this.selectedItem=null,s.delete(l)):o++})}__updateLinks(){if(this.__dataLinkedPaths={},this.multi){let n=0;this.__selectedMap.forEach(s=>{s>=0&&this.linkPaths(`${JSCompiler_renameProperty("items",this)}.${s}`,`${JSCompiler_renameProperty("selected",this)}.${n++}`)})}else this.__selectedMap.forEach(n=>{this.linkPaths(JSCompiler_renameProperty("selected",this),`${JSCompiler_renameProperty("items",this)}.${n}`),this.linkPaths(JSCompiler_renameProperty("selectedItem",this),`${JSCompiler_renameProperty("items",this)}.${n}`)})}clearSelection(){this.__dataLinkedPaths={},this.__selectedMap=new Map,this.selected=this.multi?[]:null,this.selectedItem=null}isSelected(n){return this.__selectedMap.has(n)}isIndexSelected(n){return this.isSelected(this.items[n])}__deselectChangedIdx(n){let s=this.__selectedIndexForItemIndex(n);if(s>=0){let o=0;this.__selectedMap.forEach((a,l)=>{s==o++&&this.deselect(l)})}}__selectedIndexForItemIndex(n){let s=this.__dataLinkedPaths[`${JSCompiler_renameProperty("items",this)}.${n}`];if(s)return parseInt(s.slice(`${JSCompiler_renameProperty("selected",this)}.`.length),10)}deselect(n){let s=this.__selectedMap.get(n);if(s>=0){this.__selectedMap.delete(n);let o;this.multi&&(o=this.__selectedIndexForItemIndex(s)),this.__updateLinks(),this.multi?this.splice(JSCompiler_renameProperty("selected",this),o,1):this.selected=this.selectedItem=null}}deselectIndex(n){this.deselect(this.items[n])}select(n){this.selectIndex(this.items.indexOf(n))}selectIndex(n){let s=this.items[n];this.isSelected(s)?this.toggle&&this.deselectIndex(n):(this.multi||this.__selectedMap.clear(),this.__selectedMap.set(s,n),this.__updateLinks(),this.multi?this.push(JSCompiler_renameProperty("selected",this),s):this.selected=this.selectedItem=s)}}return e}),Dw=kw(W);class kd extends Dw{static get is(){return"array-selector"}static get template(){return null}}customElements.define(kd.is,kd);/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const Us=new xi;window.ShadyCSS||(window.ShadyCSS={prepareTemplate(r,t,e){},prepareTemplateDom(r,t){},prepareTemplateStyles(r,t,e){},styleSubtree(r,t){Us.processStyles(),ih(r,t)},styleElement(r){Us.processStyles()},styleDocument(r){Us.processStyles(),ih(document.body,r)},getComputedStyleValue(r,t){return dv(r,t)},flushCustomStyles(){},nativeCss:rc,nativeShadow:il,cssBuild:Fn,disableRuntime:rv});window.ShadyCSS.CustomStyleInterface=Us;/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const Dd="include",Lw=window.ShadyCSS.CustomStyleInterface;class Fw extends HTMLElement{constructor(){super(),this._style=null,Lw.addCustomStyle(this)}getStyle(){if(this._style)return this._style;const t=this.querySelector("style");if(!t)return null;this._style=t;const e=t.getAttribute(Dd);return e&&(t.removeAttribute(Dd),t.textContent=Tb(e)+t.textContent),this.ownerDocument!==window.document&&window.document.head.appendChild(this),this._style}}window.customElements.define("custom-style",Fw);/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/let Mv;Mv=Ob._mutablePropertyChange;const $w={properties:{mutableData:Boolean},_shouldPropertyChange(r,t,e){return Mv(this,r,t,e,this.mutableData)}};/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const Nw=Iv(HTMLElement).prototype;/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/const Rv=H`
<custom-style>
  <style is="custom-style">
    [hidden] {
      display: none !important;
    }
  </style>
</custom-style>
<custom-style>
  <style is="custom-style">
    html {

      --layout: {
        display: -ms-flexbox;
        display: -webkit-flex;
        display: flex;
      };

      --layout-inline: {
        display: -ms-inline-flexbox;
        display: -webkit-inline-flex;
        display: inline-flex;
      };

      --layout-horizontal: {
        @apply --layout;

        -ms-flex-direction: row;
        -webkit-flex-direction: row;
        flex-direction: row;
      };

      --layout-horizontal-reverse: {
        @apply --layout;

        -ms-flex-direction: row-reverse;
        -webkit-flex-direction: row-reverse;
        flex-direction: row-reverse;
      };

      --layout-vertical: {
        @apply --layout;

        -ms-flex-direction: column;
        -webkit-flex-direction: column;
        flex-direction: column;
      };

      --layout-vertical-reverse: {
        @apply --layout;

        -ms-flex-direction: column-reverse;
        -webkit-flex-direction: column-reverse;
        flex-direction: column-reverse;
      };

      --layout-wrap: {
        -ms-flex-wrap: wrap;
        -webkit-flex-wrap: wrap;
        flex-wrap: wrap;
      };

      --layout-wrap-reverse: {
        -ms-flex-wrap: wrap-reverse;
        -webkit-flex-wrap: wrap-reverse;
        flex-wrap: wrap-reverse;
      };

      --layout-flex-auto: {
        -ms-flex: 1 1 auto;
        -webkit-flex: 1 1 auto;
        flex: 1 1 auto;
      };

      --layout-flex-none: {
        -ms-flex: none;
        -webkit-flex: none;
        flex: none;
      };

      --layout-flex: {
        -ms-flex: 1 1 0.000000001px;
        -webkit-flex: 1;
        flex: 1;
        -webkit-flex-basis: 0.000000001px;
        flex-basis: 0.000000001px;
      };

      --layout-flex-2: {
        -ms-flex: 2;
        -webkit-flex: 2;
        flex: 2;
      };

      --layout-flex-3: {
        -ms-flex: 3;
        -webkit-flex: 3;
        flex: 3;
      };

      --layout-flex-4: {
        -ms-flex: 4;
        -webkit-flex: 4;
        flex: 4;
      };

      --layout-flex-5: {
        -ms-flex: 5;
        -webkit-flex: 5;
        flex: 5;
      };

      --layout-flex-6: {
        -ms-flex: 6;
        -webkit-flex: 6;
        flex: 6;
      };

      --layout-flex-7: {
        -ms-flex: 7;
        -webkit-flex: 7;
        flex: 7;
      };

      --layout-flex-8: {
        -ms-flex: 8;
        -webkit-flex: 8;
        flex: 8;
      };

      --layout-flex-9: {
        -ms-flex: 9;
        -webkit-flex: 9;
        flex: 9;
      };

      --layout-flex-10: {
        -ms-flex: 10;
        -webkit-flex: 10;
        flex: 10;
      };

      --layout-flex-11: {
        -ms-flex: 11;
        -webkit-flex: 11;
        flex: 11;
      };

      --layout-flex-12: {
        -ms-flex: 12;
        -webkit-flex: 12;
        flex: 12;
      };

      /* alignment in cross axis */

      --layout-start: {
        -ms-flex-align: start;
        -webkit-align-items: flex-start;
        align-items: flex-start;
      };

      --layout-center: {
        -ms-flex-align: center;
        -webkit-align-items: center;
        align-items: center;
      };

      --layout-end: {
        -ms-flex-align: end;
        -webkit-align-items: flex-end;
        align-items: flex-end;
      };

      --layout-baseline: {
        -ms-flex-align: baseline;
        -webkit-align-items: baseline;
        align-items: baseline;
      };

      /* alignment in main axis */

      --layout-start-justified: {
        -ms-flex-pack: start;
        -webkit-justify-content: flex-start;
        justify-content: flex-start;
      };

      --layout-center-justified: {
        -ms-flex-pack: center;
        -webkit-justify-content: center;
        justify-content: center;
      };

      --layout-end-justified: {
        -ms-flex-pack: end;
        -webkit-justify-content: flex-end;
        justify-content: flex-end;
      };

      --layout-around-justified: {
        -ms-flex-pack: distribute;
        -webkit-justify-content: space-around;
        justify-content: space-around;
      };

      --layout-justified: {
        -ms-flex-pack: justify;
        -webkit-justify-content: space-between;
        justify-content: space-between;
      };

      --layout-center-center: {
        @apply --layout-center;
        @apply --layout-center-justified;
      };

      /* self alignment */

      --layout-self-start: {
        -ms-align-self: flex-start;
        -webkit-align-self: flex-start;
        align-self: flex-start;
      };

      --layout-self-center: {
        -ms-align-self: center;
        -webkit-align-self: center;
        align-self: center;
      };

      --layout-self-end: {
        -ms-align-self: flex-end;
        -webkit-align-self: flex-end;
        align-self: flex-end;
      };

      --layout-self-stretch: {
        -ms-align-self: stretch;
        -webkit-align-self: stretch;
        align-self: stretch;
      };

      --layout-self-baseline: {
        -ms-align-self: baseline;
        -webkit-align-self: baseline;
        align-self: baseline;
      };

      /* multi-line alignment in main axis */

      --layout-start-aligned: {
        -ms-flex-line-pack: start;  /* IE10 */
        -ms-align-content: flex-start;
        -webkit-align-content: flex-start;
        align-content: flex-start;
      };

      --layout-end-aligned: {
        -ms-flex-line-pack: end;  /* IE10 */
        -ms-align-content: flex-end;
        -webkit-align-content: flex-end;
        align-content: flex-end;
      };

      --layout-center-aligned: {
        -ms-flex-line-pack: center;  /* IE10 */
        -ms-align-content: center;
        -webkit-align-content: center;
        align-content: center;
      };

      --layout-between-aligned: {
        -ms-flex-line-pack: justify;  /* IE10 */
        -ms-align-content: space-between;
        -webkit-align-content: space-between;
        align-content: space-between;
      };

      --layout-around-aligned: {
        -ms-flex-line-pack: distribute;  /* IE10 */
        -ms-align-content: space-around;
        -webkit-align-content: space-around;
        align-content: space-around;
      };

      /*******************************
                Other Layout
      *******************************/

      --layout-block: {
        display: block;
      };

      --layout-invisible: {
        visibility: hidden !important;
      };

      --layout-relative: {
        position: relative;
      };

      --layout-fit: {
        position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
      };

      --layout-scroll: {
        -webkit-overflow-scrolling: touch;
        overflow: auto;
      };

      --layout-fullbleed: {
        margin: 0;
        height: 100vh;
      };

      /* fixed position */

      --layout-fixed-top: {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
      };

      --layout-fixed-right: {
        position: fixed;
        top: 0;
        right: 0;
        bottom: 0;
      };

      --layout-fixed-bottom: {
        position: fixed;
        right: 0;
        bottom: 0;
        left: 0;
      };

      --layout-fixed-left: {
        position: fixed;
        top: 0;
        bottom: 0;
        left: 0;
      };

    }
  </style>
</custom-style>`;Rv.setAttribute("style","display: none;");document.head.appendChild(Rv.content);var Pv=document.createElement("style");Pv.textContent="[hidden] { display: none !important; }";document.head.appendChild(Pv);/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/class dt{constructor(t){dt[" "](t),this.type=t&&t.type||"default",this.key=t&&t.key,t&&"value"in t&&(this.value=t.value)}get value(){var t=this.type,e=this.key;if(t&&e)return dt.types[t]&&dt.types[t][e]}set value(t){var e=this.type,i=this.key;e&&i&&(e=dt.types[e]=dt.types[e]||{},t==null?delete e[i]:e[i]=t)}get list(){var t=this.type;if(t){var e=dt.types[this.type];return e?Object.keys(e).map(function(i){return zw[this.type][i]},this):[]}}byKey(t){return this.key=t,this.value}}dt[" "]=function(){};dt.types={};var zw=dt.types;ns({is:"iron-meta",properties:{type:{type:String,value:"default"},key:{type:String},value:{type:String,notify:!0},self:{type:Boolean,observer:"_selfChanged"},__meta:{type:Boolean,computed:"__computeMeta(type, key, value)"}},hostAttributes:{hidden:!0},__computeMeta:function(r,t,e){var i=new dt({type:r,key:t});return e!==void 0&&e!==i.value?i.value=e:this.value!==i.value&&(this.value=i.value),i},get list(){return this.__meta&&this.__meta.list},_selfChanged:function(r){r&&(this.value=this)},byKey:function(r){return new dt({type:this.type,key:r}).value}});/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/ns({_template:H`
    <style>
      :host {
        @apply --layout-inline;
        @apply --layout-center-center;
        position: relative;

        vertical-align: middle;

        fill: var(--iron-icon-fill-color, currentcolor);
        stroke: var(--iron-icon-stroke-color, none);

        width: var(--iron-icon-width, 24px);
        height: var(--iron-icon-height, 24px);
        @apply --iron-icon;
      }

      :host([hidden]) {
        display: none;
      }
    </style>
`,is:"iron-icon",properties:{icon:{type:String},theme:{type:String},src:{type:String},_meta:{value:Nw.create("iron-meta",{type:"iconset"})}},observers:["_updateIcon(_meta, isAttached)","_updateIcon(theme, isAttached)","_srcChanged(src, isAttached)","_iconChanged(icon, isAttached)"],_DEFAULT_ICONSET:"icons",_iconChanged:function(r){var t=(r||"").split(":");this._iconName=t.pop(),this._iconsetName=t.pop()||this._DEFAULT_ICONSET,this._updateIcon()},_srcChanged:function(r){this._updateIcon()},_usesIconset:function(){return this.icon||!this.src},_updateIcon:function(){this._usesIconset()?(this._img&&this._img.parentNode&&qe(this.root).removeChild(this._img),this._iconName===""?this._iconset&&this._iconset.removeIcon(this):this._iconsetName&&this._meta&&(this._iconset=this._meta.byKey(this._iconsetName),this._iconset?(this._iconset.applyIcon(this,this._iconName,this.theme),this.unlisten(window,"iron-iconset-added","_updateIcon")):this.listen(window,"iron-iconset-added","_updateIcon"))):(this._iconset&&this._iconset.removeIcon(this),this._img||(this._img=document.createElement("img"),this._img.style.width="100%",this._img.style.height="100%",this._img.draggable=!1),this._img.src=this.src,qe(this.root).appendChild(this._img))}});/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/var Is=new Set;const Bw={properties:{_parentResizable:{type:Object,observer:"_parentResizableChanged"},_notifyingDescendant:{type:Boolean,value:!1}},listeners:{"iron-request-resize-notifications":"_onIronRequestResizeNotifications"},created:function(){this._interestedResizables=[],this._boundNotifyResize=this.notifyResize.bind(this),this._boundOnDescendantIronResize=this._onDescendantIronResize.bind(this)},attached:function(){this._requestResizeNotifications()},detached:function(){this._parentResizable?this._parentResizable.stopResizeNotificationsFor(this):(Is.delete(this),window.removeEventListener("resize",this._boundNotifyResize)),this._parentResizable=null},notifyResize:function(){!this.isAttached||(this._interestedResizables.forEach(function(r){this.resizerShouldNotify(r)&&this._notifyDescendant(r)},this),this._fireResize())},assignParentResizable:function(r){this._parentResizable&&this._parentResizable.stopResizeNotificationsFor(this),this._parentResizable=r,r&&r._interestedResizables.indexOf(this)===-1&&(r._interestedResizables.push(this),r._subscribeIronResize(this))},stopResizeNotificationsFor:function(r){var t=this._interestedResizables.indexOf(r);t>-1&&(this._interestedResizables.splice(t,1),this._unsubscribeIronResize(r))},_subscribeIronResize:function(r){r.addEventListener("iron-resize",this._boundOnDescendantIronResize)},_unsubscribeIronResize:function(r){r.removeEventListener("iron-resize",this._boundOnDescendantIronResize)},resizerShouldNotify:function(r){return!0},_onDescendantIronResize:function(r){if(this._notifyingDescendant){r.stopPropagation();return}Mb||this._fireResize()},_fireResize:function(){this.fire("iron-resize",null,{node:this,bubbles:!1})},_onIronRequestResizeNotifications:function(r){var t=qe(r).rootTarget;t!==this&&(t.assignParentResizable(this),this._notifyDescendant(t),r.stopPropagation())},_parentResizableChanged:function(r){r&&window.removeEventListener("resize",this._boundNotifyResize)},_notifyDescendant:function(r){!this.isAttached||(this._notifyingDescendant=!0,r.notifyResize(),this._notifyingDescendant=!1)},_requestResizeNotifications:function(){if(!!this.isAttached)if(document.readyState==="loading"){var r=this._requestResizeNotifications.bind(this);document.addEventListener("readystatechange",function t(){document.removeEventListener("readystatechange",t),r()})}else this._findParent(),this._parentResizable?this._parentResizable._interestedResizables.forEach(function(t){t!==this&&t._findParent()},this):(Is.forEach(function(t){t!==this&&t._findParent()},this),window.addEventListener("resize",this._boundNotifyResize),this.notifyResize())},_findParent:function(){this.assignParentResizable(null),this.fire("iron-request-resize-notifications",null,{node:this,bubbles:!0,cancelable:!0}),this._parentResizable?Is.delete(this):Is.add(this)}};/**
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/const Vw={properties:{scrollTarget:{type:HTMLElement,value:function(){return this._defaultScrollTarget}}},observers:["_scrollTargetChanged(scrollTarget, isAttached)"],_shouldHaveListener:!0,_scrollTargetChanged:function(r,t){if(this._oldScrollTarget&&(this._toggleScrollListener(!1,this._oldScrollTarget),this._oldScrollTarget=null),!!t)if(r==="document")this.scrollTarget=this._doc;else if(typeof r=="string"){var e=this.domHost;this.scrollTarget=e&&e.$?e.$[r]:qe(this.ownerDocument).querySelector("#"+r)}else this._isValidScrollTarget()&&(this._oldScrollTarget=r,this._toggleScrollListener(this._shouldHaveListener,r))},_scrollHandler:function(){},get _defaultScrollTarget(){return this._doc},get _doc(){return this.ownerDocument.documentElement},get _scrollTop(){return this._isValidScrollTarget()?this.scrollTarget===this._doc?window.pageYOffset:this.scrollTarget.scrollTop:0},get _scrollLeft(){return this._isValidScrollTarget()?this.scrollTarget===this._doc?window.pageXOffset:this.scrollTarget.scrollLeft:0},set _scrollTop(r){this.scrollTarget===this._doc?window.scrollTo(window.pageXOffset,r):this._isValidScrollTarget()&&(this.scrollTarget.scrollTop=r)},set _scrollLeft(r){this.scrollTarget===this._doc?window.scrollTo(r,window.pageYOffset):this._isValidScrollTarget()&&(this.scrollTarget.scrollLeft=r)},scroll:function(r,t){var e;typeof r=="object"?(e=r.left,t=r.top):e=r,e=e||0,t=t||0,this.scrollTarget===this._doc?window.scrollTo(e,t):this._isValidScrollTarget()&&(this.scrollTarget.scrollLeft=e,this.scrollTarget.scrollTop=t)},get _scrollTargetWidth(){return this._isValidScrollTarget()?this.scrollTarget===this._doc?window.innerWidth:this.scrollTarget.offsetWidth:0},get _scrollTargetHeight(){return this._isValidScrollTarget()?this.scrollTarget===this._doc?window.innerHeight:this.scrollTarget.offsetHeight:0},_isValidScrollTarget:function(){return this.scrollTarget instanceof HTMLElement},_toggleScrollListener:function(r,t){var e=t===this._doc?window:t;r?this._boundScrollHandler||(this._boundScrollHandler=this._scrollHandler.bind(this),e.addEventListener("scroll",this._boundScrollHandler)):this._boundScrollHandler&&(e.removeEventListener("scroll",this._boundScrollHandler),this._boundScrollHandler=null)},toggleScrollListener:function(r){this._shouldHaveListener=r,this._toggleScrollListener(r,this.scrollTarget)}};/**
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/var Ld=navigator.userAgent.match(/iP(?:hone|ad;(?: U;)? CPU) OS (\d+)/),Gw=Ld&&Ld[1]>=8,Fd=3,$d="-10000px",un=-100;ns({_template:H`
    <style>
      :host {
        display: block;
      }

      @media only screen and (-webkit-max-device-pixel-ratio: 1) {
        :host {
          will-change: transform;
        }
      }

      #items {
        @apply --iron-list-items-container;
        position: relative;
      }

      :host(:not([grid])) #items > ::slotted(*) {
        width: 100%;
      }

      #items > ::slotted(*) {
        box-sizing: border-box;
        margin: 0;
        position: absolute;
        top: 0;
        will-change: transform;
      }
    </style>

    <array-selector id="selector" items="{{items}}" selected="{{selectedItems}}" selected-item="{{selectedItem}}"></array-selector>

    <div id="items">
      <slot></slot>
    </div>
`,is:"iron-list",properties:{items:{type:Array},as:{type:String,value:"item"},indexAs:{type:String,value:"index"},selectedAs:{type:String,value:"selected"},grid:{type:Boolean,value:!1,reflectToAttribute:!0,observer:"_gridChanged"},selectionEnabled:{type:Boolean,value:!1},selectedItem:{type:Object,notify:!0},selectedItems:{type:Object,notify:!0},multiSelection:{type:Boolean,value:!1},scrollOffset:{type:Number,value:0}},observers:["_itemsChanged(items.*)","_selectionEnabledChanged(selectionEnabled)","_multiSelectionChanged(multiSelection)","_setOverflow(scrollTarget, scrollOffset)"],behaviors:[Ow,Bw,Vw,$w],_ratio:.5,_scrollerPaddingTop:0,_scrollPosition:0,_physicalSize:0,_physicalAverage:0,_physicalAverageCount:0,_physicalTop:0,_virtualCount:0,_estScrollHeight:0,_scrollHeight:0,_viewportHeight:0,_viewportWidth:0,_physicalItems:null,_physicalSizes:null,_firstVisibleIndexVal:null,_lastVisibleIndexVal:null,_maxPages:2,_focusedItem:null,_focusedVirtualIndex:-1,_focusedPhysicalIndex:-1,_offscreenFocusedItem:null,_focusBackfillItem:null,_itemsPerRow:1,_itemWidth:0,_rowHeight:0,_templateCost:0,_parentModel:!0,get _physicalBottom(){return this._physicalTop+this._physicalSize},get _scrollBottom(){return this._scrollPosition+this._viewportHeight},get _virtualEnd(){return this._virtualStart+this._physicalCount-1},get _hiddenContentSize(){var r=this.grid?this._physicalRows*this._rowHeight:this._physicalSize;return r-this._viewportHeight},get _itemsParent(){return qe(qe(this._userTemplate).parentNode)},get _maxScrollTop(){return this._estScrollHeight-this._viewportHeight+this._scrollOffset},get _maxVirtualStart(){var r=this._convertIndexToCompleteRow(this._virtualCount);return Math.max(0,r-this._physicalCount)},set _virtualStart(r){r=this._clamp(r,0,this._maxVirtualStart),this.grid&&(r=r-r%this._itemsPerRow),this._virtualStartVal=r},get _virtualStart(){return this._virtualStartVal||0},set _physicalStart(r){r=r%this._physicalCount,r<0&&(r=this._physicalCount+r),this.grid&&(r=r-r%this._itemsPerRow),this._physicalStartVal=r},get _physicalStart(){return this._physicalStartVal||0},get _physicalEnd(){return(this._physicalStart+this._physicalCount-1)%this._physicalCount},set _physicalCount(r){this._physicalCountVal=r},get _physicalCount(){return this._physicalCountVal||0},get _optPhysicalSize(){return this._viewportHeight===0?1/0:this._viewportHeight*this._maxPages},get _isVisible(){return Boolean(this.offsetWidth||this.offsetHeight)},get firstVisibleIndex(){var r=this._firstVisibleIndexVal;if(r==null){var t=this._physicalTop+this._scrollOffset;r=this._iterateItems(function(e,i){if(t+=this._getPhysicalSizeIncrement(e),t>this._scrollPosition)return this.grid?i-i%this._itemsPerRow:i;if(this.grid&&this._virtualCount-1===i)return i-i%this._itemsPerRow})||0,this._firstVisibleIndexVal=r}return r},get lastVisibleIndex(){var r=this._lastVisibleIndexVal;if(r==null){if(this.grid)r=Math.min(this._virtualCount,this.firstVisibleIndex+this._estRowsInView*this._itemsPerRow-1);else{var t=this._physicalTop+this._scrollOffset;this._iterateItems(function(e,i){t<this._scrollBottom&&(r=i),t+=this._getPhysicalSizeIncrement(e)})}this._lastVisibleIndexVal=r}return r},get _defaultScrollTarget(){return this},get _virtualRowCount(){return Math.ceil(this._virtualCount/this._itemsPerRow)},get _estRowsInView(){return Math.ceil(this._viewportHeight/this._rowHeight)},get _physicalRows(){return Math.ceil(this._physicalCount/this._itemsPerRow)},get _scrollOffset(){return this._scrollerPaddingTop+this.scrollOffset},ready:function(){this.addEventListener("focus",this._didFocus.bind(this),!0)},attached:function(){this._debounce("_render",this._render,pr),this.listen(this,"iron-resize","_resizeHandler"),this.listen(this,"keydown","_keydownHandler")},detached:function(){this.unlisten(this,"iron-resize","_resizeHandler"),this.unlisten(this,"keydown","_keydownHandler")},_setOverflow:function(r){this.style.webkitOverflowScrolling=r===this?"touch":"",this.style.overflowY=r===this?"auto":"",this._lastVisibleIndexVal=null,this._firstVisibleIndexVal=null,this._debounce("_render",this._render,pr)},updateViewportBoundaries:function(){var r=window.getComputedStyle(this);this._scrollerPaddingTop=this.scrollTarget===this?0:parseInt(r["padding-top"],10),this._isRTL=Boolean(r.direction==="rtl"),this._viewportWidth=this.$.items.offsetWidth,this._viewportHeight=this._scrollTargetHeight,this.grid&&this._updateGridMetrics()},_scrollHandler:function(){var r=Math.max(0,Math.min(this._maxScrollTop,this._scrollTop)),t=r-this._scrollPosition,e=t>=0;if(this._scrollPosition=r,this._firstVisibleIndexVal=null,this._lastVisibleIndexVal=null,Math.abs(t)>this._physicalSize&&this._physicalSize>0){t=t-this._scrollOffset;var i=Math.round(t/this._physicalAverage)*this._itemsPerRow;this._virtualStart=this._virtualStart+i,this._physicalStart=this._physicalStart+i,this._physicalTop=Math.min(Math.floor(this._virtualStart/this._itemsPerRow)*this._physicalAverage,this._scrollPosition),this._update()}else if(this._physicalCount>0){var n=this._getReusables(e);e?(this._physicalTop=n.physicalTop,this._virtualStart=this._virtualStart+n.indexes.length,this._physicalStart=this._physicalStart+n.indexes.length):(this._virtualStart=this._virtualStart-n.indexes.length,this._physicalStart=this._physicalStart-n.indexes.length),this._update(n.indexes,e?null:n.indexes),this._debounce("_increasePoolIfNeeded",this._increasePoolIfNeeded.bind(this,0),Hi)}},_getReusables:function(r){var t,e,i,n=[],s=this._hiddenContentSize*this._ratio,o=this._virtualStart,a=this._virtualEnd,l=this._physicalCount,h=this._physicalTop+this._scrollOffset,u=this._physicalBottom+this._scrollOffset,c=this._scrollPosition,d=this._scrollBottom;for(r?(t=this._physicalStart,this._physicalEnd,e=c-h):(t=this._physicalEnd,this._physicalStart,e=u-d);i=this._getPhysicalSizeIncrement(t),e=e-i,!(n.length>=l||e<=s);)if(r){if(a+n.length+1>=this._virtualCount||h+i>=c-this._scrollOffset)break;n.push(t),h=h+i,t=(t+1)%l}else{if(o-n.length<=0||h+this._physicalSize-i<=d)break;n.push(t),h=h-i,t=t===0?l-1:t-1}return{indexes:n,physicalTop:h-this._scrollOffset}},_update:function(r,t){if(!(r&&r.length===0||this._physicalCount===0)){if(this._manageFocus(),this._assignModels(r),this._updateMetrics(r),t)for(;t.length;){var e=t.pop();this._physicalTop-=this._getPhysicalSizeIncrement(e)}this._positionItems(),this._updateScrollerSize()}},_createPool:function(r){this._ensureTemplatized();var t,e,i=new Array(r);for(t=0;t<r;t++)e=this.stamp(null),i[t]=e.root.querySelector("*"),this._itemsParent.appendChild(e.root);return i},_isClientFull:function(){return this._scrollBottom!=0&&this._physicalBottom-1>=this._scrollBottom&&this._physicalTop<=this._scrollPosition},_increasePoolIfNeeded:function(r){var t=this._clamp(this._physicalCount+r,Fd,this._virtualCount-this._virtualStart);if(t=this._convertIndexToCompleteRow(t),this.grid){var e=t%this._itemsPerRow;e&&t-e<=this._physicalCount&&(t+=this._itemsPerRow),t-=e}var i=t-this._physicalCount,n=Math.round(this._physicalCount*.5);if(!(i<0)){if(i>0){var s=window.performance.now();[].push.apply(this._physicalItems,this._createPool(i));for(var o=0;o<i;o++)this._physicalSizes.push(0);this._physicalCount=this._physicalCount+i,this._physicalStart>this._physicalEnd&&this._isIndexRendered(this._focusedVirtualIndex)&&this._getPhysicalIndex(this._focusedVirtualIndex)<this._physicalEnd&&(this._physicalStart=this._physicalStart+i),this._update(),this._templateCost=(window.performance.now()-s)/i,n=Math.round(this._physicalCount*.5)}this._virtualEnd>=this._virtualCount-1||n===0||(this._isClientFull()?this._physicalSize<this._optPhysicalSize&&this._debounce("_increasePoolIfNeeded",this._increasePoolIfNeeded.bind(this,this._clamp(Math.round(50/this._templateCost),1,n)),Rb):this._debounce("_increasePoolIfNeeded",this._increasePoolIfNeeded.bind(this,n),Hi))}},_render:function(){if(!(!this.isAttached||!this._isVisible))if(this._physicalCount!==0){var r=this._getReusables(!0);this._physicalTop=r.physicalTop,this._virtualStart=this._virtualStart+r.indexes.length,this._physicalStart=this._physicalStart+r.indexes.length,this._update(r.indexes),this._update(),this._increasePoolIfNeeded(0)}else this._virtualCount>0&&(this.updateViewportBoundaries(),this._increasePoolIfNeeded(Fd))},_ensureTemplatized:function(){if(!this.ctor){this._userTemplate=this.queryEffectiveChildren("template"),this._userTemplate||console.warn("iron-list requires a template to be provided in light-dom");var r={};r.__key__=!0,r[this.as]=!0,r[this.indexAs]=!0,r[this.selectedAs]=!0,r.tabIndex=!0,this._instanceProps=r,this.templatize(this._userTemplate,this.mutableData)}},_gridChanged:function(r,t){typeof t>"u"||(this.notifyResize(),Gs(),r&&this._updateGridMetrics())},_itemsChanged:function(r){if(r.path==="items")this._virtualStart=0,this._physicalTop=0,this._virtualCount=this.items?this.items.length:0,this._physicalIndexForKey={},this._firstVisibleIndexVal=null,this._lastVisibleIndexVal=null,this._physicalCount=this._physicalCount||0,this._physicalItems=this._physicalItems||[],this._physicalSizes=this._physicalSizes||[],this._physicalStart=0,this._scrollTop>this._scrollOffset&&this._resetScrollPosition(0),this._removeFocusedItem(),this._debounce("_render",this._render,pr);else if(r.path==="items.splices"){this._adjustVirtualIndex(r.value.indexSplices),this._virtualCount=this.items?this.items.length:0;var t=r.value.indexSplices.some(function(n){return n.addedCount>0||n.removed.length>0});if(t){var e=this._getActiveElement();this.contains(e)&&e.blur()}var i=r.value.indexSplices.some(function(n){return n.index+n.addedCount>=this._virtualStart&&n.index<=this._virtualEnd},this);(!this._isClientFull()||i)&&this._debounce("_render",this._render,pr)}else r.path!=="items.length"&&this._forwardItemPath(r.path,r.value)},_forwardItemPath:function(r,t){r=r.slice(6);var e=r.indexOf(".");e===-1&&(e=r.length);var i,n,s,o=this.modelForElement(this._offscreenFocusedItem),a=parseInt(r.substring(0,e),10);i=this._isIndexRendered(a),i?(n=this._getPhysicalIndex(a),s=this.modelForElement(this._physicalItems[n])):o&&(s=o),!(!s||s[this.indexAs]!==a)&&(r=r.substring(e+1),r=this.as+(r?"."+r:""),s._setPendingPropertyOrPath(r,t,!1,!0),s._flushProperties&&s._flushProperties(),i&&(this._updateMetrics([n]),this._positionItems(),this._updateScrollerSize()))},_adjustVirtualIndex:function(r){r.forEach(function(t){if(t.removed.forEach(this._removeItem,this),t.index<this._virtualStart){var e=Math.max(t.addedCount-t.removed.length,t.index-this._virtualStart);this._virtualStart=this._virtualStart+e,this._focusedVirtualIndex>=0&&(this._focusedVirtualIndex=this._focusedVirtualIndex+e)}},this)},_removeItem:function(r){this.$.selector.deselect(r),this._focusedItem&&this.modelForElement(this._focusedItem)[this.as]===r&&this._removeFocusedItem()},_iterateItems:function(r,t){var e,i,n,s;if(arguments.length===2&&t){for(s=0;s<t.length;s++)if(e=t[s],i=this._computeVidx(e),(n=r.call(this,e,i))!=null)return n}else{for(e=this._physicalStart,i=this._virtualStart;e<this._physicalCount;e++,i++)if((n=r.call(this,e,i))!=null)return n;for(e=0;e<this._physicalStart;e++,i++)if((n=r.call(this,e,i))!=null)return n}},_computeVidx:function(r){return r>=this._physicalStart?this._virtualStart+(r-this._physicalStart):this._virtualStart+(this._physicalCount-this._physicalStart)+r},_assignModels:function(r){this._iterateItems(function(t,e){var i=this._physicalItems[t],n=this.items&&this.items[e];if(n!=null){var s=this.modelForElement(i);s.__key__=null,this._forwardProperty(s,this.as,n),this._forwardProperty(s,this.selectedAs,this.$.selector.isSelected(n)),this._forwardProperty(s,this.indexAs,e),this._forwardProperty(s,"tabIndex",this._focusedVirtualIndex===e?0:-1),this._physicalIndexForKey[s.__key__]=t,s._flushProperties&&s._flushProperties(!0),i.removeAttribute("hidden")}else i.setAttribute("hidden","")},r)},_updateMetrics:function(r){Gs();var t=0,e=0,i=this._physicalAverageCount,n=this._physicalAverage;this._iterateItems(function(s,o){e+=this._physicalSizes[s],this._physicalSizes[s]=this._physicalItems[s].offsetHeight,t+=this._physicalSizes[s],this._physicalAverageCount+=this._physicalSizes[s]?1:0},r),this.grid?(this._updateGridMetrics(),this._physicalSize=Math.ceil(this._physicalCount/this._itemsPerRow)*this._rowHeight):(e=this._itemsPerRow===1?e:Math.ceil(this._physicalCount/this._itemsPerRow)*this._rowHeight,this._physicalSize=this._physicalSize+t-e,this._itemsPerRow=1),this._physicalAverageCount!==i&&(this._physicalAverage=Math.round((n*i+t)/this._physicalAverageCount))},_updateGridMetrics:function(){this._itemWidth=this._physicalCount>0?this._physicalItems[0].getBoundingClientRect().width:200,this._rowHeight=this._physicalCount>0?this._physicalItems[0].offsetHeight:200,this._itemsPerRow=this._itemWidth?Math.floor(this._viewportWidth/this._itemWidth):this._itemsPerRow},_positionItems:function(){this._adjustScrollPosition();var r=this._physicalTop;if(this.grid){var t=this._itemsPerRow*this._itemWidth,e=(this._viewportWidth-t)/2;this._iterateItems(function(i,n){var s=n%this._itemsPerRow,o=Math.floor(s*this._itemWidth+e);this._isRTL&&(o=o*-1),this.translate3d(o+"px",r+"px",0,this._physicalItems[i]),this._shouldRenderNextRow(n)&&(r+=this._rowHeight)})}else{const i=[];this._iterateItems(function(n,s){const o=this._physicalItems[n];this.translate3d(0,r+"px",0,o),r+=this._physicalSizes[n];const a=o.id;a&&i.push(a)}),i.length&&this.setAttribute("aria-owns",i.join(" "))}},_getPhysicalSizeIncrement:function(r){return this.grid?this._computeVidx(r)%this._itemsPerRow!==this._itemsPerRow-1?0:this._rowHeight:this._physicalSizes[r]},_shouldRenderNextRow:function(r){return r%this._itemsPerRow===this._itemsPerRow-1},_adjustScrollPosition:function(){var r=this._virtualStart===0?this._physicalTop:Math.min(this._scrollPosition+this._physicalTop,0);if(r!==0){this._physicalTop=this._physicalTop-r;var t=this._scrollPosition;!Gw&&t>0&&this._resetScrollPosition(t-r)}},_resetScrollPosition:function(r){this.scrollTarget&&r>=0&&(this._scrollTop=r,this._scrollPosition=this._scrollTop)},_updateScrollerSize:function(r){this.grid?this._estScrollHeight=this._virtualRowCount*this._rowHeight:this._estScrollHeight=this._physicalBottom+Math.max(this._virtualCount-this._physicalCount-this._virtualStart,0)*this._physicalAverage,r=r||this._scrollHeight===0,r=r||this._scrollPosition>=this._estScrollHeight-this._physicalSize,r=r||this.grid&&this.$.items.style.height<this._estScrollHeight,(r||Math.abs(this._estScrollHeight-this._scrollHeight)>=this._viewportHeight)&&(this.$.items.style.height=this._estScrollHeight+"px",this._scrollHeight=this._estScrollHeight)},scrollToItem:function(r){return this.scrollToIndex(this.items.indexOf(r))},scrollToIndex:function(r){if(!(typeof r!="number"||r<0||r>this.items.length-1)&&(Gs(),this._physicalCount!==0)){r=this._clamp(r,0,this._virtualCount-1),(!this._isIndexRendered(r)||r>=this._maxVirtualStart)&&(this._virtualStart=this.grid?r-this._itemsPerRow*2:r-1),this._manageFocus(),this._assignModels(),this._updateMetrics(),this._physicalTop=Math.floor(this._virtualStart/this._itemsPerRow)*this._physicalAverage;for(var t=this._physicalStart,e=this._virtualStart,i=0,n=this._hiddenContentSize;e<r&&i<=n;)i=i+this._getPhysicalSizeIncrement(t),t=(t+1)%this._physicalCount,e++;this._updateScrollerSize(!0),this._positionItems(),this._resetScrollPosition(this._physicalTop+this._scrollOffset+i),this._increasePoolIfNeeded(0),this._firstVisibleIndexVal=null,this._lastVisibleIndexVal=null}},_resetAverage:function(){this._physicalAverage=0,this._physicalAverageCount=0},_resizeHandler:function(){this._debounce("_render",function(){this._firstVisibleIndexVal=null,this._lastVisibleIndexVal=null,this._isVisible?(this.updateViewportBoundaries(),this.toggleScrollListener(!0),this._resetAverage(),this._render()):this.toggleScrollListener(!1)},pr)},selectItem:function(r){return this.selectIndex(this.items.indexOf(r))},selectIndex:function(r){if(!(r<0||r>=this._virtualCount)){if(!this.multiSelection&&this.selectedItem&&this.clearSelection(),this._isIndexRendered(r)){var t=this.modelForElement(this._physicalItems[this._getPhysicalIndex(r)]);t&&(t[this.selectedAs]=!0),this.updateSizeForIndex(r)}this.$.selector.selectIndex(r)}},deselectItem:function(r){return this.deselectIndex(this.items.indexOf(r))},deselectIndex:function(r){if(!(r<0||r>=this._virtualCount)){if(this._isIndexRendered(r)){var t=this.modelForElement(this._physicalItems[this._getPhysicalIndex(r)]);t[this.selectedAs]=!1,this.updateSizeForIndex(r)}this.$.selector.deselectIndex(r)}},toggleSelectionForItem:function(r){return this.toggleSelectionForIndex(this.items.indexOf(r))},toggleSelectionForIndex:function(r){var t=this.$.selector.isIndexSelected?this.$.selector.isIndexSelected(r):this.$.selector.isSelected(this.items[r]);t?this.deselectIndex(r):this.selectIndex(r)},clearSelection:function(){this._iterateItems(function(r,t){this.modelForElement(this._physicalItems[r])[this.selectedAs]=!1}),this.$.selector.clearSelection()},_selectionEnabledChanged:function(r){var t=r?this.listen:this.unlisten;t.call(this,this,"tap","_selectionHandler")},_selectionHandler:function(r){var t=this.modelForElement(r.target);if(!!t){var e,i,n=qe(r).path[0],s=this._getActiveElement(),o=this._physicalItems[this._getPhysicalIndex(t[this.indexAs])];n.localName==="input"||n.localName==="button"||n.localName==="select"||(e=t.tabIndex,t.tabIndex=un,i=s?s.tabIndex:-1,t.tabIndex=e,!(s&&o!==s&&o.contains(s)&&i!==un)&&this.toggleSelectionForItem(t[this.as]))}},_multiSelectionChanged:function(r){this.clearSelection(),this.$.selector.multi=r},updateSizeForItem:function(r){return this.updateSizeForIndex(this.items.indexOf(r))},updateSizeForIndex:function(r){return this._isIndexRendered(r)&&(this._updateMetrics([this._getPhysicalIndex(r)]),this._positionItems()),null},_manageFocus:function(){var r=this._focusedVirtualIndex;r>=0&&r<this._virtualCount?this._isIndexRendered(r)?this._restoreFocusedItem():this._createFocusBackfillItem():this._virtualCount>0&&this._physicalCount>0&&(this._focusedPhysicalIndex=this._physicalStart,this._focusedVirtualIndex=this._virtualStart,this._focusedItem=this._physicalItems[this._physicalStart])},_convertIndexToCompleteRow:function(r){return this._itemsPerRow=this._itemsPerRow||1,this.grid?Math.ceil(r/this._itemsPerRow)*this._itemsPerRow:r},_isIndexRendered:function(r){return r>=this._virtualStart&&r<=this._virtualEnd},_isIndexVisible:function(r){return r>=this.firstVisibleIndex&&r<=this.lastVisibleIndex},_getPhysicalIndex:function(r){return(this._physicalStart+(r-this._virtualStart))%this._physicalCount},focusItem:function(r){this._focusPhysicalItem(r)},_focusPhysicalItem:function(r){if(!(r<0||r>=this._virtualCount)){this._restoreFocusedItem(),this._isIndexRendered(r)||this.scrollToIndex(r);var t=this._physicalItems[this._getPhysicalIndex(r)],e=this.modelForElement(t),i;e.tabIndex=un,t.tabIndex===un&&(i=t),i||(i=qe(t).querySelector('[tabindex="'+un+'"]')),e.tabIndex=0,this._focusedVirtualIndex=r,i&&i.focus()}},_removeFocusedItem:function(){this._offscreenFocusedItem&&this._itemsParent.removeChild(this._offscreenFocusedItem),this._offscreenFocusedItem=null,this._focusBackfillItem=null,this._focusedItem=null,this._focusedVirtualIndex=-1,this._focusedPhysicalIndex=-1},_createFocusBackfillItem:function(){var r=this._focusedPhysicalIndex;if(!(this._offscreenFocusedItem||this._focusedVirtualIndex<0)){if(!this._focusBackfillItem){var t=this.stamp(null);this._focusBackfillItem=t.root.querySelector("*"),this._itemsParent.appendChild(t.root)}this._offscreenFocusedItem=this._physicalItems[r],this.modelForElement(this._offscreenFocusedItem).tabIndex=0,this._physicalItems[r]=this._focusBackfillItem,this._focusedPhysicalIndex=r,this.translate3d(0,$d,0,this._offscreenFocusedItem)}},_restoreFocusedItem:function(){if(!(!this._offscreenFocusedItem||this._focusedVirtualIndex<0)){this._assignModels();var r=this._focusedPhysicalIndex=this._getPhysicalIndex(this._focusedVirtualIndex),t=this._physicalItems[r];if(!!t){var e=this.modelForElement(t),i=this.modelForElement(this._offscreenFocusedItem);e[this.as]===i[this.as]?(this._focusBackfillItem=t,e.tabIndex=-1,this._physicalItems[r]=this._offscreenFocusedItem,this.translate3d(0,$d,0,this._focusBackfillItem)):(this._removeFocusedItem(),this._focusBackfillItem=null),this._offscreenFocusedItem=null}}},_didFocus:function(r){var t=this.modelForElement(r.target),e=this.modelForElement(this._focusedItem),i=this._offscreenFocusedItem!==null,n=this._focusedVirtualIndex;!t||(e===t?this._isIndexVisible(n)||this.scrollToIndex(n):(this._restoreFocusedItem(),e&&(e.tabIndex=-1),t.tabIndex=0,n=t[this.indexAs],this._focusedVirtualIndex=n,this._focusedPhysicalIndex=this._getPhysicalIndex(n),this._focusedItem=this._physicalItems[this._focusedPhysicalIndex],i&&!this._offscreenFocusedItem&&this._update()))},_keydownHandler:function(r){switch(r.keyCode){case 40:this._focusedVirtualIndex<this._virtualCount-1&&r.preventDefault(),this._focusPhysicalItem(this._focusedVirtualIndex+(this.grid?this._itemsPerRow:1));break;case 39:this.grid&&this._focusPhysicalItem(this._focusedVirtualIndex+(this._isRTL?-1:1));break;case 38:this._focusedVirtualIndex>0&&r.preventDefault(),this._focusPhysicalItem(this._focusedVirtualIndex-(this.grid?this._itemsPerRow:1));break;case 37:this.grid&&this._focusPhysicalItem(this._focusedVirtualIndex+(this._isRTL?1:-1));break;case 13:this._focusPhysicalItem(this._focusedVirtualIndex),this.selectionEnabled&&this._selectionHandler(r);break}},_clamp:function(r,t,e){return Math.min(e,Math.max(t,r))},_debounce:function(r,t,e){this._debouncers=this._debouncers||{},this._debouncers[r]=Pt.debounce(this._debouncers[r],e,t.bind(this)),Wm(this._debouncers[r])},_forwardProperty:function(r,t,e){r._setPendingProperty(t,e)},_forwardHostPropV2:function(r,t){(this._physicalItems||[]).concat([this._offscreenFocusedItem,this._focusBackfillItem]).forEach(function(e){e&&this.modelForElement(e).forwardHostProp(r,t)},this)},_notifyInstancePropV2:function(r,t,e){if(Hm(this.as,t)){var i=r[this.indexAs];t==this.as&&(this.items[i]=e),this.notifyPath(Um(this.as,"items."+i,t),e)}},_getStampedChildren:function(){return this._physicalItems},_forwardInstancePath:function(r,t,e){t.indexOf(this.as+".")===0&&this.notifyPath("items."+r.__key__+"."+t.slice(this.as.length+1),e)},_forwardParentPath:function(r,t){(this._physicalItems||[]).concat([this._offscreenFocusedItem,this._focusBackfillItem]).forEach(function(e){e&&this.modelForElement(e).notifyPath(r,t)},this)},_forwardParentProp:function(r,t){(this._physicalItems||[]).concat([this._offscreenFocusedItem,this._focusBackfillItem]).forEach(function(e){e&&(this.modelForElement(e)[r]=t)},this)},_getActiveElement:function(){var r=this._itemsParent.node.domHost;return qe(r?r.root:document).activeElement}});const kv=k`
  :host {
    margin: var(--lumo-space-xs) 0;
    outline: none;
  }

  [part='summary'] {
    display: flex;
    align-items: center;
    width: 100%;
    outline: none;
    padding: var(--lumo-space-s) 0;
    box-sizing: border-box;
    font-family: var(--lumo-font-family);
    font-size: var(--lumo-font-size-m);
    font-weight: 500;
    line-height: var(--lumo-line-height-xs);
    color: var(--lumo-secondary-text-color);
    background-color: inherit;
    border-radius: var(--lumo-border-radius-m);
    cursor: var(--lumo-clickable-cursor);
    -webkit-tap-highlight-color: transparent;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  :host([focus-ring]) [part='summary'] {
    box-shadow: 0 0 0 2px var(--lumo-primary-color-50pct);
  }

  [part='toggle'] {
    display: block;
    width: 1em;
    height: 1em;
    margin-left: calc(var(--lumo-space-xs) * -1);
    margin-right: var(--lumo-space-xs);
    font-size: var(--lumo-icon-size-s);
    line-height: 1;
    color: var(--lumo-contrast-60pct);
    font-family: 'lumo-icons';
    cursor: var(--lumo-clickable-cursor);
  }

  :host([disabled]) [part='summary'],
  :host([disabled]) [part='toggle'] {
    color: var(--lumo-disabled-text-color);
    cursor: default;
  }

  @media (hover: hover) {
    :host(:not([disabled])) [part='summary']:hover,
    :host(:not([disabled])) [part='summary']:hover [part='toggle'] {
      color: var(--lumo-contrast-80pct);
    }
  }

  [part='toggle']::before {
    content: var(--lumo-icons-angle-right);
  }

  :host([opened]) [part='toggle'] {
    transform: rotate(90deg);
  }

  [part='content'] {
    padding: var(--lumo-space-xs) 0 var(--lumo-space-s);
    font-size: var(--lumo-font-size-m);
    line-height: var(--lumo-line-height-m);
  }

  :host([theme~='filled']) {
    background-color: var(--lumo-contrast-5pct);
    border-radius: var(--lumo-border-radius-m);
  }

  :host([theme~='filled']) [part='summary'] {
    padding: var(--lumo-space-s) calc(var(--lumo-space-s) + var(--lumo-space-xs) / 2);
  }

  :host([theme~='filled']) [part='content'] {
    padding-left: var(--lumo-space-m);
    padding-right: var(--lumo-space-m);
  }

  :host([theme~='small']) [part='summary'] {
    padding-top: var(--lumo-space-xs);
    padding-bottom: var(--lumo-space-xs);
  }

  :host([theme~='small']) [part='toggle'] {
    margin-right: calc(var(--lumo-space-xs) / 2);
  }

  :host([theme~='small']) [part\$='content'] {
    font-size: var(--lumo-font-size-s);
  }

  :host([theme~='reverse']) [part='summary'] {
    justify-content: space-between;
  }

  :host([theme~='reverse']) [part='toggle'] {
    order: 1;
    margin-right: 0;
  }

  :host([theme~='reverse'][theme~='filled']) [part='summary'] {
    padding-left: var(--lumo-space-m);
  }

  /* RTL specific styles */
  :host([dir='rtl']) [part='toggle'] {
    margin-left: var(--lumo-space-xs);
    margin-right: calc(var(--lumo-space-xs) * -1);
  }

  :host([dir='rtl']) [part='toggle']::before {
    content: var(--lumo-icons-angle-left);
  }

  :host([opened][dir='rtl']) [part='toggle'] {
    transform: rotate(-90deg);
  }

  :host([theme~='small'][dir='rtl']) [part='toggle'] {
    margin-left: calc(var(--lumo-space-xs) / 2);
  }

  :host([theme~='reverse'][dir='rtl']) [part='toggle'] {
    margin-left: 0;
  }

  :host([theme~='reverse'][theme~='filled'][dir='rtl']) [part='summary'] {
    padding-right: var(--lumo-space-m);
  }
`;R("vaadin-details",kv,{moduleId:"lumo-details"});const Hw=k`
  :host {
    margin: 0;
    border-bottom: solid 1px var(--lumo-contrast-10pct);
  }

  :host(:last-child) {
    border-bottom: none;
  }

  :host([theme~='filled']) {
    border-bottom: none;
  }

  :host([theme~='filled']:not(:last-child)) {
    margin-bottom: 2px;
  }
`;R("vaadin-accordion-panel",[kv,Hw],{moduleId:"lumo-accordion-panel"});/**
 * @license
 * Copyright (c) 2021 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const Uw=r=>class extends qa(Gr(r)){static get properties(){return{tabindex:{type:Number,value:0}}}_onKeyDown(e){super._onKeyDown(e),!e.defaultPrevented&&e.keyCode===9&&e.shiftKey&&HTMLElement.prototype.focus.apply(this)}_shouldSetFocus(e){if(!this.disabled&&this.focusElement){const i=e.composedPath();if(i[0]===this&&this._keyboardActive&&this.focusElement.focus(),i[0]===this||i.includes(this.focusElement))return!0}return!1}_tabindexChanged(e){e!==void 0&&(this.focusElement.tabIndex=e),this.disabled&&e&&(e!==-1&&(this._lastTabIndex=e),this.tabindex=void 0)}};/**
 * @license
 * Copyright (c) 2019 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class hh extends Uw(re(j(He(W)))){static get template(){return H`
      <style>
        :host {
          display: block;
        }

        :host([hidden]) {
          display: none !important;
        }

        [part='content'] {
          display: none;
          overflow: hidden;
        }

        [part='summary'][disabled] {
          pointer-events: none;
        }

        :host([opened]) [part='content'] {
          display: block;
          overflow: visible;
        }
      </style>
      <div role="heading">
        <div
          role="button"
          part="summary"
          on-click="_onToggleClick"
          on-keydown="_onToggleKeyDown"
          disabled$="[[disabled]]"
          aria-expanded$="[[_getAriaExpanded(opened)]]"
          aria-controls$="[[_contentId]]"
        >
          <span part="toggle" aria-hidden="true"></span>
          <span part="summary-content"><slot name="summary"></slot></span>
        </div>
        <slot name="tooltip"></slot>
      </div>
      <section id$="[[_contentId]]" part="content" aria-hidden$="[[_getAriaHidden(opened)]]">
        <slot></slot>
      </section>
    `}static get is(){return"vaadin-details"}static get properties(){return{opened:{type:Boolean,value:!1,reflectToAttribute:!0,notify:!0,observer:"_openedChanged"}}}get _collapsible(){return this.shadowRoot.querySelector('[part="content"]')}get focusElement(){return this.shadowRoot.querySelector('[part="summary"]')}ready(){super.ready(),this._contentId=`${this.constructor.is}-content-${Hr()}`,this._collapsible.addEventListener("keydown",t=>{t.shiftKey&&t.keyCode===9&&t.stopPropagation()}),this._tooltipController=new ke(this),this.addController(this._tooltipController),this._tooltipController.setTarget(this.focusElement),this._tooltipController.setPosition("bottom-start")}_getAriaExpanded(t){return t?"true":"false"}_getAriaHidden(t){return t?"false":"true"}_openedChanged(t){this._collapsible.style.maxHeight=t?"":"0px"}_onToggleClick(){this.opened=!this.opened}_onToggleKeyDown(t){[13,32].indexOf(t.keyCode)>-1&&(t.preventDefault(),this.opened=!this.opened)}}customElements.define(hh.is,hh);/**
 * @license
 * Copyright (c) 2019 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class uh extends hh{static get is(){return"vaadin-accordion-panel"}}customElements.define(uh.is,uh);/**
 * @license
 * Copyright (c) 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const nl=r=>class extends Gr(r){focus(){const e=this._getItems();if(Array.isArray(e)){const i=this._getAvailableIndex(e,0,null,n=>!rd(n));i>=0&&e[i].focus()}}get focused(){return(this._getItems()||[]).find(Ym)}get _vertical(){return!0}_getItems(){return Array.from(this.children)}_onKeyDown(e){if(super._onKeyDown(e),e.metaKey||e.ctrlKey)return;const{key:i}=e,n=this._getItems()||[],s=n.indexOf(this.focused);let o,a;const h=!this._vertical&&this.getAttribute("dir")==="rtl"?-1:1;this.__isPrevKey(i)?(a=-h,o=s-h):this.__isNextKey(i)?(a=h,o=s+h):i==="Home"?(a=1,o=0):i==="End"&&(a=-1,o=n.length-1),o=this._getAvailableIndex(n,o,a,u=>!rd(u)),o>=0&&(e.preventDefault(),this._focus(o,!0))}__isPrevKey(e){return this._vertical?e==="ArrowUp":e==="ArrowLeft"}__isNextKey(e){return this._vertical?e==="ArrowDown":e==="ArrowRight"}_focus(e,i=!1){const n=this._getItems();this._focusItem(n[e],i)}_focusItem(e){e&&(e.focus(),e.setAttribute("focus-ring",""))}_getAvailableIndex(e,i,n,s){const o=e.length;let a=i;for(let l=0;typeof a=="number"&&l<o;l+=1,a+=n||1){a<0?a=o-1:a>=o&&(a=0);const h=e[a];if(!h.hasAttribute("disabled")&&this.__isMatchingItem(h,s))return a}return-1}__isMatchingItem(e,i){return typeof i=="function"?i(e):!0}};/**
 * @license
 * Copyright (c) 2019 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class Nd extends nl(j(re(W))){static get template(){return H`
      <style>
        :host {
          display: block;
        }

        :host([hidden]) {
          display: none !important;
        }
      </style>
      <slot></slot>
    `}static get is(){return"vaadin-accordion"}static get properties(){return{opened:{type:Number,value:0,notify:!0,reflectToAttribute:!0},items:{type:Array,readOnly:!0,notify:!0}}}static get observers(){return["_updateItems(items, opened)"]}constructor(){super(),this._boundUpdateOpened=this._updateOpened.bind(this)}focus(){this._observer&&this._observer.flush(),super.focus()}ready(){super.ready(),this._observer=new Ce(this,t=>{this._setItems(this._filterItems(Array.from(this.children))),this._filterItems(t.addedNodes).forEach(e=>{e.addEventListener("opened-changed",this._boundUpdateOpened)})})}_getItems(){return this.items}_filterItems(t){return t.filter(e=>e instanceof uh)}_updateItems(t,e){if(t){const i=t[e];t.forEach(n=>{n.opened=n===i})}}_onKeyDown(t){const e=t.composedPath()[0];!this.items.some(i=>i.focusElement===e)||super._onKeyDown(t)}_updateOpened(t){const e=this._filterItems(t.composedPath())[0],i=this.items.indexOf(e);if(t.detail.value){if(e.disabled||i===-1)return;this.opened=i}else this.items.some(n=>n.opened)||(this.opened=null)}}customElements.define(Nd.is,Nd);R("vaadin-app-layout",k`
    [part='navbar']::before {
      background: var(--lumo-base-color) linear-gradient(var(--lumo-contrast-5pct), var(--lumo-contrast-5pct));
    }

    :host(:not([dir='rtl']):not([overlay])) [part='drawer'] {
      border-right: 1px solid var(--lumo-contrast-10pct);
    }

    :host([dir='rtl']:not([overlay])) [part='drawer'] {
      border-left: 1px solid var(--lumo-contrast-10pct);
    }

    :host([overlay]) [part='drawer']::before {
      background: var(--lumo-base-color);
    }

    [part='navbar']::before,
    :host([overlay]) [part='drawer']::before {
      position: absolute;
      content: '';
      width: 100%;
      height: 100%;
      z-index: -1;
    }

    :host([overlay]) [part='drawer']::before {
      background: var(--lumo-base-color);
      height: var(--_vaadin-app-layout-drawer-scroll-size, 100%);
    }

    [part='backdrop'] {
      background-color: var(--lumo-shade-20pct);
      opacity: 1;
    }

    [part] ::slotted(h2),
    [part] ::slotted(h3),
    [part] ::slotted(h4) {
      margin-top: var(--lumo-space-xs) !important;
      margin-bottom: var(--lumo-space-xs) !important;
    }

    @supports (-webkit-backdrop-filter: blur(1px)) or (backdrop-filter: blur(1px)) {
      [part='navbar']::before {
        opacity: 0.8;
      }

      [part='navbar'] {
        -webkit-backdrop-filter: blur(24px);
        backdrop-filter: blur(24px);
      }

      :host([overlay]) [part='drawer']::before {
        opacity: 0.9;
      }

      :host([overlay]) [part='drawer'] {
        -webkit-backdrop-filter: blur(24px);
        backdrop-filter: blur(24px);
      }
    }
  `,{moduleId:"lumo-app-layout"});const Dv=document.createElement("template");Dv.innerHTML=`
  <style>
    /* Use units so that the values can be used in calc() */
    html {
      --safe-area-inset-top: env(safe-area-inset-top, 0px);
      --safe-area-inset-right: env(safe-area-inset-right, 0px);
      --safe-area-inset-bottom: env(safe-area-inset-bottom, 0px);
      --safe-area-inset-left: env(safe-area-inset-left, 0px);
    }
  </style>
`;document.head.appendChild(Dv.content);/**
 * @license
 * Copyright (c) 2018 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */function Lv(){if(Ln){const r=window.innerHeight,e=window.innerWidth>r,i=document.documentElement.clientHeight;e&&i>r?document.documentElement.style.setProperty("--vaadin-viewport-offset-bottom",`${i-r}px`):document.documentElement.style.setProperty("--vaadin-viewport-offset-bottom","")}}Lv();window.addEventListener("resize",Lv);/**
 * @license
 * Copyright (c) 2018 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class zd extends re(j(He(W))){static get template(){return H`
      <style>
        :host {
          display: block;
          box-sizing: border-box;
          height: 100%;
          --vaadin-app-layout-transition: 200ms;
          transition: padding var(--vaadin-app-layout-transition);
          --vaadin-app-layout-touch-optimized: false;
          --vaadin-app-layout-navbar-offset-top: var(--_vaadin-app-layout-navbar-offset-size);
          --vaadin-app-layout-navbar-offset-bottom: var(--_vaadin-app-layout-navbar-offset-size-bottom);
          padding-top: var(--vaadin-app-layout-navbar-offset-top);
          padding-bottom: var(--vaadin-app-layout-navbar-offset-bottom);
          padding-left: var(--vaadin-app-layout-navbar-offset-left);
        }

        :host([dir='rtl']) {
          padding-left: 0;
          padding-right: var(--vaadin-app-layout-navbar-offset-left);
        }

        :host([hidden]),
        [hidden] {
          display: none !important;
        }

        :host([no-anim]) {
          --vaadin-app-layout-transition: none !important;
        }

        :host([drawer-opened]) {
          --vaadin-app-layout-drawer-offset-left: var(--_vaadin-app-layout-drawer-offset-size);
        }

        :host([overlay]) {
          --vaadin-app-layout-drawer-offset-left: 0;
          --vaadin-app-layout-navbar-offset-left: 0;
        }

        :host(:not([no-scroll])) [content] {
          overflow: auto;
        }

        [content] {
          height: 100%;
        }

        @media (pointer: coarse) and (max-width: 800px) and (min-height: 500px) {
          :host {
            --vaadin-app-layout-touch-optimized: true;
          }
        }

        [part='navbar'],
        [part='navbar']::before {
          position: fixed;
          display: flex;
          align-items: center;
          top: 0;
          right: 0;
          left: 0;
          transition: left var(--vaadin-app-layout-transition);
          padding-top: var(--safe-area-inset-top);
          padding-left: var(--safe-area-inset-left);
          padding-right: var(--safe-area-inset-right);
          z-index: 1;
        }

        :host(:not([dir='rtl'])[primary-section='drawer'][drawer-opened]:not([overlay])) [part='navbar'] {
          left: var(--vaadin-app-layout-drawer-offset-left, 0);
        }

        :host([dir='rtl'][primary-section='drawer'][drawer-opened]:not([overlay])) [part='navbar'] {
          right: var(--vaadin-app-layout-drawer-offset-left, 0);
        }

        :host([primary-section='drawer']) [part='drawer'] {
          top: 0;
        }

        [part='navbar'][bottom] {
          top: auto;
          bottom: 0;
          padding-bottom: var(--safe-area-inset-bottom);
        }

        [part='drawer'] {
          overflow: auto;
          position: fixed;
          top: var(--vaadin-app-layout-navbar-offset-top, 0);
          right: auto;
          bottom: var(--vaadin-app-layout-navbar-offset-bottom, var(--vaadin-viewport-offset-bottom, 0));
          left: var(--vaadin-app-layout-navbar-offset-left, 0);
          transition: transform var(--vaadin-app-layout-transition), visibility var(--vaadin-app-layout-transition);
          transform: translateX(-100%);
          max-width: 90%;
          width: 16em;
          box-sizing: border-box;
          padding: var(--safe-area-inset-top) 0 var(--safe-area-inset-bottom) var(--safe-area-inset-left);
          outline: none;
          /* The drawer should be inaccessible by the tabbing navigation when it is closed. */
          visibility: hidden;
        }

        :host([drawer-opened]) [part='drawer'] {
          /* The drawer should be accessible by the tabbing navigation when it is opened. */
          visibility: visible;
          transform: translateX(0%);
          touch-action: manipulation;
        }

        [part='backdrop'] {
          background-color: #000;
          opacity: 0.3;
        }

        :host(:not([drawer-opened])) [part='backdrop'] {
          opacity: 0;
        }

        :host([overlay]) [part='backdrop'] {
          position: fixed;
          top: 0;
          right: 0;
          bottom: 0;
          left: 0;
          pointer-events: none;
          transition: opacity var(--vaadin-app-layout-transition);
          -webkit-tap-highlight-color: transparent;
        }

        :host([overlay]) [part='drawer'] {
          top: 0;
          bottom: 0;
        }

        :host([overlay]) [part='drawer'],
        :host([overlay]) [part='backdrop'] {
          z-index: 2;
        }

        :host([drawer-opened][overlay]) [part='backdrop'] {
          pointer-events: auto;
          touch-action: manipulation;
        }

        :host([dir='rtl']) [part='drawer'] {
          left: auto;
          right: var(--vaadin-app-layout-navbar-offset-start, 0);
          transform: translateX(100%);
        }

        :host([dir='rtl']) [part='navbar'],
        :host([dir='rtl']) [part='navbar']::before {
          transition: right var(--vaadin-app-layout-transition);
        }

        :host([dir='rtl'][drawer-opened]) [part='drawer'] {
          transform: translateX(0%);
        }

        :host(:not([dir='rtl'])[drawer-opened]:not([overlay])) {
          padding-left: var(--vaadin-app-layout-drawer-offset-left);
        }

        :host([dir='rtl'][drawer-opened]:not([overlay])) {
          padding-right: var(--vaadin-app-layout-drawer-offset-left);
        }

        @media (max-width: 800px), (max-height: 600px) {
          :host {
            --vaadin-app-layout-drawer-overlay: true;
          }

          [part='drawer'] {
            width: 20em;
          }
        }
      </style>
      <div part="navbar" id="navbarTop">
        <slot name="navbar"></slot>
      </div>
      <div part="backdrop" on-click="_onBackdropClick" on-touchend="_onBackdropTouchend"></div>
      <div part="drawer" id="drawer" on-keydown="__onDrawerKeyDown">
        <slot name="drawer" id="drawerSlot"></slot>
      </div>
      <div content>
        <slot></slot>
      </div>
      <div part="navbar" id="navbarBottom" bottom hidden>
        <slot name="navbar-bottom"></slot>
      </div>
      <div hidden><slot id="touchSlot" name="navbar touch-optimized"></slot></div>
    `}static get is(){return"vaadin-app-layout"}static get properties(){return{i18n:{type:Object,observer:"__i18nChanged",value:()=>({drawer:"Drawer"})},primarySection:{type:String,value:"navbar",notify:!0,reflectToAttribute:!0,observer:"__primarySectionChanged"},drawerOpened:{type:Boolean,notify:!0,value:!0,reflectToAttribute:!0,observer:"__drawerOpenedChanged"},overlay:{type:Boolean,notify:!0,readOnly:!0,value:!1,reflectToAttribute:!0},closeDrawerOn:{type:String,value:"vaadin-router-location-changed",observer:"_closeDrawerOnChanged"}}}static dispatchCloseOverlayDrawerEvent(){window.dispatchEvent(new CustomEvent("close-overlay-drawer"))}constructor(){super(),this.__boundResizeListener=this._resize.bind(this),this.__drawerToggleClickListener=this._drawerToggleClick.bind(this),this.__closeOverlayDrawerListener=this.__closeOverlayDrawer.bind(this),this.__trapFocusInDrawer=this.__trapFocusInDrawer.bind(this),this.__releaseFocusFromDrawer=this.__releaseFocusFromDrawer.bind(this),this.__focusTrapController=new Pb(this)}connectedCallback(){super.connectedCallback(),this._blockAnimationUntilAfterNextRender(),window.addEventListener("resize",this.__boundResizeListener),this.addEventListener("drawer-toggle-click",this.__drawerToggleClickListener),Nm(this,this._afterFirstRender),this._updateTouchOptimizedMode();const t=this.$.navbarTop.firstElementChild;this._navbarChildObserver=new Ce(t,()=>{this._updateTouchOptimizedMode()}),this._touchChildObserver=new Ce(this.$.touchSlot,()=>{this._updateTouchOptimizedMode()}),this._drawerChildObserver=new Ce(this.$.drawerSlot,()=>{this._updateDrawerSize()}),this._updateDrawerSize(),this._updateOverlayMode(),this._navbarSizeObserver=new ResizeObserver(()=>{this._blockAnimationUntilAfterNextRender(),this._updateOffsetSize()}),this._navbarSizeObserver.observe(this.$.navbarTop),this._navbarSizeObserver.observe(this.$.navbarBottom),window.addEventListener("close-overlay-drawer",this.__closeOverlayDrawerListener)}ready(){super.ready(),this.addController(this.__focusTrapController),this.__setAriaExpanded()}disconnectedCallback(){super.disconnectedCallback(),this._navbarChildObserver&&this._navbarChildObserver.disconnect(),this._drawerChildObserver&&this._drawerChildObserver.disconnect(),this._touchChildObserver&&this._touchChildObserver.disconnect(),window.removeEventListener("resize",this.__boundResizeListener),this.removeEventListener("drawer-toggle-click",this.__drawerToggleClickListener),window.removeEventListener("close-overlay-drawer",this.__drawerToggleClickListener)}__primarySectionChanged(t){["navbar","drawer"].includes(t)||this.set("primarySection","navbar")}__drawerOpenedChanged(t,e){this.overlay&&(t?(this._updateDrawerHeight(),this.__trapFocusInDrawer()):e&&this.__releaseFocusFromDrawer()),this.__setAriaExpanded()}__i18nChanged(){this.__updateDrawerAriaAttributes()}_afterFirstRender(){this._blockAnimationUntilAfterNextRender(),this._updateOffsetSize()}_drawerToggleClick(t){t.stopPropagation(),this.drawerOpened=!this.drawerOpened}__closeOverlayDrawer(){this.overlay&&(this.drawerOpened=!1)}__setAriaExpanded(){const t=this.querySelector("vaadin-drawer-toggle");t&&t.setAttribute("aria-expanded",this.drawerOpened)}_updateDrawerSize(){const t=this.querySelectorAll("[slot=drawer]").length,e=this.$.drawer;t===0?e.setAttribute("hidden",""):e.removeAttribute("hidden"),this._updateOffsetSize()}_resize(){this._blockAnimationUntilAfterNextRender(),this._updateTouchOptimizedMode(),this._updateOverlayMode()}_updateOffsetSize(){const e=this.$.navbarTop.getBoundingClientRect(),n=this.$.navbarBottom.getBoundingClientRect();this.style.setProperty("--_vaadin-app-layout-navbar-offset-size",`${e.height}px`),this.style.setProperty("--_vaadin-app-layout-navbar-offset-size-bottom",`${n.height}px`);const o=this.$.drawer.getBoundingClientRect();this.style.setProperty("--_vaadin-app-layout-drawer-offset-size",`${o.width}px`)}_updateDrawerHeight(){const{scrollHeight:t,offsetHeight:e}=this.$.drawer,i=t>e?`${t}px`:"100%";this.style.setProperty("--_vaadin-app-layout-drawer-scroll-size",i)}_updateOverlayMode(){const t=this._getCustomPropertyValue("--vaadin-app-layout-drawer-overlay")==="true";!this.overlay&&t&&(this._drawerStateSaved=this.drawerOpened,this.drawerOpened=!1),this._setOverlay(t),!this.overlay&&this._drawerStateSaved&&(this.drawerOpened=this._drawerStateSaved,this._drawerStateSaved=null),this._updateDrawerHeight(),this.__updateDrawerAriaAttributes()}__updateDrawerAriaAttributes(){const t=this.$.drawer;this.overlay?(t.setAttribute("role","dialog"),t.setAttribute("aria-modal","true"),t.setAttribute("aria-label",this.i18n.drawer)):(t.removeAttribute("role"),t.removeAttribute("aria-modal"),t.removeAttribute("aria-label"))}__drawerTransitionComplete(){return new Promise(t=>{if(this._getCustomPropertyValue("--vaadin-app-layout-transition")==="none"){t();return}this.$.drawer.addEventListener("transitionend",t,{once:!0})})}async __trapFocusInDrawer(){await this.__drawerTransitionComplete(),this.drawerOpened&&(this.$.drawer.setAttribute("tabindex","0"),this.__focusTrapController.trapFocus(this.$.drawer))}async __releaseFocusFromDrawer(){if(await this.__drawerTransitionComplete(),this.drawerOpened)return;this.__focusTrapController.releaseFocus(),this.$.drawer.removeAttribute("tabindex");const t=this.querySelector("vaadin-drawer-toggle");t&&(t.focus(),t.setAttribute("focus-ring","focus"))}__onDrawerKeyDown(t){t.key==="Escape"&&this.overlay&&(this.drawerOpened=!1)}_closeDrawerOnChanged(t,e){e&&window.removeEventListener(e,this.__closeOverlayDrawerListener),t&&window.addEventListener(t,this.__closeOverlayDrawerListener)}_onBackdropClick(){this._close()}_onBackdropTouchend(t){t.preventDefault(),this._close()}_close(){this.drawerOpened=!1}_getCustomPropertyValue(t){return(getComputedStyle(this).getPropertyValue(t)||"").trim().toLowerCase()}_updateTouchOptimizedMode(){const t=this._getCustomPropertyValue("--vaadin-app-layout-touch-optimized")==="true",e=this.querySelectorAll('[slot*="navbar"]');e.length>0&&Array.from(e).forEach(i=>{i.getAttribute("slot").indexOf("touch-optimized")>-1&&(i.__touchOptimized=!0),t&&i.__touchOptimized?i.setAttribute("slot","navbar-bottom"):i.setAttribute("slot","navbar")}),this.$.navbarTop.querySelector("[name=navbar]").assignedNodes().length===0?this.$.navbarTop.setAttribute("hidden",""):this.$.navbarTop.removeAttribute("hidden"),t?this.$.navbarBottom.removeAttribute("hidden"):this.$.navbarBottom.setAttribute("hidden",""),this._updateOffsetSize()}_blockAnimationUntilAfterNextRender(){this.setAttribute("no-anim",""),Xa(this,()=>{this.removeAttribute("no-anim")})}}customElements.define(zd.is,zd);const Ww=k`
  :host {
    width: var(--lumo-size-l);
    height: var(--lumo-size-l);
    min-width: auto;
    margin: 0 var(--lumo-space-s);
    padding: 0;
    background: transparent;
  }

  [part='icon'],
  [part='icon']::after,
  [part='icon']::before {
    position: inherit;
    height: auto;
    width: auto;
    background: transparent;
    top: auto;
  }

  [part='icon']::before {
    font-family: lumo-icons;
    font-size: var(--lumo-icon-size-m);
    content: var(--lumo-icons-menu);
  }
`;R("vaadin-drawer-toggle",[Qu,Ww],{moduleId:"lumo-drawer-toggle"});/**
 * @license
 * Copyright (c) 2018 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class Bd extends Ka{static get template(){return H`
      <style>
        :host {
          display: inline-flex;
          align-items: center;
          justify-content: center;
          cursor: default;
          position: relative;
          outline: none;
          height: 24px;
          width: 24px;
          padding: 4px;
        }

        [part='icon'],
        [part='icon']::after,
        [part='icon']::before {
          position: absolute;
          top: 8px;
          height: 3px;
          width: 24px;
          background-color: #000;
        }

        [part='icon']::after,
        [part='icon']::before {
          content: '';
        }

        [part='icon']::after {
          top: 6px;
        }

        [part='icon']::before {
          top: 12px;
        }
      </style>
      <slot id="slot">
        <div part="icon"></div>
      </slot>
      <div part="icon" hidden$="[[!_showFallbackIcon]]"></div>
      <slot name="tooltip"></slot>
    `}static get is(){return"vaadin-drawer-toggle"}static get properties(){return{ariaLabel:{type:String,value:"Toggle navigation panel",reflectToAttribute:!0},_showFallbackIcon:{type:Boolean,value:!1}}}constructor(){super(),this.addEventListener("click",()=>{this.dispatchEvent(new CustomEvent("drawer-toggle-click",{bubbles:!0,composed:!0}))})}ready(){super.ready(),this._observer=new Ce(this,()=>{this._toggleFallbackIcon()})}_toggleFallbackIcon(){const t=this.$.slot.assignedNodes();this._showFallbackIcon=t.length>0&&t.every(e=>kb(e))}}customElements.define(Bd.is,Bd);/**
 * @license
 * Copyright (c) 2017 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const Yw=k`
  :host {
    --vaadin-user-color-0: #df0b92;
    --vaadin-user-color-1: #650acc;
    --vaadin-user-color-2: #097faa;
    --vaadin-user-color-3: #ad6200;
    --vaadin-user-color-4: #bf16f3;
    --vaadin-user-color-5: #084391;
    --vaadin-user-color-6: #078836;
  }

  [theme~='dark'] {
    --vaadin-user-color-0: #ff66c7;
    --vaadin-user-color-1: #9d8aff;
    --vaadin-user-color-2: #8aff66;
    --vaadin-user-color-3: #ffbd66;
    --vaadin-user-color-4: #dc6bff;
    --vaadin-user-color-5: #66fffa;
    --vaadin-user-color-6: #e6ff66;
  }
`,Fv=document.createElement("template");Fv.innerHTML=`<style>${Yw.toString().replace(":host","html")}</style>`;document.head.appendChild(Fv.content);const $v=document.createElement("style");$v.textContent="html { --vaadin-avatar-size: var(--lumo-size-m); }";document.head.appendChild($v);R("vaadin-avatar",k`
    :host {
      color: var(--lumo-secondary-text-color);
      background-color: var(--lumo-contrast-10pct);
      border-radius: 50%;
      outline: none;
      cursor: default;
      user-select: none;
      -webkit-tap-highlight-color: transparent;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    :host([has-color-index]) {
      color: var(--lumo-base-color);
    }

    :host([focus-ring]) {
      border-color: var(--lumo-primary-color-50pct);
    }

    [part='icon'],
    [part='abbr'] {
      fill: currentColor;
    }

    [part='abbr'] {
      font-family: var(--lumo-font-family);
      font-size: 2.4375em;
      font-weight: 500;
    }

    :host([theme~='xlarge']) [part='abbr'] {
      font-size: 2.5em;
    }

    :host([theme~='large']) [part='abbr'] {
      font-size: 2.375em;
    }

    :host([theme~='small']) [part='abbr'] {
      font-size: 2.75em;
    }

    :host([theme~='xsmall']) [part='abbr'] {
      font-size: 3em;
    }

    :host([theme~='xlarge']) {
      --vaadin-avatar-size: var(--lumo-size-xl);
    }

    :host([theme~='large']) {
      --vaadin-avatar-size: var(--lumo-size-l);
    }

    :host([theme~='small']) {
      --vaadin-avatar-size: var(--lumo-size-s);
    }

    :host([theme~='xsmall']) {
      --vaadin-avatar-size: var(--lumo-size-xs);
    }
  `,{moduleId:"lumo-avatar"});/**
 * @license
 * Copyright (c) 2020 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const Nv=document.createElement("template");Nv.innerHTML=`
  <style>
    @font-face {
      font-family: 'vaadin-avatar-icons';
      src: url(data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAAAQAAAsAAAAABnwAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAADsAAABUIIslek9TLzIAAAFEAAAAQwAAAFZAIUmEY21hcAAAAYgAAABLAAABcOspwa1nbHlmAAAB1AAAAEUAAABMYO4o1WhlYWQAAAIcAAAALgAAADYYaAmGaGhlYQAAAkwAAAAdAAAAJAZsA1VobXR4AAACbAAAAAgAAAAIA+gAAGxvY2EAAAJ0AAAABgAAAAYAJgAAbWF4cAAAAnwAAAAeAAAAIAEOACFuYW1lAAACnAAAAUIAAAKavFDYrHBvc3QAAAPgAAAAHQAAAC52hGZ4eJxjYGRgYOBiMGCwY2BycfMJYeDLSSzJY5BiYGGAAJA8MpsxJzM9kYEDxgPKsYBpDiBmg4gCACY7BUgAeJxjYGT8wjiBgZWBgamKaQ8DA0MPhGZ8wGDIyAQUZWBlZsAKAtJcUxgcXjG+YmQO+p/FEMUcxDANKMwIkgMADiUMJQB4nGNgYGBlYGBgBmIdIGZhYGAMYWBkAAE/oCgjWJyZgQsszsKgBFbDAhJ/xfj/P4wE8lnAJAMjG8Mo4AGTMlAeOKwgmIERADU0CX0AeJxjYGIAAmYJpkgGHgYRBgZGJT1GEztGIzlGET5GKEuU8YuSpZKSpQuI+LfLv21emz9jHJQPJP7dsUywsEiwBACG8g9CAAAAeJxjYGRgYADicIOnh+P5bb4ycDO/AIow3JZ4rIJMM0swRQIpDgYmEA8AKwgJOwAAeJxjYGRgYA76nwUkXzAAAbMEAyMDKmACAE2GAskAAAAAAAAAA+gAAAAAAAAAJgAAeJxjYGRgYGBiEAViBjCLgYELCBkY/oP5DAAKuwEwAAB4nI2Qu07DMBSG//SGaCWEhMSAGDx1QU0vYyemdmDrUDEhuamTpkriyHEj9RF4B56Bh2Bg5mmY+8d4Qh3qo9jf+c45thQAt/hGgGYFuHN7s1q4YvbHbdKD5w555LmLAZ499+hfPPfxhDfPA/p33hB0rmmG+PDcwg2+PLfpfzx3yL+eu7gPHj33MAxmnvtYB6+eB/SftZTbtBjJWlppRmmki2qlkkMmzZnKGbVWpkp1Iabh5Ex1qQplpFVbsTmKqk5m1sYiNjoXC11YlWValEbvVWTDnbXlfDyOvQ8jnaOGZGyRouCfky63/AyzFBE0fYUVFBIckLnKZTOXda15s+GZulxgihCTC2eXnC3cfFNV7BfY4Mi9eT3BjNYiZh6zRyMnLdxs050xNE3panuaiD7Ezk2VmGPMiP/1h+71/ATcWYAhAAB4nGNgYoAALgbsgImRiZGZgaW0OLWIgQEACl4B2QAAAA==) format('woff');
      font-weight: normal;
      font-style: normal;
    }
  </style>
`;document.head.appendChild(Nv.content);/**
 * @license
 * Copyright (c) 2020 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class ch extends Et(re(j(He(W)))){static get template(){return H`
      <style>
        :host {
          display: inline-block;
          flex: none;
          border-radius: 50%;
          overflow: hidden;
          height: var(--vaadin-avatar-size, 64px);
          width: var(--vaadin-avatar-size, 64px);
          border: var(--vaadin-avatar-outline-width) solid transparent;
          margin: calc(var(--vaadin-avatar-outline-width) * -1);
          background-clip: content-box;
          --vaadin-avatar-outline-width: 2px;
        }

        img {
          height: 100%;
          width: 100%;
          object-fit: cover;
        }

        [part='icon'] {
          font-size: 5.6em;
        }

        [part='abbr'] {
          font-size: 2.2em;
        }

        [part='icon'] > text {
          font-family: 'vaadin-avatar-icons';
        }

        :host([hidden]) {
          display: none !important;
        }

        svg[hidden] {
          display: none !important;
        }

        :host([has-color-index]) {
          position: relative;
          background-color: var(--vaadin-avatar-user-color);
        }

        :host([has-color-index])::before {
          position: absolute;
          content: '';
          top: 0;
          left: 0;
          bottom: 0;
          right: 0;
          border-radius: inherit;
          box-shadow: inset 0 0 0 2px var(--vaadin-avatar-user-color);
        }
      </style>
      <img hidden$="[[!__imgVisible]]" src$="[[img]]" aria-hidden="true" on-error="__onImageLoadError" />
      <svg
        part="icon"
        hidden$="[[!__iconVisible]]"
        id="avatar-icon"
        viewBox="-50 -50 100 100"
        preserveAspectRatio="xMidYMid meet"
        aria-hidden="true"
      >
        <text dy=".35em" text-anchor="middle"></text>
      </svg>
      <svg
        part="abbr"
        hidden$="[[!__abbrVisible]]"
        id="avatar-abbr"
        viewBox="-50 -50 100 100"
        preserveAspectRatio="xMidYMid meet"
        aria-hidden="true"
      >
        <text dy=".35em" text-anchor="middle">[[abbr]]</text>
      </svg>

      <slot name="tooltip"></slot>
    `}static get is(){return"vaadin-avatar"}static get properties(){return{img:{type:String,reflectToAttribute:!0,observer:"__imgChanged"},abbr:{type:String,reflectToAttribute:!0},name:{type:String,reflectToAttribute:!0},colorIndex:{type:Number,observer:"__colorIndexChanged"},i18n:{type:Object,value:()=>({anonymous:"anonymous"})},withTooltip:{type:Boolean,value:!1,observer:"__withTooltipChanged"},__imgVisible:Boolean,__iconVisible:Boolean,__abbrVisible:Boolean,__tooltipNode:Object}}static get observers(){return["__imgOrAbbrOrNameChanged(img, abbr, name)","__i18nChanged(i18n.*)","__tooltipChanged(__tooltipNode, name, abbr)"]}ready(){super.ready(),this.__updateVisibility(),this.hasAttribute("role")||this.setAttribute("role","button"),this.hasAttribute("tabindex")||this.setAttribute("tabindex","0"),this._tooltipController=new ke(this),this.addController(this._tooltipController),!this.name&&!this.abbr&&this.__setTooltip()}__colorIndexChanged(t){if(t!=null){const e=`--vaadin-user-color-${t}`;Boolean(getComputedStyle(document.documentElement).getPropertyValue(e))?(this.setAttribute("has-color-index",""),this.style.setProperty("--vaadin-avatar-user-color",`var(${e})`)):(this.removeAttribute("has-color-index"),console.warn(`The CSS property --vaadin-user-color-${t} is not defined`))}else this.removeAttribute("has-color-index")}__imgChanged(){this.__imgFailedToLoad=!1}__imgOrAbbrOrNameChanged(t,e,i){this.__updateVisibility(),!(e&&e!==this.__generatedAbbr)&&(i?this.abbr=this.__generatedAbbr=i.split(" ").map(n=>n.charAt(0)).join(""):this.abbr=void 0)}__tooltipChanged(t,e,i){t&&(i&&i!==this.__generatedAbbr?this.__setTooltip(e?`${e} (${i})`:i):this.__setTooltip(e))}__withTooltipChanged(t,e){if(t){const i=document.createElement("vaadin-tooltip");i.setAttribute("slot","tooltip"),this.appendChild(i),this.__tooltipNode=i}else e&&(this.__tooltipNode.target=null,this.__tooltipNode.remove(),this.__tooltipNode=null)}__i18nChanged(t){t.base&&t.base.anonymous&&(this.__oldAnonymous&&this.__tooltipNode&&this.__tooltipNode.text===this.__oldAnonymous&&this.__setTooltip(),this.__oldAnonymous=t.base.anonymous)}__updateVisibility(){this.__imgVisible=!!this.img&&!this.__imgFailedToLoad,this.__abbrVisible=!this.__imgVisible&&!!this.abbr,this.__iconVisible=!this.__imgVisible&&!this.abbr}__setTooltip(t){const e=this.__tooltipNode;e&&(e.text=t||this.i18n.anonymous)}__onImageLoadError(){this.img&&(console.warn(`<vaadin-avatar> The specified image could not be loaded: ${this.img}`),this.__imgFailedToLoad=!0,this.__updateVisibility())}}customElements.define(ch.is,ch);const zv=k`
  :host {
    display: flex;
    align-items: center;
    box-sizing: border-box;
    font-family: var(--lumo-font-family);
    font-size: var(--lumo-font-size-m);
    line-height: var(--lumo-line-height-xs);
    padding: 0.5em calc(var(--lumo-space-l) + var(--lumo-border-radius-m) / 4) 0.5em
      var(--_lumo-list-box-item-padding-left, calc(var(--lumo-border-radius-m) / 4));
    min-height: var(--lumo-size-m);
    outline: none;
    border-radius: var(--lumo-border-radius-m);
    cursor: var(--lumo-clickable-cursor);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: var(--lumo-primary-color-10pct);
  }

  /* Checkmark */
  [part='checkmark']::before {
    display: var(--_lumo-item-selected-icon-display, none);
    content: var(--lumo-icons-checkmark);
    font-family: lumo-icons;
    font-size: var(--lumo-icon-size-m);
    line-height: 1;
    font-weight: normal;
    width: 1em;
    height: 1em;
    margin: calc((1 - var(--lumo-line-height-xs)) * var(--lumo-font-size-m) / 2) 0;
    color: var(--lumo-primary-text-color);
    flex: none;
    opacity: 0;
    transition: transform 0.2s cubic-bezier(0.12, 0.32, 0.54, 2), opacity 0.1s;
  }

  :host([selected]) [part='checkmark']::before {
    opacity: 1;
  }

  :host([active]:not([selected])) [part='checkmark']::before {
    transform: scale(0.8);
    opacity: 0;
    transition-duration: 0s;
  }

  [part='content'] {
    flex: auto;
  }

  /* Disabled */
  :host([disabled]) {
    color: var(--lumo-disabled-text-color);
    cursor: default;
    pointer-events: none;
  }

  /* TODO a workaround until we have "focus-follows-mouse". After that, use the hover style for focus-ring as well */
  @media (any-hover: hover) {
    :host(:hover:not([disabled])) {
      background-color: var(--lumo-primary-color-10pct);
    }

    :host([focus-ring]:not([disabled])) {
      box-shadow: inset 0 0 0 2px var(--lumo-primary-color-50pct);
    }
  }

  /* RTL specific styles */
  :host([dir='rtl']) {
    padding-left: calc(var(--lumo-space-l) + var(--lumo-border-radius-m) / 4);
    padding-right: var(--_lumo-list-box-item-padding-left, calc(var(--lumo-border-radius-m) / 4));
  }

  /* Slotted icons */
  :host ::slotted(vaadin-icon),
  :host ::slotted(iron-icon) {
    width: var(--lumo-icon-size-m);
    height: var(--lumo-icon-size-m);
  }
`;R("vaadin-item",zv,{moduleId:"lumo-item"});/**
 * @license
 * Copyright (c) 2017 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const Bv=r=>class extends jm(Et(r)){static get properties(){return{_hasVaadinItemMixin:{value:!0},selected:{type:Boolean,value:!1,reflectToAttribute:!0,observer:"_selectedChanged"},_value:String}}get _activeKeys(){return["Enter"," "]}get value(){return this._value!==void 0?this._value:this.textContent.trim()}set value(e){this._value=e}ready(){super.ready();const e=this.getAttribute("value");e!==null&&(this.value=e)}focus(){this.disabled||(super.focus(),this._setFocused(!0))}_shouldSetActive(e){return!this.disabled&&!(e.type==="keydown"&&e.defaultPrevented)}_selectedChanged(e){this.setAttribute("aria-selected",e)}_disabledChanged(e){super._disabledChanged(e),e&&(this.selected=!1,this.blur())}_onKeyDown(e){super._onKeyDown(e),this._activeKeys.includes(e.key)&&!e.defaultPrevented&&(e.preventDefault(),this.click())}};/**
 * @license
 * Copyright (c) 2017 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class $n extends Bv(j(Si(W))){static get template(){return H`
      <style>
        :host {
          display: inline-block;
        }

        :host([hidden]) {
          display: none !important;
        }
      </style>
      <span part="checkmark" aria-hidden="true"></span>
      <div part="content">
        <slot></slot>
      </div>
    `}static get is(){return"vaadin-item"}constructor(){super(),this.value}ready(){super.ready(),this.setAttribute("role","option")}}customElements.define($n.is,$n);R("vaadin-list-box",k`
    :host {
      -webkit-tap-highlight-color: transparent;
      --_lumo-item-selected-icon-display: var(--_lumo-list-box-item-selected-icon-display, block);
    }

    /* Dividers */
    [part='items'] ::slotted(hr) {
      height: 1px;
      border: 0;
      padding: 0;
      margin: var(--lumo-space-s) var(--lumo-border-radius-m);
      background-color: var(--lumo-contrast-10pct);
    }
  `,{moduleId:"lumo-list-box"});/**
 * @license
 * Copyright (c) 2017 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const Vv=r=>class extends nl(r){static get properties(){return{_hasVaadinListMixin:{value:!0},selected:{type:Number,reflectToAttribute:!0,notify:!0},orientation:{type:String,reflectToAttribute:!0,value:""},items:{type:Array,readOnly:!0,notify:!0},_searchBuf:{type:String,value:""}}}static get observers(){return["_enhanceItems(items, orientation, selected, disabled)"]}ready(){super.ready(),this.addEventListener("click",e=>this._onClick(e)),this._observer=new Ce(this,()=>{this._setItems(this._filterItems(Ce.getFlattenedNodes(this)))})}_getItems(){return this.items}_enhanceItems(e,i,n,s){if(!s&&e){this.setAttribute("aria-orientation",i||"vertical"),this.items.forEach(a=>{i?a.setAttribute("orientation",i):a.removeAttribute("orientation")}),this._setFocusable(n||0);const o=e[n];e.forEach(a=>{a.selected=a===o}),o&&!o.disabled&&this._scrollToItem(n)}}_filterItems(e){return e.filter(i=>i._hasVaadinItemMixin)}_onClick(e){if(e.metaKey||e.shiftKey||e.ctrlKey||e.defaultPrevented)return;const i=this._filterItems(e.composedPath())[0];let n;i&&!i.disabled&&(n=this.items.indexOf(i))>=0&&(this.selected=n)}_searchKey(e,i){this._searchReset=ye.debounce(this._searchReset,Be.after(500),()=>{this._searchBuf=""}),this._searchBuf+=i.toLowerCase(),this.items.some(s=>this.__isMatchingKey(s))||(this._searchBuf=i.toLowerCase());const n=this._searchBuf.length===1?e+1:e;return this._getAvailableIndex(this.items,n,1,s=>this.__isMatchingKey(s)&&getComputedStyle(s).display!=="none")}__isMatchingKey(e){return e.textContent.replace(/[^\p{L}\p{Nd}]/gu,"").toLowerCase().startsWith(this._searchBuf)}get _isRTL(){return!this._vertical&&this.getAttribute("dir")==="rtl"}_onKeyDown(e){if(e.metaKey||e.ctrlKey)return;const i=e.key,n=this.items.indexOf(this.focused);if(/[a-zA-Z0-9]/.test(i)&&i.length===1){const s=this._searchKey(n,i);s>=0&&this._focus(s);return}super._onKeyDown(e)}_isItemHidden(e){return getComputedStyle(e).display==="none"}_setFocusable(e){e=this._getAvailableIndex(this.items,e,1);const i=this.items[e];this.items.forEach(n=>{n.tabIndex=n===i?0:-1})}_focus(e){this.items.forEach((i,n)=>{i.focused=n===e}),this._setFocusable(e),this._scrollToItem(e),super._focus(e)}focus(){this._observer&&this._observer.flush();const e=this.querySelector('[tabindex="0"]')||(this.items?this.items[0]:null);this._focusItem(e)}get _scrollerElement(){return console.warn(`Please implement the '_scrollerElement' property in <${this.localName}>`),this}_scrollToItem(e){const i=this.items[e];if(!i)return;const n=this._vertical?["top","bottom"]:this._isRTL?["right","left"]:["left","right"],s=this._scrollerElement.getBoundingClientRect(),o=(this.items[e+1]||i).getBoundingClientRect(),a=(this.items[e-1]||i).getBoundingClientRect();let l=0;!this._isRTL&&o[n[1]]>=s[n[1]]||this._isRTL&&o[n[1]]<=s[n[1]]?l=o[n[1]]-s[n[1]]:(!this._isRTL&&a[n[0]]<=s[n[0]]||this._isRTL&&a[n[0]]>=s[n[0]])&&(l=a[n[0]]-s[n[0]]),this._scroll(l)}get _vertical(){return this.orientation!=="horizontal"}_scroll(e){if(this._vertical)this._scrollerElement.scrollTop+=e;else{const i=this.getAttribute("dir")||"ltr",n=El.detectScrollType(),s=El.getNormalizedScrollLeft(n,i,this._scrollerElement)+e;El.setNormalizedScrollLeft(n,i,this._scrollerElement,s)}}};/**
 * @license
 * Copyright (c) 2017 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const jw=r=>class extends Vv(r){static get properties(){return{multiple:{type:Boolean,value:!1,reflectToAttribute:!0,observer:"_multipleChanged"},selectedValues:{type:Array,notify:!0,value:()=>[]}}}static get observers(){return["_enhanceMultipleItems(items, multiple, selected, selectedValues, selectedValues.*)"]}ready(){this.addEventListener("click",e=>this._onMultipleClick(e)),super.ready()}_enhanceMultipleItems(e,i,n,s){if(!(!e||!i)){if(s){const o=s.map(a=>e[a]);e.forEach(a=>{a.selected=o.includes(a)})}this._scrollToLastSelectedItem()}}_scrollToLastSelectedItem(){const e=this.selectedValues.slice(-1)[0];e&&!e.disabled&&this._scrollToItem(e)}_onMultipleClick(e){const i=this._filterItems(e.composedPath())[0],n=i&&!i.disabled?this.items.indexOf(i):-1;n<0||!this.multiple||(e.preventDefault(),this.selectedValues.includes(n)?this.selectedValues=this.selectedValues.filter(s=>s!==n):this.selectedValues=this.selectedValues.concat(n))}_multipleChanged(e,i){!e&&i&&(this.selectedValues=[],this.items.forEach(n=>{n.selected=!1}),this.removeAttribute("aria-multiselectable")),e&&!i&&(this.setAttribute("aria-multiselectable","true"),this.selected!==void 0&&(this.selectedValues=[...this.selectedValues,this.selected],this.selected=void 0))}};/**
 * @license
 * Copyright (c) 2017 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class Nn extends re(jw(j(He(W)))){static get template(){return H`
      <style>
        :host {
          display: flex;
        }

        :host([hidden]) {
          display: none !important;
        }

        [part='items'] {
          height: 100%;
          width: 100%;
          overflow-y: auto;
          -webkit-overflow-scrolling: touch;
        }
      </style>
      <div part="items">
        <slot></slot>
      </div>

      <slot name="tooltip"></slot>
    `}static get is(){return"vaadin-list-box"}static get properties(){return{orientation:{readOnly:!0}}}constructor(){super(),this.focused}ready(){super.ready(),this.setAttribute("role","listbox"),setTimeout(this._checkImport.bind(this),2e3),this._tooltipController=new ke(this),this.addController(this._tooltipController)}get _scrollerElement(){return this.shadowRoot.querySelector('[part="items"]')}_checkImport(){const t=this.querySelector("vaadin-item");t&&!(t instanceof W)&&console.warn("Make sure you have imported the vaadin-item element.")}}customElements.define(Nn.is,Nn);/**
 * @license
 * Copyright (c) 2017 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const sl=k`
  :host([opening]),
  :host([closing]) {
    animation: 0.14s lumo-overlay-dummy-animation;
  }

  [part='overlay'] {
    will-change: opacity, transform;
  }

  :host([opening]) [part='overlay'] {
    animation: 0.1s lumo-menu-overlay-enter ease-out both;
  }

  @keyframes lumo-menu-overlay-enter {
    0% {
      opacity: 0;
      transform: translateY(-4px);
    }
  }

  :host([closing]) [part='overlay'] {
    animation: 0.1s lumo-menu-overlay-exit both;
  }

  @keyframes lumo-menu-overlay-exit {
    100% {
      opacity: 0;
    }
  }
`;R("",sl,{moduleId:"lumo-menu-overlay-core"});const qw=k`
  /* Small viewport (bottom sheet) styles */
  /* Use direct media queries instead of the state attributes ([phone] and [fullscreen]) provided by the elements */
  @media (max-width: 420px), (max-height: 420px) {
    :host {
      top: 0 !important;
      right: 0 !important;
      bottom: var(--vaadin-overlay-viewport-bottom, 0) !important;
      left: 0 !important;
      align-items: stretch !important;
      justify-content: flex-end !important;
    }

    [part='overlay'] {
      max-height: 50vh;
      width: 100vw;
      border-radius: 0;
      box-shadow: var(--lumo-box-shadow-xl);
    }

    /* The content part scrolls instead of the overlay part, because of the gradient fade-out */
    [part='content'] {
      padding: 30px var(--lumo-space-m);
      max-height: inherit;
      box-sizing: border-box;
      -webkit-overflow-scrolling: touch;
      overflow: auto;
      -webkit-mask-image: linear-gradient(transparent, #000 40px, #000 calc(100% - 40px), transparent);
      mask-image: linear-gradient(transparent, #000 40px, #000 calc(100% - 40px), transparent);
    }

    [part='backdrop'] {
      display: block;
    }

    /* Animations */

    :host([opening]) [part='overlay'] {
      animation: 0.2s lumo-mobile-menu-overlay-enter cubic-bezier(0.215, 0.61, 0.355, 1) both;
    }

    :host([closing]),
    :host([closing]) [part='backdrop'] {
      animation-delay: 0.14s;
    }

    :host([closing]) [part='overlay'] {
      animation: 0.14s 0.14s lumo-mobile-menu-overlay-exit cubic-bezier(0.55, 0.055, 0.675, 0.19) both;
    }
  }

  @keyframes lumo-mobile-menu-overlay-enter {
    0% {
      transform: translateY(150%);
    }
  }

  @keyframes lumo-mobile-menu-overlay-exit {
    100% {
      transform: translateY(150%);
    }
  }
`,ol=[Za,sl,qw];R("",ol,{moduleId:"lumo-menu-overlay"});R("vaadin-avatar-group",k`
    :host {
      --vaadin-avatar-size: var(--lumo-size-m);
    }

    :host([theme~='xlarge']) {
      --vaadin-avatar-group-overlap: 12px;
      --vaadin-avatar-group-overlap-border: 3px;
      --vaadin-avatar-size: var(--lumo-size-xl);
    }

    :host([theme~='large']) {
      --vaadin-avatar-group-overlap: 10px;
      --vaadin-avatar-group-overlap-border: 3px;
      --vaadin-avatar-size: var(--lumo-size-l);
    }

    :host([theme~='small']) {
      --vaadin-avatar-group-overlap: 6px;
      --vaadin-avatar-group-overlap-border: 2px;
      --vaadin-avatar-size: var(--lumo-size-s);
    }

    :host([theme~='xsmall']) {
      --vaadin-avatar-group-overlap: 4px;
      --vaadin-avatar-group-overlap-border: 2px;
      --vaadin-avatar-size: var(--lumo-size-xs);
    }
  `,{moduleId:"lumo-avatar-group"});const Xw=k`
  :host {
    --_lumo-list-box-item-selected-icon-display: none;
    --_lumo-list-box-item-padding-left: calc(var(--lumo-space-m) + var(--lumo-border-radius-m) / 4);
  }

  [part='overlay'] {
    outline: none;
  }
`;R("vaadin-avatar-group-overlay",[Za,sl,Xw],{moduleId:"lumo-avatar-group-overlay"});R("vaadin-avatar-group-list-box",k`
    [part='items'] ::slotted(vaadin-item[theme='avatar-group-item']) {
      padding: var(--lumo-space-xs);
      padding-right: var(--lumo-space-m);
    }

    :host([dir='rtl']) [part='items'] ::slotted(vaadin-item[theme='avatar-group-item']) {
      padding: var(--lumo-space-xs);
      padding-left: var(--lumo-space-m);
    }
  `,{moduleId:"lumo-avatar-group-list-box"});R("vaadin-item",k`
    :host([theme='avatar-group-item']) [part='content'] {
      display: flex;
      align-items: center;
    }

    :host([theme='avatar-group-item']) ::slotted(vaadin-avatar) {
      width: var(--lumo-size-xs);
      height: var(--lumo-size-xs);
    }

    :host([theme='avatar-group-item']:not([dir='rtl'])) ::slotted(vaadin-avatar) {
      margin-right: var(--lumo-space-s);
    }

    :host([theme='avatar-group-item'][dir='rtl']) ::slotted(vaadin-avatar) {
      margin-left: var(--lumo-space-s);
    }
  `,{moduleId:"lumo-avatar-group-item"});/**
 * @license
 * Copyright (c) 2020 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class Vd extends Nn{static get is(){return"vaadin-avatar-group-list-box"}}customElements.define(Vd.is,Vd);/**
 * @license
 * Copyright (c) 2020 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class Gd extends Ur(Ti){static get is(){return"vaadin-avatar-group-overlay"}}customElements.define(Gd.is,Gd);/**
 * @license
 * Copyright (c) 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const wt=document.createElement("div");wt.style.position="fixed";wt.style.clip="rect(0px, 0px, 0px, 0px)";wt.setAttribute("aria-live","polite");document.body.appendChild(wt);let Ss;function Ht(r,t={}){const e=t.mode||"polite",i=t.timeout===void 0?150:t.timeout;e==="alert"?(wt.removeAttribute("aria-live"),wt.removeAttribute("role"),Ss=ye.debounce(Ss,bi,()=>{wt.setAttribute("role","alert")})):(Ss&&Ss.cancel(),wt.removeAttribute("role"),wt.setAttribute("aria-live",e)),wt.textContent="",setTimeout(()=>{wt.textContent=r},i)}/**
 * @license
 * Copyright (c) 2020 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const kl=2;class Hd extends er(re(j(W))){static get template(){return H`
      <style>
        :host {
          display: block;
          width: 100%; /* prevent collapsing inside non-stretching column flex */
          --vaadin-avatar-group-overlap: 8px;
          --vaadin-avatar-group-overlap-border: 2px;
        }

        :host([hidden]) {
          display: none !important;
        }

        [part='container'] {
          display: flex;
          position: relative;
          width: 100%;
          flex-wrap: nowrap;
        }

        [part='avatar']:not(:first-child) {
          -webkit-mask-image: url('data:image/svg+xml;utf8,<svg viewBox=%220 0 300 300%22 fill=%22none%22 xmlns=%22http://www.w3.org/2000/svg%22><path fill-rule=%22evenodd%22 clip-rule=%22evenodd%22 d=%22M300 0H0V300H300V0ZM150 200C177.614 200 200 177.614 200 150C200 122.386 177.614 100 150 100C122.386 100 100 122.386 100 150C100 177.614 122.386 200 150 200Z%22 fill=%22black%22/></svg>');
          mask-image: url('data:image/svg+xml;utf8,<svg viewBox=%220 0 300 300%22 fill=%22none%22 xmlns=%22http://www.w3.org/2000/svg%22><path fill-rule=%22evenodd%22 clip-rule=%22evenodd%22 d=%22M300 0H0V300H300V0ZM150 200C177.614 200 200 177.614 200 150C200 122.386 177.614 100 150 100C122.386 100 100 122.386 100 150C100 177.614 122.386 200 150 200Z%22 fill=%22black%22/></svg>');
          -webkit-mask-size: calc(
            300% + var(--vaadin-avatar-group-overlap-border) * 6 - var(--vaadin-avatar-outline-width) * 6
          );
          mask-size: calc(
            300% + var(--vaadin-avatar-group-overlap-border) * 6 - var(--vaadin-avatar-outline-width) * 6
          );
        }

        [part='avatar']:not([dir='rtl']):not(:first-child) {
          margin-left: calc(var(--vaadin-avatar-group-overlap) * -1 - var(--vaadin-avatar-outline-width));
          -webkit-mask-position: calc(50% - var(--vaadin-avatar-size) + var(--vaadin-avatar-group-overlap));
          mask-position: calc(50% - var(--vaadin-avatar-size) + var(--vaadin-avatar-group-overlap));
        }

        [part='avatar'][dir='rtl']:not(:first-child) {
          margin-right: calc(var(--vaadin-avatar-group-overlap) * -1);
          -webkit-mask-position: calc(
            50% + var(--vaadin-avatar-size) - var(--vaadin-avatar-group-overlap) + var(--vaadin-avatar-outline-width)
          );
          mask-position: calc(
            50% + var(--vaadin-avatar-size) - var(--vaadin-avatar-group-overlap) + var(--vaadin-avatar-outline-width)
          );
        }
      </style>
      <div id="container" part="container">
        <template id="items" is="dom-repeat" items="[[__computeItems(items.*, __itemsInView, maxItemsVisible)]]">
          <vaadin-avatar
            name="[[item.name]]"
            abbr="[[item.abbr]]"
            img="[[item.img]]"
            part="avatar"
            theme$="[[_theme]]"
            i18n="[[i18n]]"
            color-index="[[item.colorIndex]]"
            with-tooltip
          ></vaadin-avatar>
        </template>
        <vaadin-avatar
          id="overflow"
          part="avatar"
          hidden$="[[__computeMoreHidden(items.length, __itemsInView, __maxReached)]]"
          abbr="[[__computeMore(items.length, __itemsInView, maxItemsVisible)]]"
          theme$="[[_theme]]"
          on-click="_onOverflowClick"
          on-keydown="_onOverflowKeyDown"
          aria-haspopup="listbox"
        >
          <vaadin-tooltip slot="tooltip" generator="[[__overflowTextGenerator]]"></vaadin-tooltip>
        </vaadin-avatar>
      </div>
      <vaadin-avatar-group-overlay
        id="overlay"
        opened="{{_opened}}"
        no-vertical-overlap
        on-vaadin-overlay-close="_onVaadinOverlayClose"
      >
        <template>
          <vaadin-avatar-group-list-box on-keydown="_onListKeyDown">
            <template is="dom-repeat" items="[[__computeExtraItems(items.*, __itemsInView, maxItemsVisible)]]">
              <vaadin-item theme="avatar-group-item">
                <vaadin-avatar
                  name="[[item.name]]"
                  abbr="[[item.abbr]]"
                  img="[[item.img]]"
                  i18n="[[i18n]]"
                  part="avatar"
                  theme$="[[_theme]]"
                  color-index="[[item.colorIndex]]"
                  tabindex="-1"
                  aria-hidden="true"
                ></vaadin-avatar>
                [[item.name]]
              </vaadin-item>
            </template>
          </vaadin-avatar-group-list-box>
        </template>
      </vaadin-avatar-group-overlay>
    `}static get is(){return"vaadin-avatar-group"}static get properties(){return{items:{type:Array},maxItemsVisible:{type:Number},i18n:{type:Object,value:()=>({anonymous:"anonymous",activeUsers:{one:"Currently one active user",many:"Currently {count} active users"},joined:"{user} joined",left:"{user} left"})},__maxReached:{type:Boolean,computed:"__computeMaxReached(items.length, maxItemsVisible)"},__itemsInView:{type:Number,value:null},_opened:{type:Boolean,observer:"__openedChanged",value:!1},__overflowTextGenerator:Object}}static get observers(){return["__computeMoreTooltip(items.length, __itemsInView, maxItemsVisible)","__itemsChanged(items.splices, items.*)","__i18nItemsChanged(i18n.*, items.length)"]}ready(){super.ready(),this._overlayElement=this.shadowRoot.querySelector("vaadin-avatar-group-overlay"),this._overlayElement.positionTarget=this.$.overflow,Xa(this,()=>{this.__setItemsInView()})}disconnectedCallback(){super.disconnectedCallback(),this._opened=!1}get _avatars(){return this.shadowRoot.querySelectorAll("vaadin-avatar")}__getMessage(t,e){return e.replace("{user}",t.name||t.abbr||this.i18n.anonymous)}_onOverflowClick(t){t.stopPropagation(),this._opened?this.$.overlay.close():t.defaultPrevented||(this._opened=!0)}_onOverflowKeyDown(t){this._opened||/^(Enter|SpaceBar|\s)$/.test(t.key)&&(t.preventDefault(),this._opened=!0)}_onListKeyDown(t){(t.key==="Escape"||t.key==="Esc"||/^(Tab)$/.test(t.key))&&(this._opened=!1)}_onResize(){this.__setItemsInView()}_onVaadinOverlayClose(t){t.detail.sourceEvent&&t.detail.sourceEvent.composedPath().includes(this)&&t.preventDefault()}__computeItems(t,e,i){const n=t.base||[],s=this.__getLimit(n.length,e,i);return s?n.slice(0,s):n}__computeExtraItems(t,e,i){const n=t.base||[],s=this.__getLimit(n.length,e,i);return s?n.slice(s):n}__computeMaxReached(t,e){return e!=null&&t>this.__getMax(e)}__computeMore(t,e,i){return`+${t-this.__getLimit(t,e,i)}`}__computeMoreHidden(t,e,i){return!i&&!(e&&e<t)}__computeMoreTooltip(t,e,i){const n=this.__getLimit(t,e,i);if(n==null)return;const s=[];for(let o=n;o<t;o++){const a=this.items[o];a&&s.push(a.name||a.abbr||"anonymous")}this.__overflowTextGenerator=()=>s.join(`
`)}__getLimit(t,e,i){let n=null;const s=this.__getMax(i);return i!=null&&s<t?n=s-1:e&&e<t&&(n=e),Math.min(n,this.__calculateAvatarsFitWidth())}__getMax(t){return Math.max(t,kl)}__itemsChanged(t,e){const i=e.base;this.$.items.render(),this.__setItemsInView(),t&&Array.isArray(t.indexSplices)?t.indexSplices.forEach(n=>{this.__announceItemsChange(i,n)}):Array.isArray(i)&&Array.isArray(this.__oldItems)&&Zu(i,this.__oldItems).forEach(s=>{this.__announceItemsChange(i,s)}),this.__oldItems=i}__announceItemsChange(t,e){const{addedCount:i,index:n,removed:s}=e;let o=[],a=[];i&&(o=t.slice(n,n+i).map(h=>this.__getMessage(h,this.i18n.joined||"{user} joined"))),s&&(a=s.map(h=>this.__getMessage(h,this.i18n.left||"{user} left")));const l=a.concat(o);l.length>0&&Ht(l.join(", "))}__i18nItemsChanged(t,e){const{base:i}=t;if(i&&i.activeUsers){const n=e===1?"one":"many";i.activeUsers[n]&&this.setAttribute("aria-label",i.activeUsers[n].replace("{count}",e||0))}}__openedChanged(t,e){t?(this._menuElement||(this._menuElement=this._overlayElement.content.querySelector("vaadin-avatar-group-list-box"),this._menuElement.setAttribute("role","listbox")),this._openedWithFocusRing=this.$.overflow.hasAttribute("focus-ring"),this._menuElement.focus()):e&&(this.$.overflow.focus(),this._openedWithFocusRing&&this.$.overflow.setAttribute("focus-ring","")),this.$.overflow.setAttribute("aria-expanded",t===!0)}__setItemsInView(){const t=this._avatars,e=this.items;if(!e||!t||t.length<3)return;let i=this.__calculateAvatarsFitWidth();i===e.length-1&&(i=e.length),i>=e.length&&this._opened&&(this.$.overlay.close(),this.$.overlay._flushAnimation("closing")),this.__itemsInView=i}__calculateAvatarsFitWidth(){if(!this.shadowRoot||this._avatars.length<kl)return kl;const t=this._avatars,e=t[0].clientWidth,{marginLeft:i,marginRight:n}=getComputedStyle(t[1]),s=this.getAttribute("dir")==="rtl"?parseInt(n,0)-parseInt(i,0):parseInt(i,0)-parseInt(n,0);return Math.floor((this.$.container.offsetWidth-e)/(e+s))}}customElements.define(Hd.is,Hd);const Kw=k`
  :host {
    color: var(--lumo-body-text-color);
    font-size: var(--lumo-font-size-m);
    font-family: var(--lumo-font-family);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
    padding: var(--lumo-space-xs) 0;
  }

  :host::before {
    /* Effective height of vaadin-checkbox */
    height: var(--lumo-size-s);
    box-sizing: border-box;
    display: inline-flex;
    align-items: center;
  }

  :host([theme~='vertical']) [part='group-field'] {
    display: flex;
    flex-direction: column;
  }

  :host([disabled]) [part='label'] {
    color: var(--lumo-disabled-text-color);
    -webkit-text-fill-color: var(--lumo-disabled-text-color);
  }

  :host([focused]:not([disabled])) [part='label'] {
    color: var(--lumo-primary-text-color);
  }

  :host(:hover:not([disabled]):not([focused])) [part='label'],
  :host(:hover:not([disabled]):not([focused])) [part='helper-text'] {
    color: var(--lumo-body-text-color);
  }

  /* Touch device adjustment */
  @media (pointer: coarse) {
    :host(:hover:not([disabled]):not([focused])) [part='label'] {
      color: var(--lumo-secondary-text-color);
    }
  }
`;R("vaadin-checkbox-group",[Qa,Ja,Kw],{moduleId:"lumo-checkbox-group"});/**
 * @license
 * Copyright (c) 2018 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class Ud extends ts(Et(is(re(j(W))))){static get is(){return"vaadin-checkbox-group"}static get template(){return H`
      <style>
        :host {
          display: inline-flex;
        }

        :host::before {
          content: '\\2003';
          width: 0;
          display: inline-block;
        }

        :host([hidden]) {
          display: none !important;
        }

        .vaadin-group-field-container {
          display: flex;
          flex-direction: column;
          width: 100%;
        }

        :host(:not([has-label])) [part='label'] {
          display: none;
        }
      </style>

      <div class="vaadin-group-field-container">
        <div part="label">
          <slot name="label"></slot>
          <span part="required-indicator" aria-hidden="true"></span>
        </div>

        <div part="group-field">
          <slot></slot>
        </div>

        <div part="helper-text">
          <slot name="helper"></slot>
        </div>

        <div part="error-message">
          <slot name="error-message"></slot>
        </div>
      </div>

      <slot name="tooltip"></slot>
    `}static get properties(){return{value:{type:Array,value:()=>[],notify:!0,observer:"__valueChanged"}}}constructor(){super(),this.__registerCheckbox=this.__registerCheckbox.bind(this),this.__unregisterCheckbox=this.__unregisterCheckbox.bind(this),this.__onCheckboxCheckedChanged=this.__onCheckboxCheckedChanged.bind(this)}ready(){super.ready(),this.ariaTarget=this,this.setAttribute("role","group"),this._observer=new Ce(this,({addedNodes:t,removedNodes:e})=>{const i=this.__filterCheckboxes(t),n=this.__filterCheckboxes(e);i.forEach(this.__registerCheckbox),n.forEach(this.__unregisterCheckbox),this.__warnOfCheckboxesWithoutValue(i)}),this._tooltipController=new ke(this),this.addController(this._tooltipController)}checkValidity(){return!this.required||this.value.length>0}__filterCheckboxes(t){return t.filter(e=>e instanceof Db)}get __checkboxes(){return this.__filterCheckboxes([...this.children])}__warnOfCheckboxesWithoutValue(t){t.some(i=>{const{value:n}=i;return!i.hasAttribute("value")&&(!n||n==="on")})&&console.warn("Please provide the value attribute to all the checkboxes inside the checkbox group.")}__registerCheckbox(t){t.addEventListener("checked-changed",this.__onCheckboxCheckedChanged),this.disabled&&(t.disabled=!0),t.checked?this.__addCheckboxToValue(t.value):this.value.includes(t.value)&&(t.checked=!0)}__unregisterCheckbox(t){t.removeEventListener("checked-changed",this.__onCheckboxCheckedChanged),t.checked&&this.__removeCheckboxFromValue(t.value)}_disabledChanged(t,e){super._disabledChanged(t,e),!(!t&&e===void 0)&&e!==t&&this.__checkboxes.forEach(i=>{i.disabled=t})}__addCheckboxToValue(t){this.value.includes(t)||(this.value=[...this.value,t])}__removeCheckboxFromValue(t){this.value.includes(t)&&(this.value=this.value.filter(e=>e!==t))}__onCheckboxCheckedChanged(t){const e=t.target;e.checked?this.__addCheckboxToValue(e.value):this.__removeCheckboxFromValue(e.value)}__valueChanged(t,e){t.length===0&&e===void 0||(this.toggleAttribute("has-value",t.length>0),this.__checkboxes.forEach(i=>{i.checked=t.includes(i.value)}),e!==void 0&&this.validate())}_shouldRemoveFocus(t){return!this.contains(t.relatedTarget)}_setFocused(t){super._setFocused(t),t||this.validate()}}customElements.define(Ud.is,Ud);/**
 * @license
 * Copyright (c) 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const Gv=k`
  [part~='loader'] {
    box-sizing: border-box;
    width: var(--lumo-icon-size-s);
    height: var(--lumo-icon-size-s);
    border: 2px solid transparent;
    border-color: var(--lumo-primary-color-10pct) var(--lumo-primary-color-10pct) var(--lumo-primary-color)
      var(--lumo-primary-color);
    border-radius: calc(0.5 * var(--lumo-icon-size-s));
    opacity: 0;
    pointer-events: none;
  }

  :host(:not([loading])) [part~='loader'] {
    display: none;
  }

  :host([loading]) [part~='loader'] {
    animation: 1s linear infinite lumo-loader-rotate, 0.3s 0.1s lumo-loader-fade-in both;
  }

  @keyframes lumo-loader-fade-in {
    0% {
      opacity: 0;
    }

    100% {
      opacity: 1;
    }
  }

  @keyframes lumo-loader-rotate {
    0% {
      transform: rotate(0deg);
    }

    100% {
      transform: rotate(360deg);
    }
  }
`,Zw=k`
  [part='content'] {
    padding: 0;
  }

  :host {
    --_vaadin-combo-box-items-container-border-width: var(--lumo-space-xs);
    --_vaadin-combo-box-items-container-border-style: solid;
    --_vaadin-combo-box-items-container-border-color: transparent;
  }

  /* Loading state */

  /* When items are empty, the spinner needs some room */
  :host(:not([closing])) [part~='content'] {
    min-height: calc(2 * var(--lumo-space-s) + var(--lumo-icon-size-s));
  }

  [part~='overlay'] {
    position: relative;
  }

  :host([top-aligned]) [part~='overlay'] {
    margin-top: var(--lumo-space-xs);
  }

  :host([bottom-aligned]) [part~='overlay'] {
    margin-bottom: var(--lumo-space-xs);
  }

  [part~='loader'] {
    position: absolute;
    z-index: 1;
    left: var(--lumo-space-s);
    right: var(--lumo-space-s);
    top: var(--lumo-space-s);
    margin-left: auto;
    margin-inline-start: auto;
    margin-inline-end: 0;
  }

  /* RTL specific styles */

  :host([dir='rtl']) [part~='loader'] {
    left: auto;
    margin-left: 0;
    margin-right: auto;
    margin-inline-start: 0;
    margin-inline-end: auto;
  }
`;R("vaadin-combo-box-overlay",[Za,sl,Zw,Gv],{moduleId:"lumo-combo-box-overlay"});const Qw=k`
  :host {
    transition: background-color 100ms;
    overflow: hidden;
    --_lumo-item-selected-icon-display: block;
  }

  @media (any-hover: hover) {
    :host([focused]:not([disabled])) {
      box-shadow: inset 0 0 0 2px var(--lumo-primary-color-50pct);
    }
  }
`;R("vaadin-combo-box-item",[zv,Qw],{moduleId:"lumo-combo-box-item"});const Jw=k`
  :host {
    outline: none;
  }

  [part='toggle-button']::before {
    content: var(--lumo-icons-dropdown);
  }
`;R("vaadin-combo-box",[Xt,Jw],{moduleId:"lumo-combo-box"});/**
 * @license
 * Copyright (c) 2015 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class Wo extends j(Si(W)){static get template(){return H`
      <style>
        :host {
          display: block;
        }

        :host([hidden]) {
          display: none;
        }
      </style>
      <span part="checkmark" aria-hidden="true"></span>
      <div part="content">
        <slot></slot>
      </div>
    `}static get is(){return"vaadin-combo-box-item"}static get properties(){return{index:Number,item:Object,label:String,selected:{type:Boolean,value:!1,reflectToAttribute:!0},focused:{type:Boolean,value:!1,reflectToAttribute:!0},renderer:Function,_oldRenderer:Function}}static get observers(){return["__rendererOrItemChanged(renderer, index, item.*, selected, focused)","__updateLabel(label, renderer)"]}connectedCallback(){super.connectedCallback(),this._comboBox=this.parentNode.comboBox;const t=this._comboBox.getAttribute("dir");t&&this.setAttribute("dir",t)}requestContentUpdate(){if(!this.renderer)return;const t={index:this.index,item:this.item,focused:this.focused,selected:this.selected};this.renderer(this,this._comboBox,t)}__rendererOrItemChanged(t,e,i){i===void 0||e===void 0||(this._oldRenderer!==t&&(this.innerHTML="",delete this._$litPart$),t&&(this._oldRenderer=t,this.requestContentUpdate()))}__updateLabel(t,e){e||(this.textContent=t)}}customElements.define(Wo.is,Wo);/**
 * @license
 * Copyright (c) 2015 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */R("vaadin-combo-box-overlay",k`
    #overlay {
      width: var(--vaadin-combo-box-overlay-width, var(--_vaadin-combo-box-overlay-default-width, auto));
    }

    [part='content'] {
      display: flex;
      flex-direction: column;
      height: 100%;
    }
  `,{moduleId:"vaadin-combo-box-overlay-styles"});let Ts;class Yo extends Ur(Ti){static get is(){return"vaadin-combo-box-overlay"}static get template(){return Ts||(Ts=super.template.cloneNode(!0),Ts.content.querySelector('[part~="overlay"]').removeAttribute("tabindex")),Ts}static get observers(){return["_setOverlayWidth(positionTarget, opened)"]}connectedCallback(){super.connectedCallback();const t=this._comboBox,e=t&&t.getAttribute("dir");e&&this.setAttribute("dir",e)}ready(){super.ready();const t=document.createElement("div");t.setAttribute("part","loader");const e=this.shadowRoot.querySelector('[part~="content"]');e.parentNode.insertBefore(t,e),this.requiredVerticalSpace=200}_outsideClickListener(t){const e=t.composedPath();!e.includes(this.positionTarget)&&!e.includes(this)&&this.close()}_setOverlayWidth(t,e){if(t&&e){const i=this.localName;this.style.setProperty(`--_${i}-default-width`,`${t.clientWidth}px`);const n=getComputedStyle(this._comboBox).getPropertyValue(`--${i}-width`);n===""?this.style.removeProperty(`--${i}-width`):this.style.setProperty(`--${i}-width`,n),this._updatePosition()}}}customElements.define(Yo.is,Yo);/**
 * @license
 * Copyright (c) 2015 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const qt=class{toString(){return""}};/**
 * @license
 * Copyright (c) 2015 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class jo extends W{static get is(){return"vaadin-combo-box-scroller"}static get template(){return H`
      <style>
        :host {
          display: block;
          min-height: 1px;
          overflow: auto;

          /* Fixes item background from getting on top of scrollbars on Safari */
          transform: translate3d(0, 0, 0);

          /* Enable momentum scrolling on iOS */
          -webkit-overflow-scrolling: touch;

          /* Fixes scrollbar disappearing when 'Show scroll bars: Always' enabled in Safari */
          box-shadow: 0 0 0 white;
        }

        #selector {
          border-width: var(--_vaadin-combo-box-items-container-border-width);
          border-style: var(--_vaadin-combo-box-items-container-border-style);
          border-color: var(--_vaadin-combo-box-items-container-border-color);
        }
      </style>
      <div id="selector">
        <slot></slot>
      </div>
    `}static get properties(){return{items:{type:Array,observer:"__itemsChanged"},focusedIndex:{type:Number,observer:"__focusedIndexChanged"},loading:{type:Boolean,observer:"__loadingChanged"},opened:{type:Boolean,observer:"__openedChanged"},selectedItem:{type:Object,observer:"__selectedItemChanged"},itemIdPath:{type:String},comboBox:{type:Object},getItemLabel:{type:Object},renderer:{type:Object,observer:"__rendererChanged"},theme:{type:String}}}constructor(){super(),this.__boundOnItemClick=this.__onItemClick.bind(this)}__openedChanged(t){t&&this.requestContentUpdate()}ready(){super.ready(),this.id=`${this.localName}-${Hr()}`,this.__hostTagName=this.constructor.is.replace("-scroller",""),this.setAttribute("role","listbox"),this.addEventListener("click",t=>t.stopPropagation()),this.__patchWheelOverScrolling(),this.__virtualizer=new tc({createElements:this.__createElements.bind(this),updateElement:this.__updateElement.bind(this),elementsContainer:this,scrollTarget:this,scrollContainer:this.$.selector})}requestContentUpdate(){this.__virtualizer&&this.__virtualizer.update()}scrollIntoView(t){if(!(this.opened&&t>=0))return;const e=this._visibleItemsCount();let i=t;t>this.__virtualizer.lastVisibleIndex-1?(this.__virtualizer.scrollToIndex(t),i=t-e+1):t>this.__virtualizer.firstVisibleIndex&&(i=this.__virtualizer.firstVisibleIndex),this.__virtualizer.scrollToIndex(Math.max(0,i));const n=[...this.children].find(l=>!l.hidden&&l.index===this.__virtualizer.lastVisibleIndex);if(!n||t!==n.index)return;const s=n.getBoundingClientRect(),o=this.getBoundingClientRect(),a=s.bottom-o.bottom+this._viewportTotalPaddingBottom;a>0&&(this.scrollTop+=a)}__getAriaRole(t){return t!==void 0?"option":!1}__isItemFocused(t,e){return!this.loading&&t===e}_isItemSelected(t,e,i){return t instanceof qt?!1:i&&t!==void 0&&e!==void 0?this.get(i,t)===this.get(i,e):t===e}__itemsChanged(t){this.__virtualizer&&t&&(this.__virtualizer.size=t.length,this.__virtualizer.flush(),this.requestContentUpdate())}__loadingChanged(){this.requestContentUpdate()}__selectedItemChanged(){this.requestContentUpdate()}__focusedIndexChanged(t,e){t!==e&&this.requestContentUpdate(),t>=0&&!this.loading&&this.scrollIntoView(t)}__rendererChanged(t,e){(t||e)&&this.requestContentUpdate()}__createElements(t){return[...Array(t)].map(()=>{const e=document.createElement(`${this.__hostTagName}-item`);return e.addEventListener("click",this.__boundOnItemClick),e.tabIndex="-1",e.style.width="100%",e})}__updateElement(t,e){const i=this.items[e],n=this.focusedIndex,s=this._isItemSelected(i,this.selectedItem,this.itemIdPath);t.setProperties({item:i,index:e,label:this.getItemLabel(i),selected:s,renderer:this.renderer,focused:this.__isItemFocused(n,e)}),t.id=`${this.__hostTagName}-item-${e}`,t.setAttribute("role",this.__getAriaRole(e)),t.setAttribute("aria-selected",s.toString()),t.setAttribute("aria-posinset",e+1),t.setAttribute("aria-setsize",this.items.length),this.theme?t.setAttribute("theme",this.theme):t.removeAttribute("theme"),i instanceof qt&&this.__requestItemByIndex(e)}__onItemClick(t){this.dispatchEvent(new CustomEvent("selection-changed",{detail:{item:t.currentTarget.item}}))}__patchWheelOverScrolling(){this.$.selector.addEventListener("wheel",t=>{const e=this.scrollTop===0,i=this.scrollHeight-this.scrollTop-this.clientHeight<=1;(e&&t.deltaY<0||i&&t.deltaY>0)&&t.preventDefault()})}get _viewportTotalPaddingBottom(){if(this._cachedViewportTotalPaddingBottom===void 0){const t=window.getComputedStyle(this.$.selector);this._cachedViewportTotalPaddingBottom=[t.paddingBottom,t.borderBottomWidth].map(e=>parseInt(e,10)).reduce((e,i)=>e+i)}return this._cachedViewportTotalPaddingBottom}__requestItemByIndex(t){requestAnimationFrame(()=>{this.dispatchEvent(new CustomEvent("index-requested",{detail:{index:t,currentScrollerPos:this._oldScrollerPosition}}))})}_visibleItemsCount(){return this.__virtualizer.scrollToIndex(this.__virtualizer.firstVisibleIndex),this.__virtualizer.size>0?this.__virtualizer.lastVisibleIndex-this.__virtualizer.firstVisibleIndex+1:0}}customElements.define(jo.is,jo);/**
 * @license
 * Copyright (c) 2015 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const Hv=r=>class extends r{static get properties(){return{pageSize:{type:Number,value:50,observer:"_pageSizeChanged"},size:{type:Number,observer:"_sizeChanged"},dataProvider:{type:Object,observer:"_dataProviderChanged"},_pendingRequests:{value:()=>({})},__placeHolder:{value:new qt},__previousDataProviderFilter:{type:String}}}static get observers(){return["_dataProviderFilterChanged(filter)","_warnDataProviderValue(dataProvider, value)","_ensureFirstPage(opened)"]}ready(){super.ready(),this._scroller.addEventListener("index-requested",e=>{const i=e.detail.index,n=e.detail.currentScrollerPos,s=Math.floor(this.pageSize*1.5);if(!this._shouldSkipIndex(i,s,n)&&i!==void 0){const o=this._getPageForIndex(i);this._shouldLoadPage(o)&&this._loadPage(o)}})}_dataProviderFilterChanged(e){if(this.__previousDataProviderFilter===void 0&&e===""){this.__previousDataProviderFilter=e;return}this.__previousDataProviderFilter!==e&&(this.__previousDataProviderFilter=e,this._pendingRequests={},this.loading=this._shouldFetchData(),this.size=void 0,this.clearCache())}_shouldFetchData(){return this.dataProvider?this.opened||this.filter&&this.filter.length:!1}_ensureFirstPage(e){e&&this._shouldLoadPage(0)&&this._loadPage(0)}_shouldSkipIndex(e,i,n){return n!==0&&e>=n-i&&e<=n+i}_shouldLoadPage(e){if(!this.filteredItems||this._forceNextRequest)return this._forceNextRequest=!1,!0;const i=this.filteredItems[e*this.pageSize];return i!==void 0?i instanceof qt:this.size===void 0}_loadPage(e){if(this._pendingRequests[e]||!this.dataProvider)return;const i={page:e,pageSize:this.pageSize,filter:this.filter},n=(s,o)=>{if(this._pendingRequests[e]!==n)return;const a=this.filteredItems?[...this.filteredItems]:[];a.splice(i.page*i.pageSize,s.length,...s),this.filteredItems=a,!this.opened&&!this._isInputFocused()&&this._commitValue(),o!==void 0&&(this.size=o),delete this._pendingRequests[e],Object.keys(this._pendingRequests).length===0&&(this.loading=!1)};this._pendingRequests[e]=n,this.loading=!0,this.dataProvider(i,n)}_getPageForIndex(e){return Math.floor(e/this.pageSize)}clearCache(){if(!this.dataProvider)return;this._pendingRequests={};const e=[];for(let i=0;i<(this.size||0);i++)e.push(this.__placeHolder);this.filteredItems=e,this._shouldFetchData()?(this._forceNextRequest=!1,this._loadPage(0)):this._forceNextRequest=!0}_sizeChanged(e=0){const i=(this.filteredItems||[]).slice(0,e);for(let n=0;n<e;n++)i[n]=i[n]!==void 0?i[n]:this.__placeHolder;this.filteredItems=i,this._flushPendingRequests(e)}_pageSizeChanged(e,i){if(Math.floor(e)!==e||e<1)throw this.pageSize=i,new Error("`pageSize` value must be an integer > 0");this.clearCache()}_dataProviderChanged(e,i){this._ensureItemsOrDataProvider(()=>{this.dataProvider=i}),this.clearCache()}_ensureItemsOrDataProvider(e){if(this.items!==void 0&&this.dataProvider!==void 0)throw e(),new Error("Using `items` and `dataProvider` together is not supported");this.dataProvider&&!this.filteredItems&&(this.filteredItems=[])}_warnDataProviderValue(e,i){if(e&&i!==""&&(this.selectedItem===void 0||this.selectedItem===null)){const n=this.__getItemIndexByValue(this.filteredItems,i);(n<0||!this._getItemLabel(this.filteredItems[n]))&&console.warn("Warning: unable to determine the label for the provided `value`. Nothing to display in the text field. This usually happens when setting an initial `value` before any items are returned from the `dataProvider` callback. Consider setting `selectedItem` instead of `value`")}}_flushPendingRequests(e){if(this._pendingRequests){const i=Math.ceil(e/this.pageSize),n=Object.keys(this._pendingRequests);for(let s=0;s<n.length;s++){const o=parseInt(n[s]);o>=i&&this._pendingRequests[o]([],e)}}}};/**
 * @license
 * Copyright (c) 2021 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class Uv{constructor(t){this.host=t,t.addEventListener("opened-changed",()=>{t.opened||this.__setVirtualKeyboardEnabled(!1)}),t.addEventListener("blur",()=>this.__setVirtualKeyboardEnabled(!0)),t.addEventListener("touchstart",()=>this.__setVirtualKeyboardEnabled(!0))}__setVirtualKeyboardEnabled(t){this.host.inputElement&&(this.host.inputElement.inputMode=t?"":"none")}}/**
 * @license
 * Copyright (c) 2015 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */function Wd(r){return r!=null}function Yd(r,t){return r.findIndex(e=>e instanceof qt?!1:t(e))}const uc=r=>class extends He(Gr(Lb(is(r)))){static get properties(){return{opened:{type:Boolean,notify:!0,value:!1,reflectToAttribute:!0,observer:"_openedChanged"},autoOpenDisabled:{type:Boolean},readonly:{type:Boolean,value:!1,reflectToAttribute:!0},renderer:Function,items:{type:Array,observer:"_itemsChanged"},allowCustomValue:{type:Boolean,value:!1},filteredItems:{type:Array,observer:"_filteredItemsChanged"},_lastCommittedValue:String,loading:{type:Boolean,value:!1,reflectToAttribute:!0},_focusedIndex:{type:Number,observer:"_focusedIndexChanged",value:-1},filter:{type:String,value:"",notify:!0},selectedItem:{type:Object,notify:!0},itemLabelPath:{type:String,value:"label",observer:"_itemLabelPathChanged"},itemValuePath:{type:String,value:"value"},itemIdPath:String,_toggleElement:{type:Object,observer:"_toggleElementChanged"},_closeOnBlurIsPrevented:Boolean,_scroller:Object,_overlayOpened:{type:Boolean,observer:"_overlayOpenedChanged"}}}static get observers(){return["_selectedItemChanged(selectedItem, itemValuePath, itemLabelPath)","_openedOrItemsChanged(opened, filteredItems, loading)","_updateScroller(_scroller, filteredItems, opened, loading, selectedItem, itemIdPath, _focusedIndex, renderer, theme)"]}constructor(){super(),this._boundOnFocusout=this._onFocusout.bind(this),this._boundOverlaySelectedItemChanged=this._overlaySelectedItemChanged.bind(this),this._boundOnClearButtonMouseDown=this.__onClearButtonMouseDown.bind(this),this._boundOnClick=this._onClick.bind(this),this._boundOnOverlayTouchAction=this._onOverlayTouchAction.bind(this),this._boundOnTouchend=this._onTouchend.bind(this)}get _tagNamePrefix(){return"vaadin-combo-box"}get _inputElementValue(){return this.inputElement?this.inputElement[this._propertyForValue]:void 0}set _inputElementValue(e){this.inputElement&&(this.inputElement[this._propertyForValue]=e)}get _nativeInput(){return this.inputElement}_inputElementChanged(e){super._inputElementChanged(e);const i=this._nativeInput;i&&(i.autocomplete="off",i.autocapitalize="off",i.setAttribute("role","combobox"),i.setAttribute("aria-autocomplete","list"),i.setAttribute("aria-expanded",!!this.opened),i.setAttribute("spellcheck","false"),i.setAttribute("autocorrect","off"),this._revertInputValueToValue(),this.clearElement&&this.clearElement.addEventListener("mousedown",this._boundOnClearButtonMouseDown))}ready(){super.ready(),this._initOverlay(),this._initScroller(),this.addEventListener("focusout",this._boundOnFocusout),this._lastCommittedValue=this.value,this.addEventListener("click",this._boundOnClick),this.addEventListener("touchend",this._boundOnTouchend);const e=()=>{requestAnimationFrame(()=>{this.$.overlay.bringToFront()})};this.addEventListener("mousedown",e),this.addEventListener("touchstart",e),Ii(this),this.addController(new Uv(this))}disconnectedCallback(){super.disconnectedCallback(),this.close()}requestContentUpdate(){!this._scroller||(this._scroller.requestContentUpdate(),this._getItemElements().forEach(e=>{e.requestContentUpdate()}))}open(){!this.disabled&&!this.readonly&&(this.opened=!0)}close(){this.opened=!1}_propertiesChanged(e,i,n){super._propertiesChanged(e,i,n),i.filter!==void 0&&this._filterChanged(i.filter)}_initOverlay(){const e=this.$.overlay;e._comboBox=this,e.addEventListener("touchend",this._boundOnOverlayTouchAction),e.addEventListener("touchmove",this._boundOnOverlayTouchAction),e.addEventListener("mousedown",i=>i.preventDefault()),e.addEventListener("opened-changed",i=>{this._overlayOpened=i.detail.value})}_initScroller(e){const i=`${this._tagNamePrefix}-scroller`,n=this.$.overlay;n.renderer=o=>{o.firstChild||o.appendChild(document.createElement(i))},n.requestContentUpdate();const s=n.querySelector(i);s.comboBox=e||this,s.getItemLabel=this._getItemLabel.bind(this),s.addEventListener("selection-changed",this._boundOverlaySelectedItemChanged),this._scroller=s}_updateScroller(e,i,n,s,o,a,l,h,u){e&&(n&&(e.style.maxHeight=getComputedStyle(this).getPropertyValue(`--${this._tagNamePrefix}-overlay-max-height`)||"65vh"),e.setProperties({items:n?i:[],opened:n,loading:s,selectedItem:o,itemIdPath:a,focusedIndex:l,renderer:h,theme:u}))}_openedOrItemsChanged(e,i,n){this._overlayOpened=!!(e&&(n||i&&i.length))}_overlayOpenedChanged(e,i){e?(this.dispatchEvent(new CustomEvent("vaadin-combo-box-dropdown-opened",{bubbles:!0,composed:!0})),this._onOpened()):i&&this.filteredItems&&this.filteredItems.length&&(this.close(),this.dispatchEvent(new CustomEvent("vaadin-combo-box-dropdown-closed",{bubbles:!0,composed:!0})))}_focusedIndexChanged(e,i){i!==void 0&&this._updateActiveDescendant(e)}_isInputFocused(){return this.inputElement&&Ym(this.inputElement)}_updateActiveDescendant(e){const i=this._nativeInput;if(!i)return;const n=this._getItemElements().find(s=>s.index===e);n?i.setAttribute("aria-activedescendant",n.id):i.removeAttribute("aria-activedescendant")}_openedChanged(e,i){if(i===void 0)return;e?(this._openedWithFocusRing=this.hasAttribute("focus-ring"),!this._isInputFocused()&&!wi&&this.focus(),this.$.overlay.restoreFocusOnClose=!0):(this._onClosed(),this._openedWithFocusRing&&this._isInputFocused()&&this.setAttribute("focus-ring",""));const n=this._nativeInput;n&&(n.setAttribute("aria-expanded",!!e),e?n.setAttribute("aria-controls",this._scroller.id):n.removeAttribute("aria-controls"))}_onOverlayTouchAction(){this._closeOnBlurIsPrevented=!0,this.inputElement.blur(),this._closeOnBlurIsPrevented=!1}_isClearButton(e){return e.composedPath()[0]===this.clearElement}_handleClearButtonClick(e){e.preventDefault(),this._clear(),this.opened&&this.requestContentUpdate()}_onToggleButtonClick(e){e.preventDefault(),this.opened?this.close():this.open()}_onHostClick(e){this.autoOpenDisabled||(e.preventDefault(),this.open())}_onClick(e){const i=e.composedPath();this._isClearButton(e)?this._handleClearButtonClick(e):i.indexOf(this._toggleElement)>-1?this._onToggleButtonClick(e):this._onHostClick(e)}_onKeyDown(e){super._onKeyDown(e),e.key==="Tab"?this.$.overlay.restoreFocusOnClose=!1:e.key==="ArrowDown"?(this._onArrowDown(),e.preventDefault()):e.key==="ArrowUp"&&(this._onArrowUp(),e.preventDefault())}_getItemLabel(e){let i=e&&this.itemLabelPath?this.get(this.itemLabelPath,e):void 0;return i==null&&(i=e?e.toString():""),i}_getItemValue(e){let i=e&&this.itemValuePath?this.get(this.itemValuePath,e):void 0;return i===void 0&&(i=e?e.toString():""),i}_onArrowDown(){if(this.opened){const e=this.filteredItems;e&&(this._focusedIndex=Math.min(e.length-1,this._focusedIndex+1),this._prefillFocusedItemLabel())}else this.open()}_onArrowUp(){if(this.opened){if(this._focusedIndex>-1)this._focusedIndex=Math.max(0,this._focusedIndex-1);else{const e=this.filteredItems;e&&(this._focusedIndex=e.length-1)}this._prefillFocusedItemLabel()}else this.open()}_prefillFocusedItemLabel(){if(this._focusedIndex>-1){const e=this.filteredItems[this._focusedIndex];this._inputElementValue=this._getItemLabel(e),this._markAllSelectionRange()}}_setSelectionRange(e,i){this._isInputFocused()&&this.inputElement.setSelectionRange&&this.inputElement.setSelectionRange(e,i)}_markAllSelectionRange(){this._inputElementValue!==void 0&&this._setSelectionRange(0,this._inputElementValue.length)}_clearSelectionRange(){if(this._inputElementValue!==void 0){const e=this._inputElementValue?this._inputElementValue.length:0;this._setSelectionRange(e,e)}}_closeOrCommit(){!this.opened&&!this.loading?this._commitValue():this.close()}_onEnter(e){const i=this._focusedIndex<0&&this._inputElementValue!==""&&this._getItemLabel(this.selectedItem)!==this._inputElementValue;if(!this.allowCustomValue&&i){e.preventDefault(),e.stopPropagation();return}this.opened&&(e.preventDefault(),e.stopPropagation()),this._closeOrCommit()}_onEscape(e){this.autoOpenDisabled?this.opened||this.value!==this._inputElementValue&&this._inputElementValue.length>0?(e.stopPropagation(),this._focusedIndex=-1,this.cancel()):this.clearButtonVisible&&!this.opened&&!!this.value&&(e.stopPropagation(),this._clear()):this.opened?(e.stopPropagation(),this._focusedIndex>-1?(this._focusedIndex=-1,this._revertInputValue()):this.cancel()):this.clearButtonVisible&&!!this.value&&(e.stopPropagation(),this._clear())}_toggleElementChanged(e){e&&(e.addEventListener("mousedown",i=>i.preventDefault()),e.addEventListener("click",()=>{wi&&!this._isInputFocused()&&document.activeElement.blur()}))}_clear(){this.selectedItem=null,this.allowCustomValue&&(this.value=""),this._detectAndDispatchChange()}cancel(){this._revertInputValueToValue(),this._lastCommittedValue=this.value,this._closeOrCommit()}_onOpened(){requestAnimationFrame(()=>{this._scrollIntoView(this._focusedIndex),this._updateActiveDescendant(this._focusedIndex)}),this._lastCommittedValue=this.value}_onClosed(){(!this.loading||this.allowCustomValue)&&this._commitValue()}_commitValue(){if(this._focusedIndex>-1){const e=this.filteredItems[this._focusedIndex];this.selectedItem!==e&&(this.selectedItem=e),this._inputElementValue=this._getItemLabel(this.selectedItem)}else if(this._inputElementValue===""||this._inputElementValue===void 0)this.selectedItem=null,this.allowCustomValue&&(this.value="");else{const e=[...this.filteredItems||[],this.selectedItem],i=e[this.__getItemIndexByLabel(e,this._inputElementValue)];if(this.allowCustomValue&&!i){const n=this._inputElementValue;this._lastCustomValue=n;const s=new CustomEvent("custom-value-set",{detail:n,composed:!0,cancelable:!0,bubbles:!0});this.dispatchEvent(s),s.defaultPrevented||(this.value=n)}else!this.allowCustomValue&&!this.opened&&i?this.value=this._getItemValue(i):this._inputElementValue=this.selectedItem?this._getItemLabel(this.selectedItem):this.value||""}this._detectAndDispatchChange(),this._clearSelectionRange(),this.filter=""}get _propertyForValue(){return"value"}_onInput(e){const i=this._inputElementValue,n={};this.filter===i?this._filterChanged(this.filter):n.filter=i,!this.opened&&!this._isClearButton(e)&&!this.autoOpenDisabled&&(n.opened=!0),this.setProperties(n)}_onChange(e){e.stopPropagation()}_itemLabelPathChanged(e){typeof e!="string"&&console.error("You should set itemLabelPath to a valid string")}_filterChanged(e){this._scrollIntoView(0),this._focusedIndex=-1,this.items?this.filteredItems=this._filterItems(this.items,e):this._filteredItemsChanged(this.filteredItems)}_revertInputValue(){this.filter!==""?this._inputElementValue=this.filter:this._revertInputValueToValue(),this._clearSelectionRange()}_revertInputValueToValue(){this.allowCustomValue&&!this.selectedItem?this._inputElementValue=this.value:this._inputElementValue=this._getItemLabel(this.selectedItem)}_selectedItemChanged(e){if(e==null)this.filteredItems&&(this.allowCustomValue||(this.value=""),this._toggleHasValue(this._hasValue),this._inputElementValue=this.value);else{const i=this._getItemValue(e);if(this.value!==i&&(this.value=i,this.value!==i))return;this._toggleHasValue(!0),this._inputElementValue=this._getItemLabel(e)}this.filteredItems&&(this._focusedIndex=this.filteredItems.indexOf(e))}_valueChanged(e,i){e===""&&i===void 0||(Wd(e)?(this._getItemValue(this.selectedItem)!==e&&this._selectItemForValue(e),!this.selectedItem&&this.allowCustomValue&&(this._inputElementValue=e),this._toggleHasValue(this._hasValue)):this.selectedItem=null,this.filter="",this._lastCommittedValue=void 0)}_detectAndDispatchChange(){this.value!==this._lastCommittedValue&&(this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this._lastCommittedValue=this.value)}_itemsChanged(e,i){this._ensureItemsOrDataProvider(()=>{this.items=i}),e?this.filteredItems=e.slice(0):i&&(this.filteredItems=null)}_filteredItemsChanged(e,i){const n=i?i[this._focusedIndex]:null,s=this.__getItemIndexByValue(e,this.value);(this.selectedItem===null||this.selectedItem===void 0)&&s>=0&&(this.selectedItem=e[s]);const o=this.__getItemIndexByValue(e,this._getItemValue(n));o>-1?this._focusedIndex=o:this.__setInitialFocusedIndex()}__setInitialFocusedIndex(){const e=this._inputElementValue;e===void 0||e===this._getItemLabel(this.selectedItem)?this._focusedIndex=this.__getItemIndexByLabel(this.filteredItems,this._getItemLabel(this.selectedItem)):this._focusedIndex=this.__getItemIndexByLabel(this.filteredItems,this.filter)}_filterItems(e,i){return e&&e.filter(s=>(i=i?i.toString().toLowerCase():"",this._getItemLabel(s).toString().toLowerCase().indexOf(i)>-1))}_selectItemForValue(e){const i=this.__getItemIndexByValue(this.filteredItems,e),n=this.selectedItem;i>=0?this.selectedItem=this.filteredItems[i]:this.dataProvider&&this.selectedItem===void 0?this.selectedItem=void 0:this.selectedItem=null,this.selectedItem===null&&n===null&&this._selectedItemChanged(this.selectedItem)}_getItemElements(){return Array.from(this._scroller.querySelectorAll(`${this._tagNamePrefix}-item`))}_scrollIntoView(e){!this._scroller||this._scroller.scrollIntoView(e)}__getItemIndexByValue(e,i){return!e||!Wd(i)?-1:Yd(e,n=>this._getItemValue(n)===i)}__getItemIndexByLabel(e,i){return!e||!i?-1:Yd(e,n=>this._getItemLabel(n).toString().toLowerCase()===i.toString().toLowerCase())}_overlaySelectedItemChanged(e){e.stopPropagation(),!(e.detail.item instanceof qt)&&this.opened&&(this._focusedIndex=this.filteredItems.indexOf(e.detail.item),this.close())}__onClearButtonMouseDown(e){e.preventDefault(),this.inputElement.focus()}_onFocusout(e){if(!(e.relatedTarget&&e.relatedTarget.localName===`${this._tagNamePrefix}-item`)){if(e.relatedTarget===this.$.overlay){e.composedPath()[0].focus();return}if(!this.readonly&&!this._closeOnBlurIsPrevented){if(!this.opened&&this.allowCustomValue&&this._inputElementValue===this._lastCustomValue){delete this._lastCustomValue;return}this._closeOrCommit()}}}_onTouchend(e){!this.clearElement||e.composedPath()[0]!==this.clearElement||(e.preventDefault(),this._clear())}};/**
 * @license
 * Copyright (c) 2015 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */R("vaadin-combo-box",Ji,{moduleId:"vaadin-combo-box-styles"});class jd extends Hv(uc(Ju(el(j(re(W)))))){static get is(){return"vaadin-combo-box"}static get template(){return H`
      <style>
        :host([opened]) {
          pointer-events: auto;
        }
      </style>

      <div class="vaadin-combo-box-container">
        <div part="label">
          <slot name="label"></slot>
          <span part="required-indicator" aria-hidden="true" on-click="focus"></span>
        </div>

        <vaadin-input-container
          part="input-field"
          readonly="[[readonly]]"
          disabled="[[disabled]]"
          invalid="[[invalid]]"
          theme$="[[_theme]]"
        >
          <slot name="prefix" slot="prefix"></slot>
          <slot name="input"></slot>
          <div id="clearButton" part="clear-button" slot="suffix" aria-hidden="true"></div>
          <div id="toggleButton" part="toggle-button" slot="suffix" aria-hidden="true"></div>
        </vaadin-input-container>

        <div part="helper-text">
          <slot name="helper"></slot>
        </div>

        <div part="error-message">
          <slot name="error-message"></slot>
        </div>
      </div>

      <vaadin-combo-box-overlay
        id="overlay"
        opened="[[_overlayOpened]]"
        loading$="[[loading]]"
        theme$="[[_theme]]"
        position-target="[[_positionTarget]]"
        no-vertical-overlap
        restore-focus-node="[[inputElement]]"
      ></vaadin-combo-box-overlay>

      <slot name="tooltip"></slot>
    `}static get properties(){return{_positionTarget:{type:Object}}}get clearElement(){return this.$.clearButton}ready(){super.ready(),this.addController(new Wr(this,t=>{this._setInputElement(t),this._setFocusElement(t),this.stateTarget=t,this.ariaTarget=t})),this.addController(new Qi(this.inputElement,this._labelController)),this._tooltipController=new ke(this),this.addController(this._tooltipController),this._tooltipController.setPosition("top"),this._tooltipController.setShouldShow(t=>!t.opened),this._positionTarget=this.shadowRoot.querySelector('[part="input-field"]'),this._toggleElement=this.$.toggleButton}_setFocused(t){super._setFocused(t),t||this.validate()}_shouldRemoveFocus(t){return t.relatedTarget===this.$.overlay?(t.composedPath()[0].focus(),!1):!0}_onClearButtonClick(t){t.stopPropagation(),this._handleClearButtonClick(t)}_onHostClick(t){const e=t.composedPath();(e.includes(this._labelNode)||e.includes(this._positionTarget))&&super._onHostClick(t)}}customElements.define(jd.is,jd);const ex=k`
  /* Optical centering */
  :host::before,
  :host::after {
    content: '';
    flex-basis: 0;
    flex-grow: 1;
  }

  :host::after {
    flex-grow: 1.1;
  }

  [part='overlay'] {
    border-radius: var(--lumo-border-radius-l);
    box-shadow: 0 0 0 1px var(--lumo-shade-5pct), var(--lumo-box-shadow-xl);
    background-image: none;
    outline: none;
    -webkit-tap-highlight-color: transparent;
  }

  [part='content'] {
    padding: var(--lumo-space-l);
  }

  :host(:is([has-header], [has-title])) [part='header'] + [part='content'] {
    padding-top: 0;
  }

  [part='header'],
  [part='header-content'],
  [part='footer'] {
    gap: var(--lumo-space-xs) var(--lumo-space-s);
    line-height: var(--lumo-line-height-s);
  }

  [part='header'] {
    padding: var(--lumo-space-m);
    background-color: var(--lumo-base-color);
    border-radius: var(--lumo-border-radius-l) var(--lumo-border-radius-l) 0 0; /* Needed for Safari */
  }

  [part='footer'] {
    padding: var(--lumo-space-s) var(--lumo-space-m);
    background-color: var(--lumo-contrast-5pct);
    border-radius: 0 0 var(--lumo-border-radius-l) var(--lumo-border-radius-l); /* Needed for Safari */
  }

  [part='title'] {
    font-size: var(--lumo-font-size-xl);
    font-weight: 600;
    color: var(--lumo-header-text-color);
    margin-inline-start: calc(var(--lumo-space-l) - var(--lumo-space-m));
  }

  /* No padding */
  :host([theme~='no-padding']) [part='content'] {
    padding: 0;
  }

  @media (min-height: 320px) {
    :host([overflow~='top']) [part='header'] {
      box-shadow: 0 1px 0 0 var(--lumo-contrast-10pct);
    }
  }

  /* Animations */

  :host([opening]),
  :host([closing]) {
    animation: 0.25s lumo-overlay-dummy-animation;
  }

  :host([opening]) [part='overlay'] {
    animation: 0.12s 0.05s vaadin-dialog-enter cubic-bezier(0.215, 0.61, 0.355, 1) both;
  }

  @keyframes vaadin-dialog-enter {
    0% {
      opacity: 0;
      transform: scale(0.95);
    }
  }

  :host([closing]) [part='overlay'] {
    animation: 0.1s 0.03s vaadin-dialog-exit cubic-bezier(0.55, 0.055, 0.675, 0.19) both;
  }

  :host([closing]) [part='backdrop'] {
    animation-delay: 0.05s;
  }

  @keyframes vaadin-dialog-exit {
    100% {
      opacity: 0;
      transform: scale(1.02);
    }
  }
`;R("vaadin-dialog-overlay",[Za,ex],{moduleId:"lumo-dialog"});/**
 * @license
 * Copyright (c) 2017 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */function qo(r){return r.touches?r.touches[0]:r}function Wv(r){return r.clientX>=0&&r.clientX<=window.innerWidth&&r.clientY>=0&&r.clientY<=window.innerHeight}/**
 * @license
 * Copyright (c) 2017 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const tx=r=>class extends r{static get properties(){return{draggable:{type:Boolean,value:!1,reflectToAttribute:!0},_touchDevice:{type:Boolean,value:wi},__dragHandleClassName:{type:String}}}ready(){super.ready(),this._originalBounds={},this._originalMouseCoords={},this._startDrag=this._startDrag.bind(this),this._drag=this._drag.bind(this),this._stopDrag=this._stopDrag.bind(this),this.$.overlay.$.overlay.addEventListener("mousedown",this._startDrag),this.$.overlay.$.overlay.addEventListener("touchstart",this._startDrag)}_startDrag(e){if(!(e.type==="touchstart"&&e.touches.length>1)&&this.draggable&&(e.button===0||e.touches)){const i=this.$.overlay.$.resizerContainer,n=e.target===i,s=e.offsetX>i.clientWidth||e.offsetY>i.clientHeight,o=e.target===this.$.overlay.$.content,a=e.composedPath().some((l,h)=>{if(!l.classList)return!1;const u=l.classList.contains(this.__dragHandleClassName||"draggable"),c=l.classList.contains("draggable-leaf-only"),d=h===0;return c&&d||u&&(!c||d)});if(n&&!s||o||a){a||e.preventDefault(),this._originalBounds=this.$.overlay.getBounds();const l=qo(e);this._originalMouseCoords={top:l.pageY,left:l.pageX},window.addEventListener("mouseup",this._stopDrag),window.addEventListener("touchend",this._stopDrag),window.addEventListener("mousemove",this._drag),window.addEventListener("touchmove",this._drag),this.$.overlay.$.overlay.style.position!=="absolute"&&this.$.overlay.setBounds(this._originalBounds)}}}_drag(e){const i=qo(e);if(Wv(i)){const n=this._originalBounds.top+(i.pageY-this._originalMouseCoords.top),s=this._originalBounds.left+(i.pageX-this._originalMouseCoords.left);this.$.overlay.setBounds({top:n,left:s})}}_stopDrag(){window.removeEventListener("mouseup",this._stopDrag),window.removeEventListener("touchend",this._stopDrag),window.removeEventListener("mousemove",this._drag),window.removeEventListener("touchmove",this._drag)}};/**
 * @license
 * Copyright (c) 2017 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */R("vaadin-dialog-overlay",k`
    [part='overlay'] {
      position: relative;
      overflow: visible;
      max-height: 100%;
      display: flex;
    }

    [part='content'] {
      box-sizing: border-box;
      height: 100%;
    }

    .resizer-container {
      overflow: auto;
      flex-grow: 1;
      border-radius: inherit; /* prevent child elements being drawn outside part=overlay */
    }

    [part='overlay'][style] .resizer-container {
      min-height: 100%;
      width: 100%;
    }

    :host(:not([resizable])) .resizer {
      display: none;
    }

    :host([resizable]) [part='title'] {
      cursor: move;
      -webkit-user-select: none;
      user-select: none;
    }

    .resizer {
      position: absolute;
      height: 16px;
      width: 16px;
    }

    .resizer.edge {
      height: 8px;
      width: 8px;
      top: -4px;
      right: -4px;
      bottom: -4px;
      left: -4px;
    }

    .resizer.edge.n {
      width: auto;
      bottom: auto;
      cursor: ns-resize;
    }

    .resizer.ne {
      top: -4px;
      right: -4px;
      cursor: nesw-resize;
    }

    .resizer.edge.e {
      height: auto;
      left: auto;
      cursor: ew-resize;
    }

    .resizer.se {
      bottom: -4px;
      right: -4px;
      cursor: nwse-resize;
    }

    .resizer.edge.s {
      width: auto;
      top: auto;
      cursor: ns-resize;
    }

    .resizer.sw {
      bottom: -4px;
      left: -4px;
      cursor: nesw-resize;
    }

    .resizer.edge.w {
      height: auto;
      right: auto;
      cursor: ew-resize;
    }

    .resizer.nw {
      top: -4px;
      left: -4px;
      cursor: nwse-resize;
    }
  `,{moduleId:"vaadin-dialog-resizable-overlay-styles"});const ix=r=>class extends r{static get properties(){return{resizable:{type:Boolean,value:!1,reflectToAttribute:!0}}}ready(){super.ready(),this._originalBounds={},this._originalMouseCoords={},this._resizeListeners={start:{},resize:{},stop:{}},this._addResizeListeners()}_addResizeListeners(){["n","e","s","w","nw","ne","se","sw"].forEach(e=>{const i=document.createElement("div");this._resizeListeners.start[e]=n=>this._startResize(n,e),this._resizeListeners.resize[e]=n=>this._resize(n,e),this._resizeListeners.stop[e]=()=>this._stopResize(e),e.length===1&&i.classList.add("edge"),i.classList.add("resizer"),i.classList.add(e),i.addEventListener("mousedown",this._resizeListeners.start[e]),i.addEventListener("touchstart",this._resizeListeners.start[e]),this.$.overlay.$.resizerContainer.appendChild(i)})}_startResize(e,i){if(!(e.type==="touchstart"&&e.touches.length>1)&&(e.button===0||e.touches)){e.preventDefault(),this._originalBounds=this.$.overlay.getBounds();const n=qo(e);this._originalMouseCoords={top:n.pageY,left:n.pageX},window.addEventListener("mousemove",this._resizeListeners.resize[i]),window.addEventListener("touchmove",this._resizeListeners.resize[i]),window.addEventListener("mouseup",this._resizeListeners.stop[i]),window.addEventListener("touchend",this._resizeListeners.stop[i]),this.$.overlay.$.overlay.style.position!=="absolute"&&this.$.overlay.setBounds(this._originalBounds)}}_resize(e,i){const n=qo(e);Wv(n)&&i.split("").forEach(o=>{switch(o){case"n":{const a=this._originalBounds.height-(n.pageY-this._originalMouseCoords.top),l=this._originalBounds.top+(n.pageY-this._originalMouseCoords.top);a>40&&this.$.overlay.setBounds({top:l,height:a});break}case"e":{const a=this._originalBounds.width+(n.pageX-this._originalMouseCoords.left);a>40&&this.$.overlay.setBounds({width:a});break}case"s":{const a=this._originalBounds.height+(n.pageY-this._originalMouseCoords.top);a>40&&this.$.overlay.setBounds({height:a});break}case"w":{const a=this._originalBounds.width-(n.pageX-this._originalMouseCoords.left),l=this._originalBounds.left+(n.pageX-this._originalMouseCoords.left);a>40&&this.$.overlay.setBounds({left:l,width:a});break}}})}_stopResize(e){window.removeEventListener("mousemove",this._resizeListeners.resize[e]),window.removeEventListener("touchmove",this._resizeListeners.resize[e]),window.removeEventListener("mouseup",this._resizeListeners.stop[e]),window.removeEventListener("touchend",this._resizeListeners.stop[e]),this.dispatchEvent(new CustomEvent("resize",{detail:this._getResizeDimensions()}))}_getResizeDimensions(){const e=this.$.overlay.$.resizerContainer.scrollTop,{width:i,height:n}=getComputedStyle(this.$.overlay.$.overlay),s=this.$.overlay.$.content;s.setAttribute("style","position: absolute; top: 0; right: 0; bottom: 0; left: 0; box-sizing: content-box; height: auto;");const{width:o,height:a}=getComputedStyle(s);return s.removeAttribute("style"),this.$.overlay.$.resizerContainer.scrollTop=e,{width:i,height:n,contentWidth:o,contentHeight:a}}};/**
 * @license
 * Copyright (c) 2017 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */R("vaadin-dialog-overlay",k`
    [part='header'],
    [part='header-content'],
    [part='footer'] {
      display: flex;
      align-items: center;
      flex-wrap: wrap;
      flex: none;
      pointer-events: none;
      z-index: 1;
    }

    [part='header'] {
      flex-wrap: nowrap;
    }

    ::slotted([slot='header-content']),
    ::slotted([slot='title']),
    ::slotted([slot='footer']) {
      display: contents;
      pointer-events: auto;
    }

    ::slotted([slot='title']) {
      font: inherit !important;
      overflow-wrap: anywhere;
    }

    [part='header-content'] {
      flex: 1;
    }

    :host([has-title]) [part='header-content'],
    [part='footer'] {
      justify-content: flex-end;
    }

    :host(:not([has-title]):not([has-header])) [part='header'],
    :host(:not([has-header])) [part='header-content'],
    :host(:not([has-title])) [part='title'],
    :host(:not([has-footer])) [part='footer'] {
      display: none !important;
    }

    :host(:is([has-title], [has-header], [has-footer])) [part='content'] {
      height: auto;
    }

    @media (min-height: 320px) {
      :host(:is([has-title], [has-header], [has-footer])) .resizer-container {
        overflow: hidden;
        display: flex;
        flex-direction: column;
      }

      :host(:is([has-title], [has-header], [has-footer])) [part='content'] {
        flex: 1;
        overflow: auto;
      }
    }

    /*
      NOTE(platosha): Make some min-width to prevent collapsing of the content
      taking the parent width, e. g., <vaadin-grid> and such.
    */
    [part='content'] {
      min-width: 12em; /* matches the default <vaadin-text-field> width */
    }

    :host([has-bounds-set]) [part='overlay'] {
      max-width: none;
    }
  `,{moduleId:"vaadin-dialog-overlay-styles"});let cn;class dh extends Ti{static get is(){return"vaadin-dialog-overlay"}static get template(){if(!cn){cn=super.template.cloneNode(!0);const t=cn.content.querySelector('[part="content"]'),e=cn.content.querySelector('[part="overlay"]'),i=document.createElement("section");i.id="resizerContainer",i.classList.add("resizer-container"),i.appendChild(t),e.appendChild(i);const n=document.createElement("header");n.setAttribute("part","header"),i.insertBefore(n,t);const s=document.createElement("div");s.setAttribute("part","title"),n.appendChild(s);const o=document.createElement("slot");o.setAttribute("name","title"),s.appendChild(o);const a=document.createElement("div");a.setAttribute("part","header-content"),n.appendChild(a);const l=document.createElement("slot");l.setAttribute("name","header-content"),a.appendChild(l);const h=document.createElement("footer");h.setAttribute("part","footer"),i.appendChild(h);const u=document.createElement("slot");u.setAttribute("name","footer"),h.appendChild(u)}return cn}static get observers(){return["_headerFooterRendererChange(headerRenderer, footerRenderer, opened)","_headerTitleChanged(headerTitle, opened)"]}static get properties(){return{modeless:Boolean,withBackdrop:Boolean,headerTitle:String,headerRenderer:Function,footerRenderer:Function}}ready(){super.ready(),this.__resizeObserver=new ResizeObserver(()=>{this.__updateOverflow()}),this.__resizeObserver.observe(this.$.resizerContainer),this.$.content.addEventListener("scroll",()=>{this.__updateOverflow()})}__createContainer(t){const e=document.createElement("div");return e.setAttribute("slot",t),e}__clearContainer(t){t.innerHTML="",delete t._$litPart$}__initContainer(t,e){return t?this.__clearContainer(t):t=this.__createContainer(e),t}_headerFooterRendererChange(t,e,i){const n=this.__oldHeaderRenderer!==t;this.__oldHeaderRenderer=t;const s=this.__oldFooterRenderer!==e;this.__oldFooterRenderer=e;const o=this._oldOpenedFooterHeader!==i;this._oldOpenedFooterHeader=i,this.toggleAttribute("has-header",!!t),this.toggleAttribute("has-footer",!!e),n&&(t?this.headerContainer=this.__initContainer(this.headerContainer,"header-content"):this.headerContainer&&(this.headerContainer.remove(),this.headerContainer=null,this.__updateOverflow())),s&&(e?this.footerContainer=this.__initContainer(this.footerContainer,"footer"):this.footerContainer&&(this.footerContainer.remove(),this.footerContainer=null,this.__updateOverflow())),(t&&(n||o)||e&&(s||o))&&i&&this.requestContentUpdate()}_headerTitleChanged(t,e){this.toggleAttribute("has-title",!!t),e&&(t||this._oldHeaderTitle)&&this.requestContentUpdate(),this._oldHeaderTitle=t}_headerTitleRenderer(){this.headerTitle?(this.headerTitleElement||(this.headerTitleElement=document.createElement("h2"),this.headerTitleElement.setAttribute("slot","title"),this.headerTitleElement.classList.add("draggable")),this.appendChild(this.headerTitleElement),this.headerTitleElement.textContent=this.headerTitle):this.headerTitleElement&&(this.headerTitleElement.remove(),this.headerTitleElement=null)}requestContentUpdate(){super.requestContentUpdate(),this.headerContainer&&(this.headerContainer.parentElement||this.appendChild(this.headerContainer),this.headerRenderer&&this.headerRenderer.call(this.owner,this.headerContainer,this.owner)),this.footerContainer&&(this.footerContainer.parentElement||this.appendChild(this.footerContainer),this.footerRenderer&&this.footerRenderer.call(this.owner,this.footerContainer,this.owner)),this._headerTitleRenderer(),this.__updateOverflow()}setBounds(t){const e=this.$.overlay,i={...t};e.style.position!=="absolute"&&(e.style.position="absolute",this.setAttribute("has-bounds-set",""),this.__forceSafariReflow()),Object.keys(i).forEach(n=>{typeof i[n]=="number"&&(i[n]=`${i[n]}px`)}),Object.assign(e.style,i)}getBounds(){const t=this.$.overlay.getBoundingClientRect(),e=this.getBoundingClientRect(),i=t.top-e.top,n=t.left-e.left,s=t.width,o=t.height;return{top:i,left:n,width:s,height:o}}__forceSafariReflow(){const t=this.$.resizerContainer.scrollTop,e=this.$.overlay;e.style.display="block",requestAnimationFrame(()=>{e.style.display="",this.$.resizerContainer.scrollTop=t})}__updateOverflow(){let t="";if(this.hasAttribute("has-header")||this.hasAttribute("has-footer")||this.headerTitle){const i=this.$.content;i.scrollTop>0&&(t+=" top"),i.scrollTop<i.scrollHeight-i.clientHeight&&(t+=" bottom")}const e=t.trim();e.length>0&&this.getAttribute("overflow")!==e?this.setAttribute("overflow",e):e.length===0&&this.hasAttribute("overflow")&&this.removeAttribute("overflow")}}customElements.define(dh.is,dh);class fh extends Yu(re(tx(ix(W)))){static get template(){return H`
      <style>
        :host {
          display: none !important;
        }
      </style>

      <vaadin-dialog-overlay
        id="overlay"
        header-title="[[headerTitle]]"
        on-opened-changed="_onOverlayOpened"
        on-mousedown="_bringOverlayToFront"
        on-touchstart="_bringOverlayToFront"
        theme$="[[_theme]]"
        modeless="[[modeless]]"
        with-backdrop="[[!modeless]]"
        resizable$="[[resizable]]"
        focus-trap
      ></vaadin-dialog-overlay>
    `}static get is(){return"vaadin-dialog"}static get properties(){return{opened:{type:Boolean,value:!1,notify:!0},noCloseOnOutsideClick:{type:Boolean,value:!1},noCloseOnEsc:{type:Boolean,value:!1},ariaLabel:{type:String,value:""},renderer:Function,headerTitle:String,headerRenderer:Function,footerRenderer:Function,modeless:{type:Boolean,value:!1}}}static get observers(){return["_openedChanged(opened)","_ariaLabelChanged(ariaLabel, headerTitle)","_rendererChanged(renderer, headerRenderer, footerRenderer)"]}ready(){super.ready(),this.$.overlay.setAttribute("role","dialog"),this.$.overlay.addEventListener("vaadin-overlay-outside-click",this._handleOutsideClick.bind(this)),this.$.overlay.addEventListener("vaadin-overlay-escape-press",this._handleEscPress.bind(this)),Ii(this)}requestContentUpdate(){this.$&&this.$.overlay.requestContentUpdate()}_rendererChanged(t,e,i){this.$.overlay.setProperties({owner:this,renderer:t,headerRenderer:e,footerRenderer:i})}connectedCallback(){super.connectedCallback(),this.__restoreOpened&&(this.opened=!0)}disconnectedCallback(){super.disconnectedCallback(),this.__restoreOpened=this.opened,this.opened=!1}_openedChanged(t){this.$.overlay.opened=t}_ariaLabelChanged(t,e){t||e?this.$.overlay.setAttribute("aria-label",t||e):this.$.overlay.removeAttribute("aria-label")}_onOverlayOpened(t){t.detail.value===!1&&(this.opened=!1)}_handleOutsideClick(t){this.noCloseOnOutsideClick&&t.preventDefault()}_handleEscPress(t){this.noCloseOnEsc&&t.preventDefault()}_bringOverlayToFront(){this.modeless&&this.$.overlay.bringToFront()}}customElements.define(fh.is,fh);R("vaadin-confirm-dialog-overlay",k`
    [part='header'] ::slotted(h3) {
      margin-top: 0 !important;
      margin-bottom: 0 !important;
      margin-inline-start: calc(var(--lumo-space-l) - var(--lumo-space-m));
    }

    [part='message'] {
      width: 25em;
      min-width: 100%;
      max-width: 100%;
    }

    ::slotted([slot$='button'][theme~='tertiary']) {
      padding-left: var(--lumo-space-s);
      padding-right: var(--lumo-space-s);
    }

    [part='cancel-button'] {
      flex-grow: 1;
    }

    @media (max-width: 360px) {
      [part='footer'] {
        flex-direction: column-reverse;
        align-items: stretch;
        padding: var(--lumo-space-s) var(--lumo-space-l);
        gap: var(--lumo-space-s);
      }

      ::slotted([slot$='button']) {
        width: 100%;
        margin: 0;
      }
    }
  `,{moduleId:"lumo-confirm-dialog-overlay"});/**
 * @license
 * Copyright (c) 2018 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */R("vaadin-confirm-dialog-overlay",k`
    :host {
      --_vaadin-confirm-dialog-content-width: auto;
      --_vaadin-confirm-dialog-content-height: auto;
    }

    [part='overlay'] {
      width: var(--_vaadin-confirm-dialog-content-width);
      height: var(--_vaadin-confirm-dialog-content-height);
    }

    /* Make buttons clickable */
    [part='footer'] > * {
      pointer-events: all;
    }
  `,{moduleId:"vaadin-confirm-dialog-overlay-styles"});let lr;const rx=H`
  <div part="cancel-button">
    <slot name="cancel-button"></slot>
  </div>
  <div part="reject-button">
    <slot name="reject-button"></slot>
  </div>
  <div part="confirm-button">
    <slot name="confirm-button"></slot>
  </div>
`;class qd extends dh{static get is(){return"vaadin-confirm-dialog-overlay"}static get template(){if(!lr){lr=super.template.cloneNode(!0);const t=lr.content.querySelector('[part="header"]');t.innerHTML="";const e=document.createElement("slot");e.setAttribute("name","header"),t.appendChild(e);const i=lr.content.querySelector('[part="content"]'),n=i.querySelector("slot:not([name])"),s=document.createElement("div");s.setAttribute("part","message"),i.appendChild(s),s.appendChild(n);const o=lr.content.querySelector('[part="footer"]');o.setAttribute("role","toolbar");const a=o.querySelector("slot");o.removeChild(a),o.appendChild(rx.content.cloneNode(!0))}return lr}_finishClosing(){super._finishClosing(),this.dispatchEvent(new CustomEvent("vaadin-confirm-dialog-close"))}_headerFooterRendererChange(t,e,i){super._headerFooterRendererChange(t,e,i),this.setAttribute("has-header",""),this.setAttribute("has-footer","")}}customElements.define(qd.is,qd);class Xd extends fh{static get is(){return"vaadin-confirm-dialog-dialog"}static get template(){return H`
      <style>
        :host {
          display: none;
        }
      </style>

      <vaadin-confirm-dialog-overlay
        id="overlay"
        on-opened-changed="_onOverlayOpened"
        on-mousedown="_bringOverlayToFront"
        on-touchstart="_bringOverlayToFront"
        theme$="[[_theme]]"
        modeless="[[modeless]]"
        with-backdrop="[[!modeless]]"
        resizable$="[[resizable]]"
        focus-trap
      ></vaadin-confirm-dialog-overlay>
    `}}customElements.define(Xd.is,Xd);/**
 * @license
 * Copyright (c) 2021 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const Yv=Zi(r=>class extends r{get slots(){return{}}ready(){super.ready(),this._connectSlotMixin()}_connectSlotMixin(){Object.keys(this.slots).forEach(e=>{if(!(this._getDirectSlotChild(e)!==void 0)){const n=this.slots[e],s=n();s instanceof Element&&(e!==""&&s.setAttribute("slot",e),this.appendChild(s))}})}_getDirectSlotChild(e){return Array.from(this.childNodes).find(i=>i.nodeType===Node.ELEMENT_NODE&&i.slot===e||i.nodeType===Node.TEXT_NODE&&i.textContent.trim()&&e==="")}});/**
 * @license
 * Copyright (c) 2018 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class Kd extends Yv(re(Yu(W))){static get template(){return H`
      <style>
        :host,
        [hidden] {
          display: none !important;
        }
      </style>

      <vaadin-confirm-dialog-dialog
        id="dialog"
        opened="{{opened}}"
        aria-label="[[_getAriaLabel(header)]]"
        theme$="[[_theme]]"
        no-close-on-outside-click
        no-close-on-esc="[[noCloseOnEsc]]"
      ></vaadin-confirm-dialog-dialog>

      <div hidden>
        <slot name="header"></slot>
        <slot></slot>
        <slot name="cancel-button"></slot>
        <slot name="reject-button"></slot>
        <slot name="confirm-button"></slot>
      </div>
    `}static get is(){return"vaadin-confirm-dialog"}static get properties(){return{opened:{type:Boolean,value:!1,notify:!0},header:{type:String,value:""},message:{type:String,value:""},confirmText:{type:String,value:"Confirm"},confirmTheme:{type:String,value:"primary"},noCloseOnEsc:{type:Boolean,value:!1},reject:{type:Boolean,reflectToAttribute:!0,value:!1},rejectText:{type:String,value:"Reject"},rejectTheme:{type:String,value:"error tertiary"},cancel:{type:Boolean,reflectToAttribute:!0,value:!1},cancelText:{type:String,value:"Cancel"},cancelTheme:{type:String,value:"tertiary"},_cancelButton:{type:HTMLElement,observer:"_cancelButtonChanged"},_confirmButton:{type:HTMLElement,observer:"_confirmButtonChanged"},_headerNode:{type:HTMLElement},_messageNode:{type:HTMLElement},_rejectButton:{type:HTMLElement,observer:"_rejectButtonChanged"}}}static get observers(){return["__updateConfirmButton(_confirmButton, confirmText, confirmTheme)","__updateCancelButton(_cancelButton, cancelText, cancelTheme, cancel)","__updateHeaderNode(_headerNode, header)","__updateMessageNode(_messageNode, message)","__updateRejectButton(_rejectButton, rejectText, rejectTheme, reject)"]}get slots(){return{...super.slots,header:()=>{const t=document.createElement("h3");return this.__defaultHeader=t,t},"":()=>{const t=document.createElement("div");return this.__defaultMessage=t,t},"cancel-button":()=>{const t=document.createElement("vaadin-button");return t.setAttribute("theme",this.cancelTheme),t.textContent=this.cancelText,t._isDefaultButton=!0,t},"reject-button":()=>{const t=document.createElement("vaadin-button");return t.setAttribute("theme",this.rejectTheme),t.textContent=this.rejectText,t._isDefaultButton=!0,t},"confirm-button":()=>{const t=document.createElement("vaadin-button");return t._isDefaultButton=!0,t}}}constructor(){super(),this.__slottedNodes=[],this._observer=new Ce(this,t=>{this.__onDomChange(t.addedNodes)})}ready(){super.ready(),this.__boundCancel=this._cancel.bind(this),this.__boundConfirm=this._confirm.bind(this),this.__boundReject=this._reject.bind(this),this._overlayElement=this.$.dialog.$.overlay,this._overlayElement.addEventListener("vaadin-overlay-escape-press",this._escPressed.bind(this)),this._overlayElement.addEventListener("vaadin-overlay-open",()=>this.__onDialogOpened()),this._overlayElement.addEventListener("vaadin-confirm-dialog-close",()=>this.__onDialogClosed()),this._dimensions&&Object.keys(this._dimensions).forEach(t=>{this._setDimension(t,this._dimensions[t])})}__onDialogOpened(){const t=this._overlayElement;this.__slottedNodes.forEach(i=>{t.appendChild(i)});const e=t.querySelector('[slot="confirm-button"]');e&&e.focus()}__onDialogClosed(){const t=this.__slottedNodes;this.__slottedNodes=[],t.forEach(e=>{this.appendChild(e)})}__onDomChange(t){t.forEach(e=>{this.__slottedNodes.push(e);const i=e.nodeType===Node.ELEMENT_NODE,n=i?e.getAttribute("slot"):"";if(n)if(n.indexOf("button")>=0){const[s]=n.split("-");this[`_${s}Button`]=e}else n==="header"&&(this._headerNode=e);else(e.nodeType===Node.TEXT_NODE&&e.textContent.trim()!==""||i&&e.slot==="")&&(this._messageNode=e)})}_cancelButtonChanged(t,e){this.__setupSlottedButton(t,e,this.__boundCancel)}_confirmButtonChanged(t,e){this.__setupSlottedButton(t,e,this.__boundConfirm)}_rejectButtonChanged(t,e){this.__setupSlottedButton(t,e,this.__boundReject)}__setupSlottedButton(t,e,i){e&&e.parentElement&&e.remove(),t.addEventListener("click",i)}__updateCancelButton(t,e,i,n){t&&(t._isDefaultButton&&(t.textContent=e,t.setAttribute("theme",i)),t.toggleAttribute("hidden",!n))}__updateConfirmButton(t,e,i){t&&t._isDefaultButton&&(t.textContent=e,t.setAttribute("theme",i))}__updateHeaderNode(t,e){t&&t===this.__defaultHeader&&(t.textContent=e)}__updateMessageNode(t,e){t&&t===this.__defaultMessage&&(t.textContent=e)}__updateRejectButton(t,e,i,n){t&&(t._isDefaultButton&&(t.textContent=e,t.setAttribute("theme",i)),t.toggleAttribute("hidden",!n))}_escPressed(t){t.defaultPrevented||this._cancel()}_confirm(){this.dispatchEvent(new CustomEvent("confirm")),this.opened=!1}_cancel(){this.dispatchEvent(new CustomEvent("cancel")),this.opened=!1}_reject(){this.dispatchEvent(new CustomEvent("reject")),this.opened=!1}_getAriaLabel(t){return t||"confirmation"}_setWidth(t){this._setDimensionIfAttached("width",t)}_setHeight(t){this._setDimensionIfAttached("height",t)}_setDimensionIfAttached(t,e){this._overlayElement?this._setDimension(t,e):(this._dimensions=this._dimensions||{},this._dimensions[t]=e)}_setDimension(t,e){this._overlayElement.style.setProperty(`--_vaadin-confirm-dialog-content-${t}`,e)}}customElements.define(Kd.is,Kd);const nx=k`
  :host([phone]) {
    top: 0 !important;
    right: 0 !important;
    bottom: var(--vaadin-overlay-viewport-bottom) !important;
    left: 0 !important;
    align-items: stretch;
    justify-content: flex-end;
  }

  /* TODO These style overrides should not be needed.
   We should instead offer a way to have non-selectable items inside the context menu. */

  :host {
    --_lumo-list-box-item-selected-icon-display: none;
    --_lumo-list-box-item-padding-left: calc(var(--lumo-space-m) + var(--lumo-border-radius-m) / 4);
  }

  [part='overlay'] {
    outline: none;
  }
`;R("vaadin-context-menu-overlay",[ol,nx],{moduleId:"lumo-context-menu-overlay"});R("vaadin-context-menu-list-box",k`
    :host(.vaadin-menu-list-box) {
      --_lumo-list-box-item-selected-icon-display: block;
    }

    /* Normal item */
    [part='items'] ::slotted(.vaadin-menu-item) {
      -webkit-tap-highlight-color: var(--lumo-primary-color-10pct);
      cursor: default;
    }

    [part='items'] ::slotted(.vaadin-menu-item) {
      outline: none;
      border-radius: var(--lumo-border-radius-m);
      padding-left: var(--_lumo-list-box-item-padding-left, calc(var(--lumo-border-radius-m) / 4));
      padding-right: calc(var(--lumo-space-l) + var(--lumo-border-radius-m) / 4);
    }

    :host(.vaadin-menu-list-box) [part='items'] ::slotted(.vaadin-menu-item) {
      padding-left: calc(var(--lumo-border-radius-m) / 4);
      padding-right: calc(var(--lumo-space-l) + var(--lumo-border-radius-m) / 4);
    }

    /* Hovered item */
    /* TODO a workaround until we have "focus-follows-mouse". After that, use the hover style for focus-ring as well */
    [part='items'] ::slotted(.vaadin-menu-item:hover:not([disabled])),
    [part='items'] ::slotted(.vaadin-menu-item[expanded]:not([disabled])) {
      background-color: var(--lumo-primary-color-10pct);
    }

    /* RTL styles */
    :host([dir='rtl'])[part='items'] ::slotted(.vaadin-menu-item) {
      padding-left: calc(var(--lumo-space-l) + var(--lumo-border-radius-m) / 4);
      padding-right: var(--_lumo-list-box-item-padding-left, calc(var(--lumo-border-radius-m) / 4));
    }

    :host([dir='rtl'].vaadin-menu-list-box) [part='items'] ::slotted(.vaadin-menu-item) {
      padding-left: calc(var(--lumo-space-l) + var(--lumo-border-radius-m) / 4);
      padding-right: calc(var(--lumo-border-radius-m) / 4);
    }

    /* Focused item */
    @media (pointer: coarse) {
      [part='items'] ::slotted(.vaadin-menu-item:hover:not([expanded]):not([disabled])) {
        background-color: transparent;
      }
    }
  `,{moduleId:"lumo-context-menu-list-box"});R("vaadin-context-menu-item",k`
    /* :hover needed to workaround https://github.com/vaadin/web-components/issues/3133 */
    :host(:hover) {
      user-select: none;
      -ms-user-select: none;
      -webkit-user-select: none;
    }

    :host(.vaadin-menu-item[menu-item-checked]) [part='checkmark']::before {
      opacity: 1;
    }

    :host(.vaadin-menu-item.vaadin-context-menu-parent-item)::after {
      font-family: lumo-icons;
      font-size: var(--lumo-icon-size-xs);
      content: var(--lumo-icons-angle-right);
      color: var(--lumo-tertiary-text-color);
    }

    :host(:not([dir='rtl']).vaadin-menu-item.vaadin-context-menu-parent-item)::after {
      margin-right: calc(var(--lumo-space-m) * -1);
      padding-left: var(--lumo-space-m);
    }

    :host([expanded]) {
      background-color: var(--lumo-primary-color-10pct);
    }

    /* RTL styles */
    :host([dir='rtl'].vaadin-menu-item.vaadin-context-menu-parent-item)::after {
      content: var(--lumo-icons-angle-left);
      margin-left: calc(var(--lumo-space-m) * -1);
      padding-right: var(--lumo-space-m);
    }
  `,{moduleId:"lumo-context-menu-item"});/**
 * @license
 * Copyright (c) 2016 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */Fb({name:"vaadin-contextmenu",deps:["touchstart","touchmove","touchend","contextmenu"],flow:{start:["touchstart","contextmenu"],end:["contextmenu"]},emits:["vaadin-contextmenu"],info:{sourceEvent:null},reset(){this.info.sourceEvent=null,this._cancelTimer(),this.info.touchJob=null,this.info.touchStartCoords=null},_cancelTimer(){this._timerId&&(clearTimeout(this._timerId),delete this._fired)},_setSourceEvent(r){this.info.sourceEvent=r;const t=r.composedPath();this.info.sourceEvent.__composedPath=t},touchstart(r){this._setSourceEvent(r),this.info.touchStartCoords={x:r.changedTouches[0].clientX,y:r.changedTouches[0].clientY};const t=r.composedPath()[0]||r.target;this._timerId=setTimeout(()=>{const e=r.changedTouches[0];r.shiftKey||(Ln&&(this._fired=!0,this.fire(t,e.clientX,e.clientY)),nd("tap"))},500)},touchmove(r){const e=this.info.touchStartCoords;(Math.abs(e.x-r.changedTouches[0].clientX)>15||Math.abs(e.y-r.changedTouches[0].clientY)>15)&&this._cancelTimer()},touchend(r){this._fired&&r.preventDefault(),this._cancelTimer()},contextmenu(r){r.shiftKey||(this._setSourceEvent(r),this.fire(r.target,r.clientX,r.clientY),nd("tap"))},fire(r,t,e){const i=this.info.sourceEvent,n=new Event("vaadin-contextmenu",{bubbles:!0,cancelable:!0,composed:!0});n.detail={x:t,y:e,sourceEvent:i},r.dispatchEvent(n),n.defaultPrevented&&i&&i.preventDefault&&i.preventDefault()}});/**
 * @license
 * Copyright (c) 2016 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */R("vaadin-context-menu-overlay",k`
    :host {
      align-items: flex-start;
      justify-content: flex-start;
    }

    :host([right-aligned]),
    :host([end-aligned]) {
      align-items: flex-end;
    }

    :host([bottom-aligned]) {
      justify-content: flex-end;
    }

    [part='overlay'] {
      background-color: #fff;
    }
  `,{moduleId:"vaadin-context-menu-overlay-styles"});class Zd extends Ur(Ti){static get is(){return"vaadin-context-menu-overlay"}static get properties(){return{parentOverlay:{type:Object,readOnly:!0}}}static get observers(){return["_themeChanged(_theme)"]}ready(){super.ready(),this.addEventListener("keydown",t=>{if(!t.defaultPrevented&&t.composedPath()[0]===this.$.overlay&&[38,40].indexOf(t.keyCode)>-1){const e=this.getFirstChild();e&&Array.isArray(e.items)&&e.items.length&&(t.preventDefault(),t.keyCode===38?e.items[e.items.length-1].focus():e.focus())}})}getFirstChild(){return this.content.querySelector(":not(style):not(slot)")}_themeChanged(){this.close()}getBoundaries(){const t=this.getBoundingClientRect(),e=this.$.overlay.getBoundingClientRect();let i=t.bottom-e.height;const n=this.parentOverlay;if(n&&n.hasAttribute("bottom-aligned")){const s=getComputedStyle(n);i=i-parseFloat(s.bottom)-parseFloat(s.height)}return{xMax:t.right-e.width,xMin:t.left+e.width,yMax:i}}_updatePosition(){if(super._updatePosition(),this.positionTarget&&this.parentOverlay){const t=this.$.content,e=getComputedStyle(t);!!this.style.left?this.style.left=`${parseFloat(this.style.left)+parseFloat(e.paddingLeft)}px`:this.style.right=`${parseFloat(this.style.right)+parseFloat(e.paddingRight)}px`,!!this.style.bottom?this.style.bottom=`${parseFloat(this.style.bottom)-parseFloat(e.paddingBottom)}px`:this.style.top=`${parseFloat(this.style.top)-parseFloat(e.paddingTop)}px`}}}customElements.define(Zd.is,Zd);/**
 * @license
 * Copyright (c) 2021 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class al{constructor(t,e){this.query=t,this.callback=e,this._boundQueryHandler=this._queryHandler.bind(this)}hostConnected(){this._removeListener(),this._mediaQuery=window.matchMedia(this.query),this._addListener(),this._queryHandler(this._mediaQuery)}hostDisconnected(){this._removeListener()}_addListener(){this._mediaQuery&&this._mediaQuery.addListener(this._boundQueryHandler)}_removeListener(){this._mediaQuery&&this._mediaQuery.removeListener(this._boundQueryHandler),this._mediaQuery=null}_queryHandler(t){typeof this.callback=="function"&&this.callback(t.matches)}}/**
 * @license
 * Copyright (c) 2016 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class Qd extends $n{static get is(){return"vaadin-context-menu-item"}}customElements.define(Qd.is,Qd);class Jd extends Nn{static get is(){return"vaadin-context-menu-list-box"}}customElements.define(Jd.is,Jd);const sx=r=>class extends r{static get properties(){return{items:Array}}ready(){super.ready(),this.__itemsOutsideClickListener=e=>{e.composedPath().some(i=>i.localName==="vaadin-context-menu-overlay")||this.dispatchEvent(new CustomEvent("items-outside-click"))},this.addEventListener("items-outside-click",()=>this.items&&this.close())}connectedCallback(){super.connectedCallback(),document.documentElement.addEventListener("click",this.__itemsOutsideClickListener)}disconnectedCallback(){super.disconnectedCallback(),document.documentElement.removeEventListener("click",this.__itemsOutsideClickListener)}get __isRTL(){return this.getAttribute("dir")==="rtl"}__forwardFocus(){const e=this.$.overlay,i=e.getFirstChild();if(e.parentOverlay){const n=e.parentOverlay.querySelector("[expanded]");n&&n.hasAttribute("focused")&&i?i.focus():e.$.overlay.focus()}else i&&i.focus()}__openSubMenu(e,i){e.items=i._item.children,e.listenOn=i;const n=this.$.overlay,s=e.$.overlay;s.positionTarget=i,s.noHorizontalOverlap=!0,s._setParentOverlay(n),n.hasAttribute("theme")?e.setAttribute("theme",n.getAttribute("theme")):e.removeAttribute("theme");const o=e.$.overlay.$.content;o.style.minWidth="",i.dispatchEvent(new CustomEvent("opensubmenu",{detail:{children:i._item.children}}))}__itemsRenderer(e,i,n){this.__initMenu(e,i);const s=e.querySelector(this.constructor.is);s.closeOn=i.closeOn;const o=e.querySelector("vaadin-context-menu-list-box");o.innerHTML="",Array.from(n.detail.children||i.items).forEach(l=>{let h;l.component instanceof HTMLElement?h=l.component:h=document.createElement(l.component||"vaadin-context-menu-item"),h instanceof $n?(h.setAttribute("role","menuitem"),h.classList.add("vaadin-menu-item")):h.localName==="hr"&&h.setAttribute("role","separator"),this._setMenuItemTheme(h,l,this._theme),h._item=l,l.text&&(h.textContent=l.text),this.__toggleMenuComponentAttribute(h,"menu-item-checked",l.checked),this.__toggleMenuComponentAttribute(h,"disabled",l.disabled),h.setAttribute("aria-haspopup","false"),h.classList.remove("vaadin-context-menu-parent-item"),l.children&&l.children.length&&(h.classList.add("vaadin-context-menu-parent-item"),h.setAttribute("aria-haspopup","true"),h.setAttribute("aria-expanded","false"),h.removeAttribute("expanded")),o.appendChild(h)})}_setMenuItemTheme(e,i,n){let s=e.getAttribute("theme")||n;i.theme!=null&&(s=Array.isArray(i.theme)?i.theme.join(" "):i.theme),s?e.setAttribute("theme",s):e.removeAttribute("theme")}__toggleMenuComponentAttribute(e,i,n){n?(e.setAttribute(i,""),e[`__has-${i}`]=!0):e[`__has-${i}`]&&(e.removeAttribute(i),e[`__has-${i}`]=!1)}__initMenu(e,i){if(e.firstElementChild){const n=e.querySelector("vaadin-context-menu-list-box");this._theme?n.setAttribute("theme",this._theme):n.removeAttribute("theme")}else{const n=document.createElement("vaadin-context-menu-list-box");e.appendChild(n),this._theme&&n.setAttribute("theme",this._theme),n.classList.add("vaadin-menu-list-box"),requestAnimationFrame(()=>n.setAttribute("role","menu"));const s=document.createElement(this.constructor.is);s.setAttribute("hidden",""),e.appendChild(s),s.$.overlay.modeless=!0,s.openOn="opensubmenu",i.addEventListener("opened-changed",a=>!a.detail.value&&s.close()),s.addEventListener("opened-changed",a=>{if(!a.detail.value){const l=n.querySelector("[expanded]");l&&(l.setAttribute("aria-expanded","false"),l.removeAttribute("expanded"))}}),n.addEventListener("selected-changed",a=>{if(typeof a.detail.value=="number"){const l=a.target.items[a.detail.value]._item;if(!l.children){const h={value:l};i.dispatchEvent(new CustomEvent("item-selected",{detail:h}))}n.selected=null}}),s.addEventListener("item-selected",a=>{i.dispatchEvent(new CustomEvent("item-selected",{detail:a.detail}))}),s.addEventListener("close-all-menus",()=>{i.dispatchEvent(new CustomEvent("close-all-menus"))}),i.addEventListener("close-all-menus",i.close),i.addEventListener("item-selected",i.close),i.$.overlay.$.backdrop.addEventListener("click",()=>i.close()),i.$.overlay.addEventListener("keydown",a=>{const l=this.__isRTL;!l&&a.keyCode===37||l&&a.keyCode===39?(i.close(),i.listenOn.focus()):(a.key==="Escape"||a.key==="Tab")&&i.dispatchEvent(new CustomEvent("close-all-menus"))}),requestAnimationFrame(()=>{this.__openListenerActive=!0});const o=(a,l=a.composedPath().find(h=>h.localName==="vaadin-context-menu-item"))=>{if(!!this.__openListenerActive){if(i.$.overlay.hasAttribute("opening")){requestAnimationFrame(()=>o(a,l));return}if(l){if(s.items!==l._item.children&&s.close(),!i.opened)return;l._item.children&&l._item.children.length?(l.setAttribute("aria-expanded","true"),l.setAttribute("expanded",""),this.__openSubMenu(s,l)):s.listenOn.focus()}}};i.$.overlay.addEventListener(wi?"click":"mouseover",o),i.$.overlay.addEventListener("keydown",a=>{const l=this.__isRTL;(!l&&a.keyCode===39||l&&a.keyCode===37||a.keyCode===13||a.keyCode===32)&&o(a)})}}};/**
 * @license
 * Copyright (c) 2016 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class ph extends He(re(Yu(sx(W)))){static get template(){return H`
      <style>
        :host {
          display: block;
        }

        :host([hidden]) {
          display: none !important;
        }
      </style>

      <slot id="slot"></slot>

      <vaadin-context-menu-overlay
        id="overlay"
        on-opened-changed="_onOverlayOpened"
        on-vaadin-overlay-open="_onVaadinOverlayOpen"
        with-backdrop="[[_phone]]"
        phone$="[[_phone]]"
        model="[[_context]]"
        theme$="[[_theme]]"
      >
      </vaadin-context-menu-overlay>
    `}static get is(){return"vaadin-context-menu"}static get properties(){return{selector:{type:String},opened:{type:Boolean,value:!1,notify:!0,readOnly:!0},openOn:{type:String,value:"vaadin-contextmenu"},listenOn:{type:Object,value(){return this}},closeOn:{type:String,value:"click",observer:"_closeOnChanged"},renderer:{type:Function},_context:Object,_boundClose:Object,_boundOpen:Object,_phone:{type:Boolean},_touch:{type:Boolean,value:wi},_wide:{type:Boolean},_wideMediaQuery:{type:String,value:"(min-device-width: 750px)"}}}static get observers(){return["_openedChanged(opened)","_targetOrOpenOnChanged(listenOn, openOn)","_rendererChanged(renderer, items)","_touchOrWideChanged(_touch, _wide)"]}constructor(){super(),this._boundOpen=this.open.bind(this),this._boundClose=this.close.bind(this),this._boundOnGlobalContextMenu=this._onGlobalContextMenu.bind(this)}connectedCallback(){super.connectedCallback(),this.__boundOnScroll=this.__onScroll.bind(this),window.addEventListener("scroll",this.__boundOnScroll,!0)}disconnectedCallback(){super.disconnectedCallback(),window.removeEventListener("scroll",this.__boundOnScroll,!0),this.close()}ready(){super.ready(),this._overlayElement=this.$.overlay,this.addController(new al(this._wideMediaQuery,t=>{this._wide=t})),Ii(this)}_onOverlayOpened(t){this._setOpened(t.detail.value),this.__alignOverlayPosition()}_onVaadinOverlayOpen(){this.__alignOverlayPosition(),this.$.overlay.style.opacity="",this.__forwardFocus()}_targetOrOpenOnChanged(t,e){this._oldListenOn&&this._oldOpenOn&&(this._unlisten(this._oldListenOn,this._oldOpenOn,this._boundOpen),this._oldListenOn.style.webkitTouchCallout="",this._oldListenOn.style.webkitUserSelect="",this._oldListenOn.style.userSelect="",this._oldListenOn=null,this._oldOpenOn=null),t&&e&&(this._listen(t,e,this._boundOpen),this._oldListenOn=t,this._oldOpenOn=e)}_touchOrWideChanged(t,e){this._phone=!e&&t}_setListenOnUserSelect(t){this.listenOn.style.webkitTouchCallout=t,this.listenOn.style.webkitUserSelect=t,this.listenOn.style.userSelect=t,document.getSelection().removeAllRanges()}_closeOnChanged(t,e){const i="vaadin-overlay-outside-click";e&&(this._unlisten(this.$.overlay,e,this._boundClose),this._unlisten(this.$.overlay.root,e,this._boundClose)),t?(this._listen(this.$.overlay,t,this._boundClose),this._listen(this.$.overlay.root,t,this._boundClose),this._unlisten(this.$.overlay,i,this._preventDefault)):this._listen(this.$.overlay,i,this._preventDefault)}_preventDefault(t){t.preventDefault()}_openedChanged(t){t?(document.documentElement.addEventListener("contextmenu",this._boundOnGlobalContextMenu,!0),this._setListenOnUserSelect("none")):(document.documentElement.removeEventListener("contextmenu",this._boundOnGlobalContextMenu,!0),this._setListenOnUserSelect("")),this.$.overlay.opened=t}requestContentUpdate(){!this._overlayElement||!this.renderer||this._overlayElement.requestContentUpdate()}_rendererChanged(t,e){if(e){if(t)throw new Error("The items API cannot be used together with a renderer");this.closeOn==="click"&&(this.closeOn=""),t=this.__itemsRenderer}this.$.overlay.setProperties({owner:this,renderer:t})}close(){this._setOpened(!1)}_contextTarget(t){if(this.selector){const e=this.listenOn.querySelectorAll(this.selector);return Array.prototype.filter.call(e,i=>t.composedPath().indexOf(i)>-1)[0]}return t.target}open(t){t&&!this.opened&&(this._context={detail:t.detail,target:this._contextTarget(t)},this._context.target&&(this._preventDefault(t),t.stopPropagation(),this.__x=this._getEventCoordinate(t,"x"),this.__pageXOffset=window.pageXOffset,this.__y=this._getEventCoordinate(t,"y"),this.__pageYOffset=window.pageYOffset,this.$.overlay.style.opacity="0",this._setOpened(!0)))}__onScroll(){if(!this.opened)return;const t=window.pageYOffset-this.__pageYOffset,e=window.pageXOffset-this.__pageXOffset;this.__adjustPosition("left",-e),this.__adjustPosition("right",e),this.__adjustPosition("top",-t),this.__adjustPosition("bottom",t),this.__pageYOffset+=t,this.__pageXOffset+=e}__adjustPosition(t,e){const n=this.$.overlay.style;n[t]=`${(parseInt(n[t])||0)+e}px`}__alignOverlayPosition(){const t=this.$.overlay;if(t.positionTarget)return;const e=t.style;["top","right","bottom","left"].forEach(u=>e.removeProperty(u)),["right-aligned","end-aligned","bottom-aligned"].forEach(u=>t.removeAttribute(u));const{xMax:i,xMin:n,yMax:s}=t.getBoundaries(),o=this.__x,a=this.__y,l=document.documentElement.clientWidth,h=document.documentElement.clientHeight;this.__isRTL?o>l/2||o>n?e.right=`${Math.max(0,l-o)}px`:(e.left=`${o}px`,this._setEndAligned(t)):o<l/2||o<i?e.left=`${o}px`:(e.right=`${Math.max(0,l-o)}px`,this._setEndAligned(t)),a<h/2||a<s?e.top=`${a}px`:(e.bottom=`${Math.max(0,h-a)}px`,t.setAttribute("bottom-aligned",""))}_setEndAligned(t){t.setAttribute("end-aligned",""),this.__isRTL||t.setAttribute("right-aligned","")}_getEventCoordinate(t,e){if(t.detail instanceof Object){if(t.detail[e])return t.detail[e];if(t.detail.sourceEvent)return this._getEventCoordinate(t.detail.sourceEvent,e)}else{const i=`client${e.toUpperCase()}`,n=t.changedTouches?t.changedTouches[0][i]:t[i];if(n===0){const s=t.target.getBoundingClientRect();return e==="x"?s.left:s.top+s.height}return n}}_listen(t,e,i){Lo[e]?Ye(t,e,i):t.addEventListener(e,i)}_unlisten(t,e,i){Lo[e]?qm(t,e,i):t.removeEventListener(e,i)}_onGlobalContextMenu(t){t.shiftKey||(t.preventDefault(),this.close())}}customElements.define(ph.is,ph);/**
 * @license
 * Copyright (c) 2019 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const jv=k`
  :host {
    --lumo-text-field-size: var(--lumo-size-m);
    color: var(--lumo-body-text-color);
    font-size: var(--lumo-font-size-m);
    /* align with text-field height + vertical paddings */
    line-height: calc(var(--lumo-text-field-size) + 2 * var(--lumo-space-xs));
    font-family: var(--lumo-font-family);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
    padding: 0;
  }

  :host::before {
    margin-top: var(--lumo-space-xs);
    height: var(--lumo-text-field-size);
    box-sizing: border-box;
    display: inline-flex;
    align-items: center;
  }

  /* align with text-field label */
  :host([has-label]) [part='label'] {
    padding-bottom: calc(0.5em - var(--lumo-space-xs));
  }

  :host(:not([has-label])) [part='label'],
  :host(:not([has-label]))::before {
    display: none;
  }

  /* align with text-field error message */
  :host([has-error-message]) [part='error-message']::before {
    height: calc(0.4em - var(--lumo-space-xs));
  }

  :host([focused]:not([readonly]):not([disabled])) [part='label'] {
    color: var(--lumo-primary-text-color);
  }

  :host(:hover:not([readonly]):not([disabled]):not([focused])) [part='label'],
  :host(:hover:not([readonly]):not([disabled]):not([focused])) [part='helper-text'] {
    color: var(--lumo-body-text-color);
  }

  /* Touch device adjustment */
  @media (pointer: coarse) {
    :host(:hover:not([readonly]):not([disabled]):not([focused])) [part='label'] {
      color: var(--lumo-secondary-text-color);
    }
  }

  /* Disabled */
  :host([disabled]) [part='label'] {
    color: var(--lumo-disabled-text-color);
    -webkit-text-fill-color: var(--lumo-disabled-text-color);
  }

  /* Small theme */
  :host([theme~='small']) {
    font-size: var(--lumo-font-size-s);
    --lumo-text-field-size: var(--lumo-size-s);
  }

  :host([theme~='small'][has-label]) [part='label'] {
    font-size: var(--lumo-font-size-xs);
  }

  :host([theme~='small'][has-label]) [part='error-message'] {
    font-size: var(--lumo-font-size-xxs);
  }

  /* When custom-field is used with components without outer margin */
  :host([theme~='whitespace'][has-label]) [part='label'] {
    padding-bottom: 0.5em;
  }
`;R("vaadin-custom-field",[Qa,Ja,jv],{moduleId:"lumo-custom-field"});/**
 * @license
 * Copyright (c) 2019 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class ef extends ts(Et(Gr(j(re(W))))){static get is(){return"vaadin-custom-field"}static get template(){return H`
      <style>
        :host {
          display: inline-flex;
        }

        :host::before {
          content: '\\2003';
          width: 0;
          display: inline-block;
          /* Size and position this element on the same vertical position as the input-field element
           to make vertical align for the host element work as expected */
        }

        :host([hidden]) {
          display: none !important;
        }

        .vaadin-custom-field-container {
          width: 100%;
          display: flex;
          flex-direction: column;
        }

        .inputs-wrapper {
          flex: none;
        }
      </style>

      <div class="vaadin-custom-field-container">
        <div part="label" on-click="focus">
          <slot name="label"></slot>
          <span part="required-indicator" aria-hidden="true"></span>
        </div>

        <div class="inputs-wrapper" on-change="__onInputChange">
          <slot id="slot"></slot>
        </div>

        <div part="helper-text">
          <slot name="helper"></slot>
        </div>

        <div part="error-message">
          <slot name="error-message"></slot>
        </div>
      </div>

      <slot name="tooltip"></slot>
    `}static get properties(){return{name:String,value:{type:String,observer:"__valueChanged",notify:!0},inputs:{type:Array,readOnly:!0},formatValue:{type:Function},parseValue:{type:Function},i18n:{type:Object,value:()=>({parseValue(t){return t.split("	")},formatValue(t){return t.join("	")}})}}}connectedCallback(){super.connectedCallback(),this.__observer&&this.__observer.connect()}disconnectedCallback(){super.disconnectedCallback(),this.__observer&&this.__observer.disconnect()}ready(){super.ready(),this.setAttribute("role","group"),this.ariaTarget=this,this.__setInputsFromSlot(),this.__observer=new Ce(this.$.slot,()=>{this.__setInputsFromSlot()}),this._tooltipController=new ke(this),this.addController(this._tooltipController),this._tooltipController.setShouldShow(t=>!(t.inputs||[]).some(i=>i.opened))}focus(){this.inputs&&this.inputs[0]&&this.inputs[0].focus()}_setFocused(t){super._setFocused(t),t||this.validate()}_shouldRemoveFocus(t){const{relatedTarget:e}=t;return!this.inputs.some(i=>e===(i.focusElement||i))}checkValidity(){return!(this.inputs.filter(e=>!(e.validate||e.checkValidity).call(e)).length||this.required&&!this.value.trim())}_onKeyDown(t){t.key==="Tab"&&(this.inputs.indexOf(t.target)<this.inputs.length-1&&!t.shiftKey||this.inputs.indexOf(t.target)>0&&t.shiftKey?this.dispatchEvent(new CustomEvent("internal-tab")):this.__setValue())}__onInputChange(t){t.stopPropagation(),this.__setValue(),this.validate(),this.dispatchEvent(new CustomEvent("change",{bubbles:!0,cancelable:!1,detail:{value:this.value}}))}__setValue(){this.__settingValue=!0;const t=this.formatValue||this.i18n.formatValue;this.value=t.apply(this,[this.inputs.map(e=>e.value)]),this.__settingValue=!1}__queryAllAssignedElements(t){const e=[];let i;return t.tagName==="SLOT"?i=t.assignedElements({flatten:!0}):(e.push(t),i=Array.from(t.children)),i.forEach(n=>e.push(...this.__queryAllAssignedElements(n))),e}__isInput(t){return!(t.getAttribute("slot")==="input"||t.getAttribute("slot")==="textarea")&&(t.validate||t.checkValidity)}__getInputsFromSlot(){return this.__queryAllAssignedElements(this.$.slot).filter(t=>this.__isInput(t))}__setInputsFromSlot(){this._setInputs(this.__getInputsFromSlot()),this.__setValue()}__toggleHasValue(t){this.toggleAttribute("has-value",t!==null&&t.trim()!=="")}__valueChanged(t,e){if(this.__settingValue||!this.inputs)return;this.__toggleHasValue(t);const n=(this.parseValue||this.i18n.parseValue).apply(this,[t]);if(!n||n.length===0){console.warn("Value parser has not provided values array");return}this.inputs.forEach((s,o)=>{s.value=n[o]}),e!==void 0&&this.validate()}}customElements.define(ef.is,ef);const ox=k`
  [part='overlay'] {
    /*
  Width:
      date cell widths
    + month calendar side padding
    + year scroller width
  */
    /* prettier-ignore */
    width:
    calc(
        var(--lumo-size-m) * 7
      + var(--lumo-space-xs) * 2
      + 57px
    );
    height: 100%;
    max-height: calc(var(--lumo-size-m) * 14);
    overflow: hidden;
    -webkit-tap-highlight-color: transparent;
  }

  [part='overlay'] {
    flex-direction: column;
  }

  [part='content'] {
    padding: 0;
    height: 100%;
    overflow: hidden;
    -webkit-mask-image: none;
    mask-image: none;
  }

  :host([top-aligned]) [part~='overlay'] {
    margin-top: var(--lumo-space-xs);
  }

  :host([bottom-aligned]) [part~='overlay'] {
    margin-bottom: var(--lumo-space-xs);
  }

  @media (max-width: 420px), (max-height: 420px) {
    [part='overlay'] {
      width: 100vw;
      height: 70vh;
      max-height: 70vh;
    }
  }
`;R("vaadin-date-picker-overlay",[ol,ox],{moduleId:"lumo-date-picker-overlay"});R("vaadin-date-picker-overlay-content",k`
    :host {
      position: relative;
      /* Background for the year scroller, placed here as we are using a mask image on the actual years part */
      background-image: linear-gradient(var(--lumo-shade-5pct), var(--lumo-shade-5pct));
      background-size: 57px 100%;
      background-position: top right;
      background-repeat: no-repeat;
      cursor: default;
    }

    /* Month scroller */

    [part='months'] {
      /* Month calendar height:
              header height + margin-bottom
            + weekdays height + margin-bottom
            + date cell heights
            + small margin between month calendars
        */
      /* prettier-ignore */
      --vaadin-infinite-scroller-item-height:
          calc(
              var(--lumo-font-size-l) + var(--lumo-space-m)
            + var(--lumo-font-size-xs) + var(--lumo-space-s)
            + var(--lumo-size-m) * 6
            + var(--lumo-space-s)
          );
      --vaadin-infinite-scroller-buffer-offset: 10%;
      -webkit-mask-image: linear-gradient(transparent, #000 10%, #000 85%, transparent);
      mask-image: linear-gradient(transparent, #000 10%, #000 85%, transparent);
      position: relative;
      margin-right: 57px;
    }

    /* Year scroller */
    [part='years'] {
      /* TODO get rid of fixed magic number */
      --vaadin-infinite-scroller-buffer-width: 97px;
      width: 57px;
      height: auto;
      top: 0;
      bottom: 0;
      font-size: var(--lumo-font-size-s);
      box-shadow: inset 2px 0 4px 0 var(--lumo-shade-5pct);
      -webkit-mask-image: linear-gradient(transparent, #000 35%, #000 65%, transparent);
      mask-image: linear-gradient(transparent, #000 35%, #000 65%, transparent);
      cursor: var(--lumo-clickable-cursor);
    }

    [part='year-number']:not([current]),
    [part='year-separator'] {
      opacity: 0.7;
      transition: 0.2s opacity;
    }

    [part='years']:hover [part='year-number'],
    [part='years']:hover [part='year-separator'] {
      opacity: 1;
    }

    /* TODO unsupported selector */
    #scrollers {
      position: static;
      display: block;
    }

    /* TODO unsupported selector, should fix this in vaadin-date-picker that it adapts to the
       * width of the year scroller */
    #scrollers[desktop] [part='months'] {
      right: auto;
    }

    /* Year scroller position indicator */
    [part='years']::before {
      border: none;
      width: 1em;
      height: 1em;
      background-color: var(--lumo-base-color);
      background-image: linear-gradient(var(--lumo-tint-5pct), var(--lumo-tint-5pct));
      transform: translate(-75%, -50%) rotate(45deg);
      border-top-right-radius: var(--lumo-border-radius-s);
      box-shadow: 2px -2px 6px 0 var(--lumo-shade-5pct);
      z-index: 1;
    }

    [part='year-number'],
    [part='year-separator'] {
      display: flex;
      align-items: center;
      justify-content: center;
      height: 50%;
      transform: translateY(-50%);
    }

    [part='years'] [part='year-separator']::after {
      color: var(--lumo-disabled-text-color);
      content: '•';
    }

    /* Current year */

    [part='years'] [part='year-number'][current] {
      color: var(--lumo-primary-text-color);
    }

    /* Toolbar (footer) */

    [part='toolbar'] {
      padding: var(--lumo-space-s);
      border-bottom-left-radius: var(--lumo-border-radius-l);
      margin-right: 57px;
    }

    /* Today and Cancel buttons */

    [part='toolbar'] [part\$='button'] {
      margin: 0;
    }

    /* Narrow viewport mode (fullscreen) */

    :host([fullscreen]) [part='toolbar'] {
      order: -1;
      background-color: var(--lumo-base-color);
    }

    :host([fullscreen]) [part='overlay-header'] {
      order: -2;
      height: var(--lumo-size-m);
      padding: var(--lumo-space-s);
      position: absolute;
      left: 0;
      right: 0;
      justify-content: center;
    }

    :host([fullscreen]) [part='toggle-button'],
    :host([fullscreen]) [part='clear-button'],
    [part='overlay-header'] [part='label'] {
      display: none;
    }

    /* Very narrow screen (year scroller initially hidden) */

    [part='years-toggle-button'] {
      display: flex;
      align-items: center;
      height: var(--lumo-size-s);
      padding: 0 0.5em;
      border-radius: var(--lumo-border-radius-m);
      z-index: 3;
      color: var(--lumo-primary-text-color);
      font-weight: 500;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    :host([years-visible]) [part='years-toggle-button'] {
      background-color: var(--lumo-primary-color);
      color: var(--lumo-primary-contrast-color);
    }

    /* TODO magic number (same as used for media-query in vaadin-date-picker-overlay-content) */
    @media screen and (max-width: 374px) {
      :host {
        background-image: none;
      }

      [part='years'] {
        background-color: var(--lumo-shade-5pct);
      }

      [part='toolbar'],
      [part='months'] {
        margin-right: 0;
      }

      /* TODO make date-picker adapt to the width of the years part */
      [part='years'] {
        --vaadin-infinite-scroller-buffer-width: 90px;
        width: 50px;
      }

      :host([years-visible]) [part='months'] {
        padding-left: 50px;
      }
    }
  `,{moduleId:"lumo-date-picker-overlay-content"});R("vaadin-month-calendar",k`
    :host {
      -moz-user-select: none;
      -webkit-user-select: none;
      -webkit-tap-highlight-color: transparent;
      user-select: none;
      font-size: var(--lumo-font-size-m);
      color: var(--lumo-body-text-color);
      text-align: center;
      padding: 0 var(--lumo-space-xs);
    }

    /* Month header */

    [part='month-header'] {
      color: var(--lumo-header-text-color);
      font-size: var(--lumo-font-size-l);
      line-height: 1;
      font-weight: 500;
      margin-bottom: var(--lumo-space-m);
    }

    /* Week days and numbers */

    [part='weekdays'],
    [part='weekday'],
    [part='week-number'] {
      font-size: var(--lumo-font-size-xxs);
      line-height: 1;
      color: var(--lumo-secondary-text-color);
    }

    [part='weekdays'] {
      margin-bottom: var(--lumo-space-s);
    }

    [part='weekday']:empty,
    [part='week-number'] {
      width: var(--lumo-size-xs);
    }

    /* Date and week number cells */

    [part='date'],
    [part='week-number'] {
      box-sizing: border-box;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      height: var(--lumo-size-m);
      position: relative;
    }

    [part='date'] {
      transition: color 0.1s;
    }

    [part='date']:not(:empty) {
      cursor: var(--lumo-clickable-cursor);
    }

    :host([week-numbers]) [part='weekday']:not(:empty),
    :host([week-numbers]) [part='date'] {
      width: calc((100% - var(--lumo-size-xs)) / 7);
    }

    /* Today date */

    [part='date'][today] {
      color: var(--lumo-primary-text-color);
    }

    /* Focused date */

    [part='date']::before {
      content: '';
      position: absolute;
      z-index: -1;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      min-width: 2em;
      min-height: 2em;
      width: 80%;
      height: 80%;
      max-height: 100%;
      max-width: 100%;
      border-radius: var(--lumo-border-radius-m);
    }

    [part='date'][focused]::before {
      box-shadow: 0 0 0 1px var(--lumo-base-color), 0 0 0 3px var(--lumo-primary-color-50pct);
    }

    :host(:not([focused])) [part='date'][focused]::before {
      animation: vaadin-date-picker-month-calendar-focus-date 1.4s infinite;
    }

    @keyframes vaadin-date-picker-month-calendar-focus-date {
      50% {
        box-shadow: 0 0 0 1px var(--lumo-base-color), 0 0 0 3px transparent;
      }
    }

    [part='date']:not(:empty):not([disabled]):not([selected]):hover::before {
      background-color: var(--lumo-primary-color-10pct);
    }

    [part='date'][selected] {
      color: var(--lumo-primary-contrast-color);
    }

    [part='date'][selected]::before {
      background-color: var(--lumo-primary-color);
    }

    [part='date'][disabled] {
      color: var(--lumo-disabled-text-color);
    }

    @media (pointer: coarse) {
      [part='date']:hover:not([selected])::before,
      [part='date'][focused]:not([selected])::before {
        display: none;
      }

      [part='date']:not(:empty):not([disabled]):active::before {
        display: block;
      }

      [part='date'][selected]::before {
        box-shadow: none;
      }
    }

    /* Disabled */

    :host([disabled]) * {
      color: var(--lumo-disabled-text-color) !important;
    }
  `,{moduleId:"lumo-month-calendar"});const qv=document.createElement("template");qv.innerHTML=`
  <style>
    @keyframes vaadin-date-picker-month-calendar-focus-date {
      50% {
        box-shadow: 0 0 0 2px transparent;
      }
    }
  </style>
`;document.head.appendChild(qv.content);const ax=k`
  :host {
    outline: none;
  }

  [part='toggle-button']::before {
    content: var(--lumo-icons-calendar);
  }

  [part='clear-button']::before {
    content: var(--lumo-icons-cross);
  }

  @media (max-width: 420px), (max-height: 420px) {
    [part='overlay-content'] {
      height: 70vh;
    }
  }

  :host([dir='rtl']) [part='input-field'] ::slotted(input) {
    --_lumo-text-field-overflow-mask-image: linear-gradient(to left, transparent, #000 1.25em);
  }

  :host([dir='rtl']) [part='input-field'] ::slotted(input:placeholder-shown) {
    --_lumo-text-field-overflow-mask-image: none;
  }
`;R("vaadin-date-picker",[Xt,ax],{moduleId:"lumo-date-picker"});/**
 * @license
 * Copyright (c) 2016 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const lx=k`
  :host([dir='rtl']) [part='input-field'] {
    direction: ltr;
  }

  :host([dir='rtl']) [part='input-field'] ::slotted(input)::placeholder {
    direction: rtl;
    text-align: left;
  }
`,hx=k`
  [part='overlay'] {
    display: flex;
    flex: auto;
  }

  [part~='content'] {
    flex: auto;
  }
`;/**
 * @license
 * Copyright (c) 2016 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */R("vaadin-date-picker-overlay",hx,{moduleId:"vaadin-date-picker-overlay-styles"});let Os;class tf extends ww(Ur(Ti)){static get is(){return"vaadin-date-picker-overlay"}static get template(){return Os||(Os=super.template.cloneNode(!0),Os.content.querySelector('[part~="overlay"]').removeAttribute("tabindex")),Os}}customElements.define(tf.is,tf);/**
 * @license
 * Copyright (c) 2016 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */function ux(r){let t=r.getDay();t===0&&(t=7);const e=4-t,i=new Date(r.getTime()+e*24*3600*1e3),n=new Date(0,0);n.setFullYear(i.getFullYear());const s=i.getTime()-n.getTime(),o=Math.round(s/(24*3600*1e3));return Math.floor(o/7+1)}function nt(r,t){return r instanceof Date&&t instanceof Date&&r.getFullYear()===t.getFullYear()&&r.getMonth()===t.getMonth()&&r.getDate()===t.getDate()}function Pn(r,t,e){return(!t||r>=t)&&(!e||r<=e)}function Xv(r,t){return t.filter(e=>e!==void 0).reduce((e,i)=>{if(!i)return e;if(!e)return i;const n=Math.abs(r.getTime()-i.getTime()),s=Math.abs(e.getTime()-r.getTime());return n<s?i:e})}function cc(r){return{day:r.getDate(),month:r.getMonth(),year:r.getFullYear()}}function cx(r,t,e=0,i=1){if(t>99)throw new Error("The provided year cannot have more than 2 digits.");if(t<0)throw new Error("The provided year cannot be negative.");let n=t+Math.floor(r.getFullYear()/100)*100;return r<new Date(n-50,e,i)?n-=100:r>new Date(n+50,e,i)&&(n+=100),n}function Ni(r){const t=/^([-+]\d{1}|\d{2,4}|[-+]\d{6})-(\d{1,2})-(\d{1,2})$/.exec(r);if(!t)return;const e=new Date(0,0);return e.setFullYear(parseInt(t[1],10)),e.setMonth(parseInt(t[2],10)-1),e.setDate(parseInt(t[3],10)),e}/**
 * @license
 * Copyright (c) 2016 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class rf extends Et(j(W)){static get template(){return H`
      <style>
        :host {
          display: block;
        }

        #monthGrid {
          width: 100%;
          border-collapse: collapse;
        }

        #days-container tr,
        #weekdays-container tr {
          display: flex;
        }

        [part='date'] {
          outline: none;
        }

        [part='week-number'][hidden],
        [part='weekday'][hidden] {
          display: none;
        }

        [part='weekday'],
        [part='date'] {
          width: calc(100% / 7);
          padding: 0;
          font-weight: normal;
        }

        [part='weekday']:empty,
        [part='week-number'] {
          width: 12.5%;
          flex-shrink: 0;
          padding: 0;
        }

        :host([week-numbers]) [part='weekday']:not(:empty),
        :host([week-numbers]) [part='date'] {
          width: 12.5%;
        }
      </style>

      <div part="month-header" id="month-header" aria-hidden="true">[[_getTitle(month, i18n.monthNames)]]</div>
      <table
        id="monthGrid"
        role="grid"
        aria-labelledby="month-header"
        on-touchend="_preventDefault"
        on-touchstart="_onMonthGridTouchStart"
      >
        <thead id="weekdays-container">
          <tr role="row" part="weekdays">
            <th
              part="weekday"
              aria-hidden="true"
              hidden$="[[!_showWeekSeparator(showWeekNumbers, i18n.firstDayOfWeek)]]"
            ></th>
            <template
              is="dom-repeat"
              items="[[_getWeekDayNames(i18n.weekdays, i18n.weekdaysShort, showWeekNumbers, i18n.firstDayOfWeek)]]"
            >
              <th role="columnheader" part="weekday" scope="col" abbr$="[[item.weekDay]]" aria-hidden="true">
                [[item.weekDayShort]]
              </th>
            </template>
          </tr>
        </thead>
        <tbody id="days-container">
          <template is="dom-repeat" items="[[_weeks]]" as="week">
            <tr role="row">
              <td
                part="week-number"
                aria-hidden="true"
                hidden$="[[!_showWeekSeparator(showWeekNumbers, i18n.firstDayOfWeek)]]"
              >
                [[__getWeekNumber(week)]]
              </td>
              <template is="dom-repeat" items="[[week]]">
                <td
                  role="gridcell"
                  part="date"
                  date="[[item]]"
                  today$="[[_isToday(item)]]"
                  focused$="[[__isDayFocused(item, focusedDate)]]"
                  tabindex$="[[__getDayTabindex(item, focusedDate)]]"
                  selected$="[[__isDaySelected(item, selectedDate)]]"
                  disabled$="[[__isDayDisabled(item, minDate, maxDate)]]"
                  aria-selected$="[[__getDayAriaSelected(item, selectedDate)]]"
                  aria-disabled$="[[__getDayAriaDisabled(item, minDate, maxDate)]]"
                  aria-label$="[[__getDayAriaLabel(item)]]"
                  >[[_getDate(item)]]</td
                >
              </template>
            </tr>
          </template>
        </tbody>
      </table>
    `}static get is(){return"vaadin-month-calendar"}static get properties(){return{month:{type:Date,value:new Date},selectedDate:{type:Date,notify:!0},focusedDate:Date,showWeekNumbers:{type:Boolean,value:!1},i18n:{type:Object},ignoreTaps:Boolean,_notTapping:Boolean,minDate:{type:Date,value:null},maxDate:{type:Date,value:null},_days:{type:Array,computed:"_getDays(month, i18n.firstDayOfWeek, minDate, maxDate)"},_weeks:{type:Array,computed:"_getWeeks(_days)"},disabled:{type:Boolean,reflectToAttribute:!0,computed:"_isDisabled(month, minDate, maxDate)"}}}static get observers(){return["_showWeekNumbersChanged(showWeekNumbers, i18n.firstDayOfWeek)","__focusedDateChanged(focusedDate, _days)"]}ready(){super.ready(),Ye(this.$.monthGrid,"tap",this._handleTap.bind(this))}get focusableDateElement(){return[...this.shadowRoot.querySelectorAll("[part=date]")].find(t=>nt(t.date,this.focusedDate))}_isDisabled(t,e,i){const n=new Date(0,0);n.setFullYear(t.getFullYear()),n.setMonth(t.getMonth()),n.setDate(1);const s=new Date(0,0);return s.setFullYear(t.getFullYear()),s.setMonth(t.getMonth()+1),s.setDate(0),e&&i&&e.getMonth()===i.getMonth()&&e.getMonth()===t.getMonth()&&i.getDate()-e.getDate()>=0?!1:!Pn(n,e,i)&&!Pn(s,e,i)}_getTitle(t,e){if(!(t===void 0||e===void 0))return this.i18n.formatTitle(e[t.getMonth()],t.getFullYear())}_onMonthGridTouchStart(){this._notTapping=!1,setTimeout(()=>{this._notTapping=!0},300)}_dateAdd(t,e){t.setDate(t.getDate()+e)}_applyFirstDayOfWeek(t,e){if(!(t===void 0||e===void 0))return t.slice(e).concat(t.slice(0,e))}_getWeekDayNames(t,e,i,n){if(!(t===void 0||e===void 0||i===void 0||n===void 0))return t=this._applyFirstDayOfWeek(t,n),e=this._applyFirstDayOfWeek(e,n),t=t.map((s,o)=>({weekDay:s,weekDayShort:e[o]})),t}__focusedDateChanged(t,e){e.some(i=>nt(i,t))?this.removeAttribute("aria-hidden"):this.setAttribute("aria-hidden","true")}_getDate(t){return t?t.getDate():""}_showWeekNumbersChanged(t,e){t&&e===1?this.setAttribute("week-numbers",""):this.removeAttribute("week-numbers")}_showWeekSeparator(t,e){return t&&e===1}_isToday(t){return nt(new Date,t)}_getDays(t,e){if(t===void 0||e===void 0)return;const i=new Date(0,0);for(i.setFullYear(t.getFullYear()),i.setMonth(t.getMonth()),i.setDate(1);i.getDay()!==e;)this._dateAdd(i,-1);const n=[],s=i.getMonth(),o=t.getMonth();for(;i.getMonth()===o||i.getMonth()===s;)n.push(i.getMonth()===o?new Date(i.getTime()):null),this._dateAdd(i,1);return n}_getWeeks(t){return t.reduce((e,i,n)=>(n%7===0&&e.push([]),e[e.length-1].push(i),e),[])}_handleTap(t){!this.ignoreTaps&&!this._notTapping&&t.target.date&&!t.target.hasAttribute("disabled")&&(this.selectedDate=t.target.date,this.dispatchEvent(new CustomEvent("date-tap",{detail:{date:t.target.date},bubbles:!0,composed:!0})))}_preventDefault(t){t.preventDefault()}__getWeekNumber(t){const e=t.reduce((i,n)=>!i&&n?n:i);return ux(e)}__isDayFocused(t,e){return nt(t,e)}__isDaySelected(t,e){return nt(t,e)}__getDayAriaSelected(t,e){if(this.__isDaySelected(t,e))return"true"}__isDayDisabled(t,e,i){return!Pn(t,e,i)}__getDayAriaDisabled(t,e,i){if(!(t===void 0||e===void 0||i===void 0)&&this.__isDayDisabled(t,e,i))return"true"}__getDayAriaLabel(t){if(!t)return"";let e=`${this._getDate(t)} ${this.i18n.monthNames[t.getMonth()]} ${t.getFullYear()}, ${this.i18n.weekdays[t.getDay()]}`;return this._isToday(t)&&(e+=`, ${this.i18n.today}`),e}__getDayTabindex(t,e){return this.__isDayFocused(t,e)?"0":"-1"}}customElements.define(rf.is,rf);/**
 * @license
 * Copyright (c) 2016 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class zn extends W{static get template(){return H`
      <style>
        :host {
          display: block;
          overflow: hidden;
          height: 500px;
        }

        #scroller {
          position: relative;
          height: 100%;
          overflow: auto;
          outline: none;
          margin-right: -40px;
          -webkit-overflow-scrolling: touch;
          overflow-x: hidden;
        }

        #scroller.notouchscroll {
          -webkit-overflow-scrolling: auto;
        }

        #scroller::-webkit-scrollbar {
          display: none;
        }

        .buffer {
          position: absolute;
          width: var(--vaadin-infinite-scroller-buffer-width, 100%);
          box-sizing: border-box;
          padding-right: 40px;
          top: var(--vaadin-infinite-scroller-buffer-offset, 0);
          animation: fadein 0.2s;
        }

        @keyframes fadein {
          from {
            opacity: 0;
          }
          to {
            opacity: 1;
          }
        }
      </style>

      <div id="scroller" on-scroll="_scroll">
        <div class="buffer"></div>
        <div class="buffer"></div>
        <div id="fullHeight"></div>
      </div>
    `}static get is(){return"vaadin-infinite-scroller"}static get properties(){return{bufferSize:{type:Number,value:20},_initialScroll:{value:5e5},_initialIndex:{value:0},_buffers:Array,_preventScrollEvent:Boolean,_mayHaveMomentum:Boolean,_initialized:Boolean,active:{type:Boolean,observer:"_activated"}}}ready(){super.ready(),this._buffers=[...this.shadowRoot.querySelectorAll(".buffer")],this.$.fullHeight.style.height=`${this._initialScroll*2}px`;const t=this.querySelector("template");this._TemplateClass=Ku(t,this,{forwardHostProp(e,i){e!=="index"&&this._buffers.forEach(n=>{[...n.children].forEach(s=>{s._itemWrapper.instance[e]=i})})}}),$m&&(this.$.scroller.tabIndex=-1)}forceUpdate(){this._debouncerUpdateClones&&(this._buffers[0].updated=this._buffers[1].updated=!1,this._updateClones(),this._debouncerUpdateClones.cancel())}_activated(t){t&&!this._initialized&&(this._createPool(),this._initialized=!0)}_finishInit(){this._initDone||(this._buffers.forEach(t=>{[...t.children].forEach(e=>{this._ensureStampedInstance(e._itemWrapper)})}),this._buffers[0].translateY||this._reset(),this._initDone=!0)}_translateBuffer(t){const e=t?1:0;this._buffers[e].translateY=this._buffers[e?0:1].translateY+this._bufferHeight*(e?-1:1),this._buffers[e].style.transform=`translate3d(0, ${this._buffers[e].translateY}px, 0)`,this._buffers[e].updated=!1,this._buffers.reverse()}_scroll(){if(this._scrollDisabled)return;const t=this.$.scroller.scrollTop;(t<this._bufferHeight||t>this._initialScroll*2-this._bufferHeight)&&(this._initialIndex=~~this.position,this._reset());const e=this.itemHeight+this.bufferOffset,i=t>this._buffers[1].translateY+e,n=t<this._buffers[0].translateY+e;(i||n)&&(this._translateBuffer(n),this._updateClones()),this._preventScrollEvent||(this.dispatchEvent(new CustomEvent("custom-scroll",{bubbles:!1,composed:!0})),this._mayHaveMomentum=!0),this._preventScrollEvent=!1,this._debouncerScrollFinish=ye.debounce(this._debouncerScrollFinish,Be.after(200),()=>{const s=this.$.scroller.getBoundingClientRect();!this._isVisible(this._buffers[0],s)&&!this._isVisible(this._buffers[1],s)&&(this.position=this.position)})}get bufferOffset(){return this._buffers[0].offsetTop}get position(){return(this.$.scroller.scrollTop-this._buffers[0].translateY)/this.itemHeight+this._firstIndex}set position(t){this._preventScrollEvent=!0,t>this._firstIndex&&t<this._firstIndex+this.bufferSize*2?this.$.scroller.scrollTop=this.itemHeight*(t-this._firstIndex)+this._buffers[0].translateY:(this._initialIndex=~~t,this._reset(),this._scrollDisabled=!0,this.$.scroller.scrollTop+=t%1*this.itemHeight,this._scrollDisabled=!1),this._mayHaveMomentum&&(this.$.scroller.classList.add("notouchscroll"),this._mayHaveMomentum=!1,setTimeout(()=>{this.$.scroller.classList.remove("notouchscroll")},10))}get itemHeight(){if(!this._itemHeightVal){const t=getComputedStyle(this).getPropertyValue("--vaadin-infinite-scroller-item-height"),e="background-position";this.$.fullHeight.style.setProperty(e,t);const i=getComputedStyle(this.$.fullHeight).getPropertyValue(e);this.$.fullHeight.style.removeProperty(e),this._itemHeightVal=parseFloat(i)}return this._itemHeightVal}get _bufferHeight(){return this.itemHeight*this.bufferSize}_reset(){this._scrollDisabled=!0,this.$.scroller.scrollTop=this._initialScroll,this._buffers[0].translateY=this._initialScroll-this._bufferHeight,this._buffers[1].translateY=this._initialScroll,this._buffers.forEach(t=>{t.style.transform=`translate3d(0, ${t.translateY}px, 0)`}),this._buffers[0].updated=this._buffers[1].updated=!1,this._updateClones(!0),this._debouncerUpdateClones=ye.debounce(this._debouncerUpdateClones,Be.after(200),()=>{this._buffers[0].updated=this._buffers[1].updated=!1,this._updateClones()}),this._scrollDisabled=!1}_createPool(){const t=this.getBoundingClientRect();this._buffers.forEach(e=>{for(let i=0;i<this.bufferSize;i++){const n=document.createElement("div");n.style.height=`${this.itemHeight}px`,n.instance={};const o=`vaadin-infinite-scroller-item-content-${zn._contentIndex=zn._contentIndex+1||0}`,a=document.createElement("slot");a.setAttribute("name",o),a._itemWrapper=n,e.appendChild(a),n.setAttribute("slot",o),this.appendChild(n),setTimeout(()=>{this._isVisible(n,t)&&this._ensureStampedInstance(n)},1)}}),setTimeout(()=>{Xa(this,this._finishInit.bind(this))},1)}_ensureStampedInstance(t){if(t.firstElementChild)return;const e=t.instance;t.instance=new this._TemplateClass({}),t.appendChild(t.instance.root),Object.keys(e).forEach(i=>{t.instance.set(i,e[i])})}_updateClones(t){this._firstIndex=~~((this._buffers[0].translateY-this._initialScroll)/this.itemHeight)+this._initialIndex;const e=t?this.$.scroller.getBoundingClientRect():void 0;this._buffers.forEach((i,n)=>{if(!i.updated){const s=this._firstIndex+this.bufferSize*n;[...i.children].forEach((o,a)=>{const l=o._itemWrapper;(!t||this._isVisible(l,e))&&(l.instance.index=s+a)}),i.updated=!0}})}_isVisible(t,e){const i=t.getBoundingClientRect();return i.bottom>e.top&&i.top<e.bottom}}customElements.define(zn.is,zn);/**
 * @license
 * Copyright (c) 2016 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class nf extends He(j(Si(W))){static get template(){return H`
      <style>
        :host {
          display: flex;
          flex-direction: column;
          height: 100%;
          width: 100%;
          outline: none;
        }

        [part='overlay-header'] {
          display: flex;
          flex-shrink: 0;
          flex-wrap: nowrap;
          align-items: center;
        }

        :host(:not([fullscreen])) [part='overlay-header'] {
          display: none;
        }

        [part='label'] {
          flex-grow: 1;
        }

        [hidden] {
          display: none !important;
        }

        [part='years-toggle-button'] {
          display: flex;
        }

        #scrollers {
          display: flex;
          height: 100%;
          width: 100%;
          position: relative;
          overflow: hidden;
        }

        [part='months'],
        [part='years'] {
          height: 100%;
        }

        [part='months'] {
          --vaadin-infinite-scroller-item-height: 270px;
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
        }

        #scrollers[desktop] [part='months'] {
          right: 50px;
          transform: none !important;
        }

        [part='years'] {
          --vaadin-infinite-scroller-item-height: 80px;
          width: 50px;
          position: absolute;
          right: 0;
          transform: translateX(100%);
          -webkit-tap-highlight-color: transparent;
          -webkit-user-select: none;
          -moz-user-select: none;
          user-select: none;
          /* Center the year scroller position. */
          --vaadin-infinite-scroller-buffer-offset: 50%;
        }

        #scrollers[desktop] [part='years'] {
          position: absolute;
          transform: none !important;
        }

        [part='years']::before {
          content: '';
          display: block;
          background: transparent;
          width: 0;
          height: 0;
          position: absolute;
          left: 0;
          top: 50%;
          transform: translateY(-50%);
          border-width: 6px;
          border-style: solid;
          border-color: transparent;
          border-left-color: #000;
        }

        :host(.animate) [part='months'],
        :host(.animate) [part='years'] {
          transition: all 200ms;
        }

        [part='toolbar'] {
          display: flex;
          justify-content: space-between;
          z-index: 2;
          flex-shrink: 0;
        }
      </style>

      <div part="overlay-header" on-touchend="_preventDefault" desktop$="[[_desktopMode]]" aria-hidden="true">
        <div part="label">[[_formatDisplayed(selectedDate, i18n.formatDate, label)]]</div>
        <div part="clear-button" hidden$="[[!selectedDate]]"></div>
        <div part="toggle-button"></div>

        <div part="years-toggle-button" hidden$="[[_desktopMode]]" aria-hidden="true">
          [[_yearAfterXMonths(_visibleMonthIndex)]]
        </div>
      </div>

      <div id="scrollers" desktop$="[[_desktopMode]]">
        <vaadin-infinite-scroller
          id="monthScroller"
          on-custom-scroll="_onMonthScroll"
          on-touchstart="_onMonthScrollTouchStart"
          buffer-size="3"
          active="[[initialPosition]]"
          part="months"
        >
          <template>
            <vaadin-month-calendar
              i18n="[[i18n]]"
              month="[[_dateAfterXMonths(index)]]"
              selected-date="{{selectedDate}}"
              focused-date="[[focusedDate]]"
              ignore-taps="[[_ignoreTaps]]"
              show-week-numbers="[[showWeekNumbers]]"
              min-date="[[minDate]]"
              max-date="[[maxDate]]"
              part="month"
              theme$="[[_theme]]"
              on-keydown="__onMonthCalendarKeyDown"
            >
            </vaadin-month-calendar>
          </template>
        </vaadin-infinite-scroller>
        <vaadin-infinite-scroller
          id="yearScroller"
          on-custom-scroll="_onYearScroll"
          on-touchstart="_onYearScrollTouchStart"
          buffer-size="12"
          active="[[initialPosition]]"
          part="years"
          aria-hidden="true"
        >
          <template>
            <div
              part="year-number"
              current$="[[_isCurrentYear(index)]]"
              selected$="[[_isSelectedYear(index, selectedDate)]]"
            >
              [[_yearAfterXYears(index)]]
            </div>
            <div part="year-separator" aria-hidden="true"></div>
          </template>
        </vaadin-infinite-scroller>
      </div>

      <div on-touchend="_preventDefault" role="toolbar" part="toolbar">
        <vaadin-button
          id="todayButton"
          part="today-button"
          theme="tertiary"
          disabled="[[!_isTodayAllowed(minDate, maxDate)]]"
          on-keydown="__onTodayButtonKeyDown"
        >
          [[i18n.today]]
        </vaadin-button>
        <vaadin-button id="cancelButton" part="cancel-button" theme="tertiary" on-keydown="__onCancelButtonKeyDown">
          [[i18n.cancel]]
        </vaadin-button>
      </div>
    `}static get is(){return"vaadin-date-picker-overlay-content"}static get properties(){return{scrollDuration:{type:Number,value:300},selectedDate:{type:Date,value:null},focusedDate:{type:Date,notify:!0,observer:"_focusedDateChanged"},_focusedMonthDate:Number,initialPosition:{type:Date,observer:"_initialPositionChanged"},_originDate:{value:new Date},_visibleMonthIndex:Number,_desktopMode:Boolean,_desktopMediaQuery:{type:String,value:"(min-width: 375px)"},_translateX:{observer:"_translateXChanged"},_yearScrollerWidth:{value:50},i18n:{type:Object},showWeekNumbers:{type:Boolean},_ignoreTaps:Boolean,_notTapping:Boolean,minDate:Date,maxDate:Date,label:String}}get __isRTL(){return this.getAttribute("dir")==="rtl"}get __useSubMonthScrolling(){return this.$.monthScroller.clientHeight<this.$.monthScroller.itemHeight+this.$.monthScroller.bufferOffset}get calendars(){return[...this.shadowRoot.querySelectorAll("vaadin-month-calendar")]}get focusableDateElement(){return this.calendars.map(t=>t.focusableDateElement).find(Boolean)}ready(){super.ready(),this.setAttribute("role","dialog"),Ye(this.$.scrollers,"track",this._track.bind(this)),Ye(this.shadowRoot.querySelector('[part="clear-button"]'),"tap",this._clear.bind(this)),Ye(this.shadowRoot.querySelector('[part="today-button"]'),"tap",this._onTodayTap.bind(this)),Ye(this.shadowRoot.querySelector('[part="cancel-button"]'),"tap",this._cancel.bind(this)),Ye(this.shadowRoot.querySelector('[part="toggle-button"]'),"tap",this._cancel.bind(this)),Ye(this.shadowRoot.querySelector('[part="years"]'),"tap",this._onYearTap.bind(this)),Ye(this.shadowRoot.querySelector('[part="years-toggle-button"]'),"tap",this._toggleYearScroller.bind(this)),this.addController(new al(this._desktopMediaQuery,t=>{this._desktopMode=t}))}connectedCallback(){super.connectedCallback(),this._closeYearScroller(),this._toggleAnimateClass(!0),$b(this.$.scrollers,"pan-y")}focusCancel(){this.$.cancelButton.focus()}scrollToDate(t,e){const i=this.__useSubMonthScrolling?this._calculateWeekScrollOffset(t):0;this._scrollToPosition(this._differenceInMonths(t,this._originDate)+i,e),this.$.monthScroller.forceUpdate()}_selectDate(t){this.selectedDate=t,this.dispatchEvent(new CustomEvent("date-selected",{detail:{date:t},bubbles:!0,composed:!0}))}_focusedDateChanged(t){this.revealDate(t)}_isCurrentYear(t){return t===0}_isSelectedYear(t,e){if(e)return e.getFullYear()===this._originDate.getFullYear()+t}revealDate(t,e=!0){if(!t)return;const i=this._differenceInMonths(t,this._originDate);if(this.__useSubMonthScrolling){const l=this._calculateWeekScrollOffset(t);this._scrollToPosition(i+l,e);return}const n=this.$.monthScroller.position>i,o=Math.max(this.$.monthScroller.itemHeight,this.$.monthScroller.clientHeight-this.$.monthScroller.bufferOffset*2)/this.$.monthScroller.itemHeight,a=this.$.monthScroller.position+o-1<i;n?this._scrollToPosition(i,e):a&&this._scrollToPosition(i-o+1,e)}_calculateWeekScrollOffset(t){const e=new Date(0,0);e.setFullYear(t.getFullYear()),e.setMonth(t.getMonth()),e.setDate(1);let i=0;for(;e.getDate()<t.getDate();)e.setDate(e.getDate()+1),e.getDay()===this.i18n.firstDayOfWeek&&(i+=1);return i/6}_initialPositionChanged(t){this.scrollToDate(t)}_repositionYearScroller(){this._visibleMonthIndex=Math.floor(this.$.monthScroller.position),this.$.yearScroller.position=(this.$.monthScroller.position+this._originDate.getMonth())/12}_repositionMonthScroller(){this.$.monthScroller.position=this.$.yearScroller.position*12-this._originDate.getMonth(),this._visibleMonthIndex=Math.floor(this.$.monthScroller.position)}_onMonthScroll(){this._repositionYearScroller(),this._doIgnoreTaps()}_onYearScroll(){this._repositionMonthScroller(),this._doIgnoreTaps()}_onYearScrollTouchStart(){this._notTapping=!1,setTimeout(()=>{this._notTapping=!0},300),this._repositionMonthScroller()}_onMonthScrollTouchStart(){this._repositionYearScroller()}_doIgnoreTaps(){this._ignoreTaps=!0,this._debouncer=ye.debounce(this._debouncer,Be.after(300),()=>{this._ignoreTaps=!1})}_formatDisplayed(t,e,i){return t?e(cc(t)):i}_onTodayTap(){const t=new Date;Math.abs(this.$.monthScroller.position-this._differenceInMonths(t,this._originDate))<.001?(this._selectDate(t),this._close()):this._scrollToCurrentMonth()}_scrollToCurrentMonth(){this.focusedDate&&(this.focusedDate=new Date),this.scrollToDate(new Date,!0)}_onYearTap(t){if(!this._ignoreTaps&&!this._notTapping){const i=(t.detail.y-(this.$.yearScroller.getBoundingClientRect().top+this.$.yearScroller.clientHeight/2))/this.$.yearScroller.itemHeight;this._scrollToPosition(this.$.monthScroller.position+i*12,!0)}}_scrollToPosition(t,e){if(this._targetPosition!==void 0){this._targetPosition=t;return}if(!e){this.$.monthScroller.position=t,this._targetPosition=void 0,this._repositionYearScroller(),this.__tryFocusDate();return}this._targetPosition=t;let i;this._revealPromise=new Promise(l=>{i=l});const n=(l,h,u,c)=>(l/=c/2,l<1?u/2*l*l+h:(l-=1,-u/2*(l*(l-2)-1)+h));let s=0;const o=this.$.monthScroller.position,a=l=>{s=s||l;const h=l-s;if(h<this.scrollDuration){const u=n(h,o,this._targetPosition-o,this.scrollDuration);this.$.monthScroller.position=u,window.requestAnimationFrame(a)}else this.dispatchEvent(new CustomEvent("scroll-animation-finished",{bubbles:!0,composed:!0,detail:{position:this._targetPosition,oldPosition:o}})),this.$.monthScroller.position=this._targetPosition,this._targetPosition=void 0,i(),this._revealPromise=void 0;setTimeout(this._repositionYearScroller.bind(this),1)};window.requestAnimationFrame(a)}_limit(t,e){return Math.min(e.max,Math.max(e.min,t))}_handleTrack(t){if(Math.abs(t.detail.dx)<10||Math.abs(t.detail.ddy)>10)return;Math.abs(t.detail.ddx)>this._yearScrollerWidth/3&&this._toggleAnimateClass(!0);const e=this._translateX+t.detail.ddx;this._translateX=this._limit(e,{min:0,max:this._yearScrollerWidth})}_track(t){if(!this._desktopMode)switch(t.detail.state){case"start":this._toggleAnimateClass(!1);break;case"track":this._handleTrack(t);break;case"end":this._toggleAnimateClass(!0),this._translateX>=this._yearScrollerWidth/2?this._closeYearScroller():this._openYearScroller();break}}_toggleAnimateClass(t){t?this.classList.add("animate"):this.classList.remove("animate")}_toggleYearScroller(){this._isYearScrollerVisible()?this._closeYearScroller():this._openYearScroller()}_openYearScroller(){this._translateX=0,this.setAttribute("years-visible","")}_closeYearScroller(){this.removeAttribute("years-visible"),this._translateX=this._yearScrollerWidth}_isYearScrollerVisible(){return this._translateX<this._yearScrollerWidth/2}_translateXChanged(t){this._desktopMode||(this.$.monthScroller.style.transform=`translateX(${t-this._yearScrollerWidth}px)`,this.$.yearScroller.style.transform=`translateX(${t}px)`)}_yearAfterXYears(t){const e=new Date(this._originDate);return e.setFullYear(parseInt(t)+this._originDate.getFullYear()),e.getFullYear()}_yearAfterXMonths(t){return this._dateAfterXMonths(t).getFullYear()}_dateAfterXMonths(t){const e=new Date(this._originDate);return e.setDate(1),e.setMonth(parseInt(t)+this._originDate.getMonth()),e}_differenceInMonths(t,e){return(t.getFullYear()-e.getFullYear())*12-e.getMonth()+t.getMonth()}_clear(){this._selectDate("")}_close(){this.dispatchEvent(new CustomEvent("close",{bubbles:!0,composed:!0}))}_cancel(){this.focusedDate=this.selectedDate,this._close()}_preventDefault(t){t.preventDefault()}__toggleDate(t){nt(t,this.selectedDate)?(this._clear(),this.focusedDate=t):this._selectDate(t)}__onMonthCalendarKeyDown(t){let e=!1;switch(t.key){case"ArrowDown":this._moveFocusByDays(7),e=!0;break;case"ArrowUp":this._moveFocusByDays(-7),e=!0;break;case"ArrowRight":this._moveFocusByDays(this.__isRTL?-1:1),e=!0;break;case"ArrowLeft":this._moveFocusByDays(this.__isRTL?1:-1),e=!0;break;case"Enter":this._selectDate(this.focusedDate),this._close(),e=!0;break;case" ":this.__toggleDate(this.focusedDate),e=!0;break;case"Home":this._moveFocusInsideMonth(this.focusedDate,"minDate"),e=!0;break;case"End":this._moveFocusInsideMonth(this.focusedDate,"maxDate"),e=!0;break;case"PageDown":this._moveFocusByMonths(t.shiftKey?12:1),e=!0;break;case"PageUp":this._moveFocusByMonths(t.shiftKey?-12:-1),e=!0;break;case"Tab":this._onTabKeyDown(t,"calendar");break}e&&(t.preventDefault(),t.stopPropagation())}_onTabKeyDown(t,e){switch(t.stopPropagation(),e){case"calendar":t.shiftKey&&(t.preventDefault(),this.hasAttribute("fullscreen")?this.$.cancelButton.focus():this.__focusInput());break;case"today":t.shiftKey&&(t.preventDefault(),this.focusDateElement());break;case"cancel":t.shiftKey||(t.preventDefault(),this.hasAttribute("fullscreen")?this.focusDateElement():this.__focusInput());break}}__onTodayButtonKeyDown(t){t.key==="Tab"&&this._onTabKeyDown(t,"today")}__onCancelButtonKeyDown(t){t.key==="Tab"&&this._onTabKeyDown(t,"cancel")}__focusInput(){this.dispatchEvent(new CustomEvent("focus-input",{bubbles:!0,composed:!0}))}__tryFocusDate(){if(this.__pendingDateFocus){const e=this.focusableDateElement;e&&nt(e.date,this.__pendingDateFocus)&&(delete this.__pendingDateFocus,e.focus())}}async focusDate(t,e){const i=t||this.selectedDate||this.initialPosition||new Date;this.focusedDate=i,e||(this._focusedMonthDate=i.getDate()),await this.focusDateElement(!1)}async focusDateElement(t=!0){this.__pendingDateFocus=this.focusedDate,this.calendars.length||await new Promise(e=>{setTimeout(e)}),t&&this.revealDate(this.focusedDate),this._revealPromise&&await this._revealPromise,this.__tryFocusDate()}_focusClosestDate(t){this.focusDate(Xv(t,[this.minDate,this.maxDate]))}_moveFocusByDays(t){const e=this.focusedDate,i=new Date(0,0);i.setFullYear(e.getFullYear()),i.setMonth(e.getMonth()),i.setDate(e.getDate()+t),this._dateAllowed(i,this.minDate,this.maxDate)?this.focusDate(i):this._dateAllowed(e,this.minDate,this.maxDate)?t>0?this.focusDate(this.maxDate):this.focusDate(this.minDate):this._focusClosestDate(e)}_moveFocusByMonths(t){const e=this.focusedDate,i=new Date(0,0);i.setFullYear(e.getFullYear()),i.setMonth(e.getMonth()+t);const n=i.getMonth();i.setDate(this._focusedMonthDate||(this._focusedMonthDate=e.getDate())),i.getMonth()!==n&&i.setDate(0),this._dateAllowed(i,this.minDate,this.maxDate)?this.focusDate(i,!0):this._dateAllowed(e,this.minDate,this.maxDate)?t>0?this.focusDate(this.maxDate):this.focusDate(this.minDate):this._focusClosestDate(e)}_moveFocusInsideMonth(t,e){const i=new Date(0,0);i.setFullYear(t.getFullYear()),e==="minDate"?(i.setMonth(t.getMonth()),i.setDate(1)):(i.setMonth(t.getMonth()+1),i.setDate(0)),this._dateAllowed(i,this.minDate,this.maxDate)?this.focusDate(i):this._dateAllowed(t,this.minDate,this.maxDate)?this.focusDate(this[e]):this._focusClosestDate(t)}_dateAllowed(t,e,i){return(!e||t>=e)&&(!i||t<=i)}_isTodayAllowed(t,e){const i=new Date,n=new Date(0,0);return n.setFullYear(i.getFullYear()),n.setMonth(i.getMonth()),n.setDate(i.getDate()),this._dateAllowed(n,t,e)}}customElements.define(nf.is,nf);/**
 * @license
 * Copyright (c) 2016 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const dx=r=>class extends He(qa(Nb(Gr(r)))){static get properties(){return{_selectedDate:{type:Date},_focusedDate:Date,value:{type:String,notify:!0,value:""},initialPosition:String,opened:{type:Boolean,reflectToAttribute:!0,notify:!0,observer:"_openedChanged"},autoOpenDisabled:Boolean,showWeekNumbers:{type:Boolean},_fullscreen:{type:Boolean,value:!1},_fullscreenMediaQuery:{value:"(max-width: 420px), (max-height: 420px)"},i18n:{type:Object,value:()=>({monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],firstDayOfWeek:0,week:"Week",calendar:"Calendar",today:"Today",cancel:"Cancel",referenceDate:"",formatDate(e){const i=String(e.year).replace(/\d+/,n=>"0000".substr(n.length)+n);return[e.month+1,e.day,i].join("/")},parseDate(e){const i=e.split("/"),n=new Date;let s,o=n.getMonth(),a=n.getFullYear();if(i.length===3){if(o=parseInt(i[0])-1,s=parseInt(i[1]),a=parseInt(i[2]),i[2].length<3&&a>=0){const l=this.referenceDate?Ni(this.referenceDate):new Date;a=cx(l,a,o,s)}}else i.length===2?(o=parseInt(i[0])-1,s=parseInt(i[1])):i.length===1&&(s=parseInt(i[0]));if(s!==void 0)return{day:s,month:o,year:a}},formatTitle:(e,i)=>`${e} ${i}`})},min:{type:String},max:{type:String},_minDate:{type:Date,computed:"__computeMinOrMaxDate(min)"},_maxDate:{type:Date,computed:"__computeMinOrMaxDate(max)"},_noInput:{type:Boolean,computed:"_isNoInput(inputElement, _fullscreen, _ios, i18n, opened, autoOpenDisabled)"},_ios:{type:Boolean,value:Ln},_focusOverlayOnOpen:Boolean,_overlayInitialized:Boolean}}static get observers(){return["_selectedDateChanged(_selectedDate, i18n.formatDate)","_focusedDateChanged(_focusedDate, i18n.formatDate)"]}static get constraints(){return[...super.constraints,"min","max"]}get clearElement(){return null}get _inputValue(){return this.inputElement?this.inputElement.value:void 0}set _inputValue(e){this.inputElement&&(this.inputElement.value=e)}get _nativeInput(){return this.inputElement?this.inputElement.focusElement||this.inputElement:null}constructor(){super(),this._boundOnClick=this._onClick.bind(this),this._boundOnScroll=this._onScroll.bind(this)}_onFocus(e){super._onFocus(e),this._noInput&&e.target.blur()}_onBlur(e){super._onBlur(e),this.opened||(this.autoOpenDisabled&&this._selectParsedOrFocusedDate(),this.validate(),this._inputValue===""&&this.value!==""&&(this.value=""))}ready(){super.ready(),this.addEventListener("click",this._boundOnClick),this.addController(new al(this._fullscreenMediaQuery,e=>{this._fullscreen=e})),this.addController(new Uv(this))}disconnectedCallback(){super.disconnectedCallback(),this.opened=!1}_propertiesChanged(e,i,n){super._propertiesChanged(e,i,n),"value"in i&&this.__dispatchChange&&(this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.__dispatchChange=!1)}open(){!this.disabled&&!this.readonly&&(this.opened=!0)}close(){(this._overlayInitialized||this.autoOpenDisabled)&&this.$.overlay.close()}_initOverlay(){this.$.overlay.removeAttribute("disable-upgrade"),this._overlayInitialized=!0,this.$.overlay.addEventListener("opened-changed",e=>{this.opened=e.detail.value}),this.$.overlay.addEventListener("vaadin-overlay-escape-press",()=>{this._focusedDate=this._selectedDate,this._close()}),this._overlayContent.addEventListener("close",()=>{this._close()}),this._overlayContent.addEventListener("focus-input",this._focusAndSelect.bind(this)),this._overlayContent.addEventListener("date-tap",e=>{this.__userConfirmedDate=!0,this._selectDate(e.detail.date),this._close()}),this._overlayContent.addEventListener("date-selected",e=>{this.__userConfirmedDate=!0,this._selectDate(e.detail.date)}),this._overlayContent.addEventListener("focusin",()=>{this._keyboardActive&&this._setFocused(!0)}),this.addEventListener("mousedown",()=>this.__bringToFront()),this.addEventListener("touchstart",()=>this.__bringToFront())}checkValidity(){const e=!this._inputValue||!!this._selectedDate&&this._inputValue===this._getFormattedDate(this.i18n.formatDate,this._selectedDate),i=!this._selectedDate||Pn(this._selectedDate,this._minDate,this._maxDate);let n=!0;return this.inputElement&&(this.inputElement.checkValidity?n=this.inputElement.checkValidity():this.inputElement.validate&&(n=this.inputElement.validate())),e&&i&&n}_shouldSetFocus(e){return!this._shouldKeepFocusRing}_shouldRemoveFocus(e){return!this.opened}_setFocused(e){super._setFocused(e),this._shouldKeepFocusRing=e&&this._keyboardActive}_selectDate(e){const i=this._formatISO(e);this.value!==i&&(this.__dispatchChange=!0),this._selectedDate=e}_close(){this._focus(),this.close()}__bringToFront(){requestAnimationFrame(()=>{this.$.overlay.bringToFront()})}_isNoInput(e,i,n,s,o,a){return!e||i&&(!a||o)||n&&o||!s.parseDate}_formatISO(e){if(!(e instanceof Date))return"";const i=(u,c="00")=>(c+u).substr((c+u).length-c.length);let n="",s="0000",o=e.getFullYear();o<0?(o=-o,n="-",s="000000"):e.getFullYear()>=1e4&&(n="+",s="000000");const a=n+i(o,s),l=i(e.getMonth()+1),h=i(e.getDate());return[a,l,h].join("-")}_inputElementChanged(e){super._inputElementChanged(e),e&&(e.autocomplete="off",e.setAttribute("role","combobox"),e.setAttribute("aria-haspopup","dialog"),e.setAttribute("aria-expanded",!!this.opened),this._applyInputValue(this._selectedDate))}_openedChanged(e){e&&!this._overlayInitialized&&this._initOverlay(),this._overlayInitialized&&(this.$.overlay.opened=e),this.inputElement&&this.inputElement.setAttribute("aria-expanded",e)}_selectedDateChanged(e,i){if(e===void 0||i===void 0)return;const n=this._formatISO(e);this.__keepInputValue||this._applyInputValue(e),n!==this.value&&(this.validate(),this.value=n),this._ignoreFocusedDateChange=!0,this._focusedDate=e,this._ignoreFocusedDateChange=!1}_focusedDateChanged(e,i){e===void 0||i===void 0||!this._ignoreFocusedDateChange&&!this._noInput&&this._applyInputValue(e)}__getOverlayTheme(e,i){if(i)return e}_valueChanged(e,i){const n=Ni(e);if(e&&!n){this.value=i;return}e?nt(this._selectedDate,n)||(this._selectedDate=n,i!==void 0&&this.validate()):this._selectedDate=null,this._toggleHasValue(this._hasValue)}_onOverlayOpened(){const e=Ni(this.initialPosition),i=this._selectedDate||this._overlayContent.initialPosition||e||new Date;e||Pn(i,this._minDate,this._maxDate)?this._overlayContent.initialPosition=i:this._overlayContent.initialPosition=Xv(i,[this._minDate,this._maxDate]),this._overlayContent.scrollToDate(this._overlayContent.focusedDate||this._overlayContent.initialPosition),this._ignoreFocusedDateChange=!0,this._overlayContent.focusedDate=this._overlayContent.focusedDate||this._overlayContent.initialPosition,this._ignoreFocusedDateChange=!1,window.addEventListener("scroll",this._boundOnScroll,!0),this._focusOverlayOnOpen?(this._overlayContent.focusDateElement(),this._focusOverlayOnOpen=!1):this._focus(),this._noInput&&this.focusElement&&(this.focusElement.blur(),this._overlayContent.focusDateElement())}_selectParsedOrFocusedDate(){if(this._ignoreFocusedDateChange=!0,this.i18n.parseDate){const e=this._inputValue||"",i=this._getParsedDate(e);this._isValidDate(i)?this._selectDate(i):(this.__keepInputValue=!0,this._selectDate(null),this._selectedDate=null,this.__keepInputValue=!1)}else this._focusedDate&&this._selectDate(this._focusedDate);this._ignoreFocusedDateChange=!1}_onOverlayClosed(){window.removeEventListener("scroll",this._boundOnScroll,!0),this.__userConfirmedDate?this.__userConfirmedDate=!1:this._selectParsedOrFocusedDate(),this._nativeInput&&this._nativeInput.selectionStart&&(this._nativeInput.selectionStart=this._nativeInput.selectionEnd),this.value||this.validate()}_onScroll(e){(e.target===window||!this._overlayContent.contains(e.target))&&this._overlayContent._repositionYearScroller()}_focus(){this._noInput||this.inputElement.focus()}_focusAndSelect(){this._focus(),this._setSelectionRange(0,this._inputValue.length)}_applyInputValue(e){this._inputValue=e?this._getFormattedDate(this.i18n.formatDate,e):""}_getFormattedDate(e,i){return e(cc(i))}_setSelectionRange(e,i){this._nativeInput&&this._nativeInput.setSelectionRange&&this._nativeInput.setSelectionRange(e,i)}_isValidDate(e){return e&&!isNaN(e.getTime())}_onChange(e){this._inputValue===""&&(this.__dispatchChange=!0),e.stopPropagation()}_onClick(e){this._isClearButton(e)||this._onHostClick(e)}_onHostClick(e){(!this.autoOpenDisabled||this._noInput)&&(e.preventDefault(),this.open())}_onClearButtonClick(e){e.preventDefault(),this.value="",this._inputValue="",this.validate(),this.dispatchEvent(new CustomEvent("change",{bubbles:!0}))}_onKeyDown(e){switch(super._onKeyDown(e),this._noInput&&[9].indexOf(e.keyCode)===-1&&e.preventDefault(),e.key){case"ArrowDown":case"ArrowUp":e.preventDefault(),this.opened?this._overlayContent.focusDateElement():(this._focusOverlayOnOpen=!0,this.open());break;case"Tab":this.opened&&(e.preventDefault(),e.stopPropagation(),this._setSelectionRange(0,0),e.shiftKey?this._overlayContent.focusCancel():this._overlayContent.focusDateElement());break}}_onEnter(e){const i=this.value;this.opened?this.close():this._selectParsedOrFocusedDate(),i===this.value&&this.validate()}_onEscape(e){if(!this.opened){if(this.clearButtonVisible&&!!this.value){e.stopPropagation(),this._onClearButtonClick(e);return}this.autoOpenDisabled?(this.inputElement.value===""&&this._selectDate(null),this._applyInputValue(this._selectedDate)):(this._focusedDate=this._selectedDate,this._selectParsedOrFocusedDate())}}_getParsedDate(e=this._inputValue){const i=this.i18n.parseDate&&this.i18n.parseDate(e);return i&&Ni(`${i.year}-${i.month+1}-${i.day}`)}_isClearButton(e){return e.composedPath()[0]===this.clearElement}_onInput(){!this.opened&&this.inputElement.value&&!this.autoOpenDisabled&&this.open(),this._userInputValueChanged()}_userInputValueChanged(){if(this._inputValue){const e=this._getParsedDate();this._isValidDate(e)&&(this._ignoreFocusedDateChange=!0,nt(e,this._focusedDate)||(this._focusedDate=e),this._ignoreFocusedDateChange=!1)}}get _overlayContent(){return this.$.overlay.content.querySelector("#overlay-content")}__computeMinOrMaxDate(e){return Ni(e)}};/**
 * @license
 * Copyright (c) 2016 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */R("vaadin-date-picker",[Ji,lx],{moduleId:"vaadin-date-picker-styles"});class _h extends dx(el(j(re(W)))){static get is(){return"vaadin-date-picker"}static get template(){return H`
      <style>
        :host([opened]) {
          pointer-events: auto;
        }
      </style>

      <div class="vaadin-date-picker-container">
        <div part="label">
          <slot name="label"></slot>
          <span part="required-indicator" aria-hidden="true" on-click="focus"></span>
        </div>

        <vaadin-input-container
          part="input-field"
          readonly="[[readonly]]"
          disabled="[[disabled]]"
          invalid="[[invalid]]"
          theme$="[[_theme]]"
        >
          <slot name="prefix" slot="prefix"></slot>
          <slot name="input"></slot>
          <div id="clearButton" part="clear-button" slot="suffix" aria-hidden="true"></div>
          <div part="toggle-button" slot="suffix" aria-hidden="true" on-click="_toggle"></div>
        </vaadin-input-container>

        <div part="helper-text">
          <slot name="helper"></slot>
        </div>

        <div part="error-message">
          <slot name="error-message"></slot>
        </div>
      </div>

      <vaadin-date-picker-overlay
        id="overlay"
        fullscreen$="[[_fullscreen]]"
        theme$="[[__getOverlayTheme(_theme, _overlayInitialized)]]"
        on-vaadin-overlay-open="_onOverlayOpened"
        on-vaadin-overlay-closing="_onOverlayClosed"
        restore-focus-on-close
        restore-focus-node="[[inputElement]]"
        disable-upgrade
      >
        <template>
          <vaadin-date-picker-overlay-content
            id="overlay-content"
            i18n="[[i18n]]"
            fullscreen$="[[_fullscreen]]"
            label="[[label]]"
            selected-date="[[_selectedDate]]"
            focused-date="{{_focusedDate}}"
            show-week-numbers="[[showWeekNumbers]]"
            min-date="[[_minDate]]"
            max-date="[[_maxDate]]"
            part="overlay-content"
            theme$="[[__getOverlayTheme(_theme, _overlayInitialized)]]"
          ></vaadin-date-picker-overlay-content>
        </template>
      </vaadin-date-picker-overlay>

      <slot name="tooltip"></slot>
    `}get clearElement(){return this.$.clearButton}ready(){super.ready(),this.addController(new Wr(this,e=>{this._setInputElement(e),this._setFocusElement(e),this.stateTarget=e,this.ariaTarget=e})),this.addController(new Qi(this.inputElement,this._labelController)),this._tooltipController=new ke(this),this.addController(this._tooltipController),this._tooltipController.setPosition("top"),this._tooltipController.setShouldShow(e=>!e.opened),this.shadowRoot.querySelector('[part="toggle-button"]').addEventListener("mousedown",e=>e.preventDefault())}_initOverlay(){super._initOverlay(),this.$.overlay.addEventListener("vaadin-overlay-close",this._onVaadinOverlayClose.bind(this))}_onVaadinOverlayClose(t){t.detail.sourceEvent&&t.detail.sourceEvent.composedPath().includes(this)&&t.preventDefault()}_toggle(t){t.stopPropagation(),this[this._overlayInitialized&&this.$.overlay.opened?"close":"open"]()}_openedChanged(t){super._openedChanged(t),this.$.overlay.positionTarget=this.shadowRoot.querySelector('[part="input-field"]'),this.$.overlay.noVerticalOverlap=!0}}customElements.define(_h.is,_h);/**
 * @license
 * Copyright (c) 2018 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const fx=k`
  [part~='toggle-button']::before {
    content: var(--lumo-icons-clock);
  }

  :host([dir='rtl']) [part='input-field'] ::slotted(input:placeholder-shown) {
    --_lumo-text-field-overflow-mask-image: none;
  }

  :host([dir='rtl']) [part='input-field'] ::slotted(input) {
    --_lumo-text-field-overflow-mask-image: linear-gradient(to left, transparent, #000 1.25em);
  }
`;R("vaadin-time-picker",[Xt,fx],{moduleId:"lumo-time-picker"});/**
 * @license
 * Copyright (c) 2018 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class sf extends Wo{static get is(){return"vaadin-time-picker-item"}}customElements.define(sf.is,sf);/**
 * @license
 * Copyright (c) 2018 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class of extends jo{static get is(){return"vaadin-time-picker-scroller"}}customElements.define(of.is,of);/**
 * @license
 * Copyright (c) 2018 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */R("vaadin-time-picker-overlay",k`
    #overlay {
      width: var(--vaadin-time-picker-overlay-width, var(--_vaadin-time-picker-overlay-default-width, auto));
    }
  `,{moduleId:"vaadin-time-picker-overlay-styles"});class af extends Yo{static get is(){return"vaadin-time-picker-overlay"}}customElements.define(af.is,af);/**
 * @license
 * Copyright (c) 2018 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class lf extends uc(j(W)){static get is(){return"vaadin-time-picker-combo-box"}static get template(){return H`
      <style>
        :host([opened]) {
          pointer-events: auto;
        }
      </style>

      <slot></slot>

      <vaadin-time-picker-overlay
        id="overlay"
        opened="[[_overlayOpened]]"
        loading$="[[loading]]"
        theme$="[[_theme]]"
        position-target="[[positionTarget]]"
        no-vertical-overlap
        restore-focus-node="[[inputElement]]"
      ></vaadin-time-picker-overlay>
    `}static get properties(){return{positionTarget:{type:Object}}}get _tagNamePrefix(){return"vaadin-time-picker"}get clearElement(){return this.querySelector('[part="clear-button"]')}ready(){super.ready(),this.allowCustomValue=!0,this._toggleElement=this.querySelector(".toggle-button"),this.setAttribute("dir","ltr")}}customElements.define(lf.is,lf);/**
 * @license
 * Copyright (c) 2018 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const hf="00:00:00.000",uf="23:59:59.999";R("vaadin-time-picker",Ji,{moduleId:"vaadin-time-picker-styles"});class Dr extends Ju(el(j(re(W)))){static get is(){return"vaadin-time-picker"}static get template(){return H`
      <style>
        /* See https://github.com/vaadin/vaadin-time-picker/issues/145 */
        :host([dir='rtl']) [part='input-field'] {
          direction: ltr;
        }

        :host([dir='rtl']) [part='input-field'] ::slotted(input)::placeholder {
          direction: rtl;
          text-align: left;
        }

        [part~='toggle-button'] {
          cursor: pointer;
        }
      </style>

      <div class="vaadin-time-picker-container">
        <div part="label">
          <slot name="label"></slot>
          <span part="required-indicator" aria-hidden="true" on-click="focus"></span>
        </div>

        <vaadin-time-picker-combo-box
          id="comboBox"
          filtered-items="[[__dropdownItems]]"
          value="{{_comboBoxValue}}"
          opened="{{opened}}"
          disabled="[[disabled]]"
          readonly="[[readonly]]"
          clear-button-visible="[[clearButtonVisible]]"
          auto-open-disabled="[[autoOpenDisabled]]"
          position-target="[[_inputContainer]]"
          theme$="[[_theme]]"
          on-change="__onComboBoxChange"
        >
          <vaadin-input-container
            part="input-field"
            readonly="[[readonly]]"
            disabled="[[disabled]]"
            invalid="[[invalid]]"
            theme$="[[_theme]]"
          >
            <slot name="prefix" slot="prefix"></slot>
            <slot name="input"></slot>
            <div id="clearButton" part="clear-button" slot="suffix" aria-hidden="true"></div>
            <div id="toggleButton" class="toggle-button" part="toggle-button" slot="suffix" aria-hidden="true"></div>
          </vaadin-input-container>
        </vaadin-time-picker-combo-box>

        <div part="helper-text">
          <slot name="helper"></slot>
        </div>

        <div part="error-message">
          <slot name="error-message"></slot>
        </div>
      </div>
      <slot name="tooltip"></slot>
    `}static get properties(){return{value:{type:String,notify:!0,value:""},opened:{type:Boolean,notify:!0,value:!1,reflectToAttribute:!0},min:{type:String,value:""},max:{type:String,value:""},step:{type:Number},autoOpenDisabled:Boolean,__dropdownItems:{type:Array},i18n:{type:Object,value:()=>({formatTime:t=>{if(!t)return;const e=(n=0,s="00")=>(s+n).substr((s+n).length-s.length);let i=`${e(t.hours)}:${e(t.minutes)}`;return t.seconds!==void 0&&(i+=`:${e(t.seconds)}`),t.milliseconds!==void 0&&(i+=`.${e(t.milliseconds,"000")}`),i},parseTime:t=>{const e="(\\d|[0-1]\\d|2[0-3])",i="(\\d|[0-5]\\d)",n=i,s="(\\d{1,3})",a=new RegExp(`^${e}(?::${i}(?::${n}(?:\\.${s})?)?)?$`).exec(t);if(a){if(a[4])for(;a[4].length<3;)a[4]+="0";return{hours:a[1],minutes:a[2],seconds:a[3],milliseconds:a[4]}}}})},_comboBoxValue:{type:String,observer:"__comboBoxValueChanged"},_inputContainer:Object}}static get observers(){return["__updateDropdownItems(i18n.*, min, max, step)"]}static get constraints(){return[...super.constraints,"min","max"]}get clearElement(){return this.$.clearButton}ready(){super.ready(),this.addController(new Wr(this,t=>{this._setInputElement(t),this._setFocusElement(t),this.stateTarget=t,this.ariaTarget=t})),this.addController(new Qi(this.inputElement,this._labelController)),this._inputContainer=this.shadowRoot.querySelector('[part~="input-field"]'),this._tooltipController=new ke(this),this._tooltipController.setShouldShow(t=>!t.opened),this._tooltipController.setPosition("top"),this.addController(this._tooltipController)}_inputElementChanged(t){super._inputElementChanged(t),t&&this.$.comboBox._setInputElement(t)}open(){!this.disabled&&!this.readonly&&(this.opened=!0)}close(){this.opened=!1}checkValidity(){return!!(this.inputElement.checkValidity()&&(!this.value||this._timeAllowed(this.i18n.parseTime(this.value)))&&(!this._comboBoxValue||this.i18n.parseTime(this._comboBoxValue)))}_setFocused(t){super._setFocused(t),t||this.validate()}__validDayDivisor(t){return!t||24*3600%t===0||t<1&&t%1*1e3%1===0}_onKeyDown(t){if(super._onKeyDown(t),this.readonly||this.disabled||this.__dropdownItems.length)return;const e=this.__validDayDivisor(this.step)&&this.step||60;t.keyCode===40?this.__onArrowPressWithStep(-e):t.keyCode===38&&this.__onArrowPressWithStep(e)}_onEscape(){}__onArrowPressWithStep(t){const e=this.__addStep(this.__getMsec(this.__memoValue),t,!0);this.__memoValue=e,this.inputElement.value=this.i18n.formatTime(this.__validateTime(e)),this.__dispatchChange()}__dispatchChange(){this.dispatchEvent(new CustomEvent("change",{bubbles:!0}))}__getMsec(t){let e=(t&&t.hours||0)*60*60*1e3;return e+=(t&&t.minutes||0)*60*1e3,e+=(t&&t.seconds||0)*1e3,e+=t&&parseInt(t.milliseconds)||0,e}__getSec(t){let e=(t&&t.hours||0)*60*60;return e+=(t&&t.minutes||0)*60,e+=t&&t.seconds||0,e+=t&&t.milliseconds/1e3||0,e}__addStep(t,e,i){t===0&&e<0&&(t=24*60*60*1e3);const n=e*1e3,s=t%n;n<0&&s&&i?t-=s:n>0&&s&&i?t-=s-n:t+=n;const o=Math.floor(t/1e3/60/60);t-=o*1e3*60*60;const a=Math.floor(t/1e3/60);t-=a*1e3*60;const l=Math.floor(t/1e3);return t-=l*1e3,{hours:o<24?o:0,minutes:a,seconds:l,milliseconds:t}}__updateDropdownItems(t,e,i,n){const s=this.__validateTime(this.__parseISO(e||hf)),o=this.__getSec(s),a=this.__validateTime(this.__parseISO(i||uf)),l=this.__getSec(a);if(this.__adjustValue(o,l,s,a),this.__dropdownItems=this.__generateDropdownList(o,l,n),n!==this.__oldStep){this.__oldStep=n;const h=this.__validateTime(this.__parseISO(this.value));this.__updateValue(h)}this.value&&(this._comboBoxValue=this.i18n.formatTime(this.i18n.parseTime(this.value)))}__generateDropdownList(t,e,i){if(i<15*60||!this.__validDayDivisor(i))return[];const n=[];i=i||3600;let s=-i+t;for(;s+i>=t&&s+i<=e;){const o=this.__validateTime(this.__addStep(s*1e3,i));s+=i;const a=this.i18n.formatTime(o);n.push({label:a,value:a})}return n}__adjustValue(t,e,i,n){if(!this.__memoValue)return;const s=this.__getSec(this.__memoValue);s<t?this.__updateValue(i):s>e&&this.__updateValue(n)}_valueChanged(t,e){const i=this.__memoValue=this.__parseISO(t),n=this.__formatISO(i)||"";t!==""&&t!==null&&!i?this.value=e===void 0?"":e:t!==n?this.value=n:this.__keepInvalidInput?delete this.__keepInvalidInput:this.__updateInputValue(i),this._toggleHasValue(this._hasValue)}__comboBoxValueChanged(t,e){if(t===""&&e===void 0)return;const i=this.i18n.parseTime(t),n=this.i18n.formatTime(i)||"";i?t!==n?this._comboBoxValue=n:this.__updateValue(i):(t!==""&&(this.__keepInvalidInput=!0),this.value="")}__onComboBoxChange(t){t.stopPropagation(),this.validate(),this.__dispatchChange()}__updateValue(t){const e=this.__formatISO(this.__validateTime(t))||"";this.value=e}__updateInputValue(t){const e=this.i18n.formatTime(this.__validateTime(t))||"";this._comboBoxValue=e}__validateTime(t){return t&&(t.hours=parseInt(t.hours),t.minutes=parseInt(t.minutes||0),t.seconds=this.__stepSegment<3?void 0:parseInt(t.seconds||0),t.milliseconds=this.__stepSegment<4?void 0:parseInt(t.milliseconds||0)),t}get __stepSegment(){if(this.step%3600===0)return 1;if(this.step%60===0||!this.step)return 2;if(this.step%1===0)return 3;if(this.step<1)return 4}__formatISO(t){return Dr.properties.i18n.value().formatTime(t)}__parseISO(t){return Dr.properties.i18n.value().parseTime(t)}_timeAllowed(t){const e=this.i18n.parseTime(this.min||hf),i=this.i18n.parseTime(this.max||uf);return(!this.__getMsec(e)||this.__getMsec(t)>=this.__getMsec(e))&&(!this.__getMsec(i)||this.__getMsec(t)<=this.__getMsec(i))}_onClearButtonClick(){}_onChange(){}_onInput(){this._checkInputValue()}}customElements.define(Dr.is,Dr);R("vaadin-date-time-picker",[Qa,Ja,jv],{moduleId:"lumo-date-time-picker"});R("vaadin-date-time-picker-date-picker",k`
    :host {
      margin-right: 2px;
    }

    /* RTL specific styles */
    :host([dir='rtl']) {
      margin-right: auto;
      margin-left: 2px;
    }

    [part~='input-field'] {
      border-top-right-radius: 0;
      border-bottom-right-radius: 0;
    }

    /* RTL specific styles */
    :host([dir='rtl']) [part~='input-field'] {
      border-radius: var(--lumo-border-radius-m);
      border-top-left-radius: 0;
      border-bottom-left-radius: 0;
    }
  `,{moduleId:"lumo-date-time-picker-date-picker"});R("vaadin-date-time-picker-time-picker",k`
    [part~='input-field'] {
      border-top-left-radius: 0;
      border-bottom-left-radius: 0;
    }

    /* RTL specific styles */
    :host([dir='rtl']) [part~='input-field'] {
      border-radius: var(--lumo-border-radius-m);
      border-top-right-radius: 0;
      border-bottom-right-radius: 0;
    }
  `,{moduleId:"lumo-date-time-picker-time-picker"});/**
 * @license
 * Copyright (c) 2019 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class cf extends _h{static get is(){return"vaadin-date-time-picker-date-picker"}}customElements.define(cf.is,cf);/**
 * @license
 * Copyright (c) 2019 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class df extends Dr{static get is(){return"vaadin-date-time-picker-time-picker"}}customElements.define(df.is,df);/**
 * @license
 * Copyright (c) 2019 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */R("vaadin-date-time-picker",Ji,{moduleId:"vaadin-date-time-picker"});function Kv(r,t){for(;r;){if(r.properties&&r.properties[t])return r.properties[t];r=Object.getPrototypeOf(r)}}const Zv=customElements.get("vaadin-date-time-picker-date-picker"),px=customElements.get("vaadin-date-time-picker-time-picker"),Qv=Kv(Zv,"i18n").value(),Ws=Kv(px,"i18n").value(),ff=Object.keys(Qv),pf=Object.keys(Ws);class _f extends ts(Yv(is(Et(j(re(W)))))){static get template(){return H`
      <style>
        .vaadin-date-time-picker-container {
          --vaadin-field-default-width: auto;
        }

        .slots {
          display: flex;
          --vaadin-field-default-width: 12em;
        }

        .slots ::slotted([slot='date-picker']) {
          min-width: 0;
          flex: 1 1 auto;
        }

        .slots ::slotted([slot='time-picker']) {
          min-width: 0;
          flex: 1 1.65 auto;
        }
      </style>

      <div class="vaadin-date-time-picker-container">
        <div part="label" on-click="focus">
          <slot name="label"></slot>
          <span part="required-indicator" aria-hidden="true"></span>
        </div>

        <div class="slots">
          <slot name="date-picker" id="dateSlot"></slot>
          <slot name="time-picker" id="timeSlot"></slot>
        </div>

        <div part="helper-text">
          <slot name="helper"></slot>
        </div>

        <div part="error-message">
          <slot name="error-message"></slot>
        </div>
      </div>

      <slot name="tooltip"></slot>
    `}static get is(){return"vaadin-date-time-picker"}static get properties(){return{name:{type:String},value:{type:String,notify:!0,value:"",observer:"__valueChanged"},min:{type:String,observer:"__minChanged"},max:{type:String,observer:"__maxChanged"},__minDateTime:{type:Date,value:""},__maxDateTime:{type:Date,value:""},datePlaceholder:{type:String},timePlaceholder:{type:String},step:{type:Number},initialPosition:String,showWeekNumbers:{type:Boolean},autoOpenDisabled:Boolean,readonly:{type:Boolean,value:!1,reflectToAttribute:!0},autofocus:{type:Boolean},__selectedDateTime:{type:Date},i18n:{type:Object,value:()=>({...Qv,...Ws})},__datePicker:{type:HTMLElement,observer:"__datePickerChanged"},__timePicker:{type:HTMLElement,observer:"__timePickerChanged"}}}static get observers(){return["__selectedDateTimeChanged(__selectedDateTime)","__datePlaceholderChanged(datePlaceholder)","__timePlaceholderChanged(timePlaceholder)","__stepChanged(step)","__initialPositionChanged(initialPosition)","__showWeekNumbersChanged(showWeekNumbers)","__requiredChanged(required)","__invalidChanged(invalid)","__disabledChanged(disabled)","__readonlyChanged(readonly)","__i18nChanged(i18n.*)","__autoOpenDisabledChanged(autoOpenDisabled)","__themeChanged(_theme, __datePicker, __timePicker)","__pickersChanged(__datePicker, __timePicker)"]}get slots(){return{...super.slots,"date-picker":()=>{const t=document.createElement("vaadin-date-time-picker-date-picker");return t.__defaultPicker=!0,t},"time-picker":()=>{const t=document.createElement("vaadin-date-time-picker-time-picker");return t.__defaultPicker=!0,t}}}constructor(){super(),this.__defaultDateMinMaxValue=void 0,this.__defaultTimeMinValue="00:00:00.000",this.__defaultTimeMaxValue="23:59:59.999",this.__changeEventHandler=this.__changeEventHandler.bind(this),this.__valueChangedEventHandler=this.__valueChangedEventHandler.bind(this),this._observer=new Ce(this,t=>{this.__onDomChange(t.addedNodes)})}ready(){super.ready(),this.__datePicker=this._getDirectSlotChild("date-picker"),this.__timePicker=this._getDirectSlotChild("time-picker"),this.autofocus&&!this.disabled&&window.requestAnimationFrame(()=>this.focus()),this.setAttribute("role","group"),this._tooltipController=new ke(this),this.addController(this._tooltipController),this._tooltipController.setPosition("top"),this._tooltipController.setShouldShow(t=>t.__datePicker&&!t.__datePicker.opened&&t.__timePicker&&!t.__timePicker.opened),this.ariaTarget=this}focus(){this.__datePicker.focus()}_setFocused(t){super._setFocused(t),t||this.validate()}_shouldRemoveFocus(t){const e=t.relatedTarget;return!(this.__datePicker.contains(e)||this.__timePicker.contains(e)||e===this.__datePicker.$.overlay)}__syncI18n(t,e,i){i=i||Object.keys(e.i18n),i.forEach(n=>{e.i18n&&e.i18n.hasOwnProperty(n)&&t.set(`i18n.${n}`,e.i18n[n])})}__changeEventHandler(t){t.stopPropagation(),this.__dispatchChangeForValue===this.value&&(this.__dispatchChange(),this.validate()),this.__dispatchChangeForValue=void 0}__addInputListeners(t){t.addEventListener("change",this.__changeEventHandler),t.addEventListener("value-changed",this.__valueChangedEventHandler)}__removeInputListeners(t){t.removeEventListener("change",this.__changeEventHandler),t.removeEventListener("value-changed",this.__valueChangedEventHandler)}__onDomChange(t){t.filter(e=>e.nodeType===Node.ELEMENT_NODE).forEach(e=>{const i=e.getAttribute("slot");i==="date-picker"?this.__datePicker=e:i==="time-picker"&&(this.__timePicker=e)}),this.value&&(this.min||this.max)&&this.validate()}__datePickerChanged(t,e){!t||(e&&(this.__removeInputListeners(e),e.remove()),this.__addInputListeners(t),t.__defaultPicker?(t.placeholder=this.datePlaceholder,t.invalid=this.invalid,t.initialPosition=this.initialPosition,t.showWeekNumbers=this.showWeekNumbers,this.__syncI18n(t,this,ff)):(this.datePlaceholder=t.placeholder,this.initialPosition=t.initialPosition,this.showWeekNumbers=t.showWeekNumbers,this.__syncI18n(this,t,ff)),t.min=this.__formatDateISO(this.__minDateTime,this.__defaultDateMinMaxValue),t.max=this.__formatDateISO(this.__maxDateTime,this.__defaultDateMinMaxValue),t.required=this.required,t.disabled=this.disabled,t.readonly=this.readonly,t.autoOpenDisabled=this.autoOpenDisabled,t.validate=()=>{},t._validateInput=()=>{})}__timePickerChanged(t,e){!t||(e&&(this.__removeInputListeners(e),e.remove()),this.__addInputListeners(t),t.__defaultPicker?(t.placeholder=this.timePlaceholder,t.step=this.step,t.invalid=this.invalid,this.__syncI18n(t,this,pf)):(this.timePlaceholder=t.placeholder,this.step=t.step,this.__syncI18n(this,t,pf)),this.__updateTimePickerMinMax(),t.required=this.required,t.disabled=this.disabled,t.readonly=this.readonly,t.autoOpenDisabled=this.autoOpenDisabled,t.validate=()=>{})}__updateTimePickerMinMax(){if(this.__timePicker&&this.__datePicker){const t=this.__parseDate(this.__datePicker.value),e=nt(this.__minDateTime,this.__maxDateTime),i=this.__timePicker.value;this.__minDateTime&&nt(t,this.__minDateTime)||e?this.__timePicker.min=this.__dateToIsoTimeString(this.__minDateTime):this.__timePicker.min=this.__defaultTimeMinValue,this.__maxDateTime&&nt(t,this.__maxDateTime)||e?this.__timePicker.max=this.__dateToIsoTimeString(this.__maxDateTime):this.__timePicker.max=this.__defaultTimeMaxValue,this.__timePicker.value!==i&&(this.__timePicker.value=i)}}__i18nChanged(t){this.__datePicker&&this.__datePicker.set(t.path,t.value),this.__timePicker&&this.__timePicker.set(t.path,t.value)}__datePlaceholderChanged(t){this.__datePicker&&(this.__datePicker.placeholder=t)}__timePlaceholderChanged(t){this.__timePicker&&(this.__timePicker.placeholder=t)}__stepChanged(t){this.__timePicker&&this.__timePicker.step!==t&&(this.__timePicker.step=t)}__initialPositionChanged(t){this.__datePicker&&(this.__datePicker.initialPosition=t)}__showWeekNumbersChanged(t){this.__datePicker&&(this.__datePicker.showWeekNumbers=t)}__invalidChanged(t){this.__datePicker&&(this.__datePicker.invalid=t),this.__timePicker&&(this.__timePicker.invalid=t)}__requiredChanged(t){this.__datePicker&&(this.__datePicker.required=t),this.__timePicker&&(this.__timePicker.required=t)}__disabledChanged(t){this.__datePicker&&(this.__datePicker.disabled=t),this.__timePicker&&(this.__timePicker.disabled=t)}__readonlyChanged(t){this.__datePicker&&(this.__datePicker.readonly=t),this.__timePicker&&(this.__timePicker.readonly=t)}__parseDate(t){return Ni(t)}__formatDateISO(t,e){return t?Zv.prototype._formatISO(t):e}__formatTimeISO(t){return Ws.formatTime(t)}__parseTimeISO(t){return Ws.parseTime(t)}__parseDateTime(t){const[e,i]=t.split("T");if(!(e&&i))return;const n=this.__parseDate(e);if(!n)return;const s=this.__parseTimeISO(i);if(!!s)return n.setHours(parseInt(s.hours)),n.setMinutes(parseInt(s.minutes||0)),n.setSeconds(parseInt(s.seconds||0)),n.setMilliseconds(parseInt(s.milliseconds||0)),n}__formatDateTime(t){if(!t)return"";const e=this.__formatDateISO(t,""),i=this.__dateToIsoTimeString(t);return`${e}T${i}`}__dateToIsoTimeString(t){return this.__formatTimeISO(this.__validateTime({hours:t.getHours(),minutes:t.getMinutes(),seconds:t.getSeconds(),milliseconds:t.getMilliseconds()}))}__validateTime(t){return t&&(t.seconds=this.__stepSegment<3?void 0:t.seconds,t.milliseconds=this.__stepSegment<4?void 0:t.milliseconds),t}get __inputs(){return[this.__datePicker,this.__timePicker]}checkValidity(){const t=this.__inputs.some(i=>!i.checkValidity()),e=this.required&&this.__inputs.some(i=>!i.value);return!(t||e)}get __stepSegment(){const t=this.step==null?60:parseFloat(this.step);if(t%3600===0)return 1;if(t%60===0||!t)return 2;if(t%1===0)return 3;if(t<1)return 4}__dateTimeEquals(t,e){return nt(t,e)?t.getHours()===e.getHours()&&t.getMinutes()===e.getMinutes()&&t.getSeconds()===e.getSeconds()&&t.getMilliseconds()===e.getMilliseconds():!1}__handleDateTimeChange(t,e,i,n){if(!i){this[t]="",this[e]="";return}const s=this.__parseDateTime(i);if(!s){this[t]=n;return}this.__dateTimeEquals(this[e],s)||(this[e]=s)}__valueChanged(t,e){this.__handleDateTimeChange("value","__selectedDateTime",t,e),e!==void 0&&(this.__dispatchChangeForValue=t),this.toggleAttribute("has-value",!!t),this.__updateTimePickerMinMax()}__dispatchChange(){this.dispatchEvent(new CustomEvent("change",{bubbles:!0}))}__minChanged(t,e){this.__handleDateTimeChange("min","__minDateTime",t,e),this.__datePicker&&(this.__datePicker.min=this.__formatDateISO(this.__minDateTime,this.__defaultDateMinMaxValue)),this.__updateTimePickerMinMax(),this.__datePicker&&this.__timePicker&&this.value&&this.validate()}__maxChanged(t,e){this.__handleDateTimeChange("max","__maxDateTime",t,e),this.__datePicker&&(this.__datePicker.max=this.__formatDateISO(this.__maxDateTime,this.__defaultDateMinMaxValue)),this.__updateTimePickerMinMax(),this.__datePicker&&this.__timePicker&&this.value&&this.validate()}__selectedDateTimeChanged(t){const e=this.__formatDateTime(t);if(this.value!==e&&(this.value=e),Boolean(this.__datePicker&&this.__datePicker.$)&&!this.__ignoreInputValueChange){this.__ignoreInputValueChange=!0;const[n,s]=this.value.split("T");this.__datePicker.value=n||"",this.__timePicker.value=s||"",this.__ignoreInputValueChange=!1}}get __formattedValue(){const t=this.__datePicker.value,e=this.__timePicker.value;return t&&e?[t,e].join("T"):""}__valueChangedEventHandler(){if(this.__ignoreInputValueChange)return;const t=this.__formattedValue,[e,i]=t.split("T");this.__ignoreInputValueChange=!0,this.__updateTimePickerMinMax(),e&&i?t!==this.value&&(this.value=t):this.value="",this.__ignoreInputValueChange=!1}__autoOpenDisabledChanged(t){this.__datePicker&&(this.__datePicker.autoOpenDisabled=t),this.__timePicker&&(this.__timePicker.autoOpenDisabled=t)}__themeChanged(t,e,i){!e||!i||[e,i].forEach(n=>{t?n.setAttribute("theme",t):n.removeAttribute("theme")})}__pickersChanged(t,e){!t||!e||t.__defaultPicker===e.__defaultPicker&&(t.value?this.__valueChangedEventHandler():this.value&&this.__selectedDateTimeChanged(this.__selectedDateTime))}}customElements.define(_f.is,_f);/**
 * @license
 * Copyright (c) 2021 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const _x=k`
  :host([dir='rtl']) [part='input-field'] ::slotted(input) {
    --_lumo-text-field-overflow-mask-image: linear-gradient(to left, transparent, #000 1.25em);
  }

  :host([dir='rtl']) [part='input-field'] ::slotted(input:placeholder-shown) {
    --_lumo-text-field-overflow-mask-image: none;
  }
`;R("vaadin-email-field",[Xt,_x],{moduleId:"lumo-email-field"});/**
 * @license
 * Copyright (c) 2021 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */R("vaadin-email-field",k`
    :host([dir='rtl']) [part='input-field'] {
      direction: ltr;
    }

    :host([dir='rtl']) [part='input-field'] ::slotted(input)::placeholder {
      direction: rtl;
      text-align: left;
    }
  `,{moduleId:"vaadin-email-field-styles"});class mx extends Xm{static get is(){return"vaadin-email-field"}constructor(){super(),this._setType("email"),this.pattern="^([a-zA-Z0-9_\\.\\-+])+@[a-zA-Z0-9-.]+\\.[a-zA-Z0-9-]{2,}$"}ready(){super.ready(),this.inputElement&&(this.inputElement.autocapitalize="off")}}customElements.define("vaadin-email-field",mx);/**
 * @license
 * Copyright (c) 2021 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */R("vaadin-field-outline",k`
    :host {
      transition: opacity 0.3s;
      -webkit-mask-image: none !important;
      mask-image: none !important;
    }

    :host::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      box-shadow: 0 0 0 2px var(--_active-user-color);
      border-radius: var(--lumo-border-radius);
      transition: box-shadow 0.3s;
    }

    :host([context$='checkbox'])::before {
      box-shadow: 0 0 0 2px var(--lumo-base-color), 0 0 0 4px var(--_active-user-color);
    }

    :host([context$='radio-button'])::before {
      border-radius: 50%;
      box-shadow: 0 0 0 3px var(--lumo-base-color), 0 0 0 5px var(--_active-user-color);
    }

    :host([context$='item'])::before {
      box-shadow: inset 0 0 0 2px var(--_active-user-color);
    }
  `,{moduleId:"lumo-field-outline"});/**
 * @license
 * Copyright (c) 2021 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */R("vaadin-user-tags-overlay",k`
    [part='overlay'] {
      will-change: opacity, transform;
    }

    :host([opening]) [part='overlay'] {
      animation: 0.1s lumo-user-tags-enter ease-out both;
    }

    @keyframes lumo-user-tags-enter {
      0% {
        opacity: 0;
      }
    }

    :host([closing]) [part='overlay'] {
      animation: 0.1s lumo-user-tags-exit both;
    }

    @keyframes lumo-user-tags-exit {
      100% {
        opacity: 0;
      }
    }
  `,{moduleId:"lumo-user-tags-overlay"});R("vaadin-user-tag",k`
    :host {
      font-family: var(--lumo-font-family);
      font-size: var(--lumo-font-size-xxs);
      border-radius: var(--lumo-border-radius-s);
      box-shadow: var(--lumo-box-shadow-xs);
      --vaadin-user-tag-offset: var(--lumo-space-xs);
    }

    [part='name'] {
      color: var(--lumo-primary-contrast-color);
      padding: 0.3em calc(0.3em + var(--lumo-border-radius-s) / 4);
      line-height: 1;
      font-weight: 500;
      min-width: calc(var(--lumo-line-height-xs) * 1em + 0.45em);
    }
  `,{moduleId:"lumo-user-tag"});/**
 * @license
 * Copyright (c) 2021 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class mf extends j(Si(W)){static get is(){return"vaadin-user-tag"}static get template(){return H`
      <style>
        :host {
          display: block;
          box-sizing: border-box;
          margin: 0 0 var(--vaadin-user-tag-offset);
          opacity: 0;
          height: 1.3rem;
          transition: opacity 0.2s ease-in-out;
          background-color: var(--vaadin-user-tag-color);
          color: #fff;
          cursor: default;
          -webkit-user-select: none;
          user-select: none;
          --vaadin-user-tag-offset: 4px;
        }

        :host(.show) {
          opacity: 1;
        }

        :host(:last-of-type) {
          margin-bottom: 0;
        }

        [part='name'] {
          overflow: hidden;
          white-space: nowrap;
          text-overflow: ellipsis;
          box-sizing: border-box;
          padding: 2px 4px;
          height: 1.3rem;
          font-size: 13px;
        }
      </style>
      <div part="name">[[name]]</div>
    `}static get properties(){return{name:{type:String},uid:{type:String},colorIndex:{type:Number,observer:"_colorIndexChanged"}}}ready(){super.ready(),this.addEventListener("mousedown",this._onClick.bind(this),!0)}_colorIndexChanged(t){t!=null&&this.style.setProperty("--vaadin-user-tag-color",`var(--vaadin-user-color-${t})`)}_onClick(t){t.preventDefault(),this.dispatchEvent(new CustomEvent("user-tag-click",{bubbles:!0,composed:!0,detail:{name:this.name}}))}}customElements.define(mf.is,mf);/**
 * @license
 * Copyright (c) 2021 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */R("vaadin-user-tags-overlay",k`
    :host {
      background: transparent;
      box-shadow: none;
    }

    [part='overlay'] {
      box-shadow: none;
      background: transparent;
      position: relative;
      left: -4px;
      padding: 4px;
      outline: none;
      overflow: visible;
    }

    ::slotted([part='tags']) {
      display: flex;
      flex-direction: column;
      align-items: flex-start;
    }

    :host([dir='rtl']) [part='overlay'] {
      left: auto;
      right: -4px;
    }

    [part='content'] {
      padding: 0;
    }

    :host([opening]),
    :host([closing]) {
      animation: 0.14s user-tags-overlay-dummy-animation;
    }

    @keyframes user-tags-overlay-dummy-animation {
      0% {
        opacity: 1;
      }

      100% {
        opacity: 1;
      }
    }
  `);class vf extends Ur(Ti){static get is(){return"vaadin-user-tags-overlay"}ready(){super.ready(),this.$.overlay.setAttribute("tabindex","-1")}}customElements.define(vf.is,vf);/**
 * @license
 * Copyright (c) 2021 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const gf=(r,t)=>new Promise(e=>{const i=()=>{r.removeEventListener(t,i),e()};r.addEventListener(t,i)});class yf extends W{static get is(){return"vaadin-user-tags"}static get template(){return H`
      <style>
        :host {
          position: absolute;
        }
      </style>
      <vaadin-user-tags-overlay
        id="overlay"
        modeless
        opened="[[opened]]"
        no-vertical-overlap
        on-vaadin-overlay-open="_onOverlayOpen"
      ></vaadin-user-tags-overlay>
    `}static get properties(){return{hasFocus:{type:Boolean,value:!1,observer:"_hasFocusChanged"},opened:{type:Boolean,value:!1},flashing:{type:Boolean,value:!1},target:{type:Object,observer:"__targetChanged"},users:{type:Array,value:()=>[]},duration:{type:Number,value:200},delay:{type:Number,value:2e3},__flashQueue:{type:Array,value:()=>[]},__isTargetVisible:{type:Boolean,value:!1}}}constructor(){super(),this.__targetVisibilityObserver=new IntersectionObserver(([t])=>{this.__onTargetVisibilityChange(t.isIntersecting)},{threshold:1})}connectedCallback(){super.connectedCallback(),this.target&&this.__targetVisibilityObserver.observe(this.target)}disconnectedCallback(){super.disconnectedCallback(),this.opened=!1,this.target&&this.__targetVisibilityObserver.unobserve(this.target)}ready(){super.ready(),this.$.overlay.renderer=t=>{if(!t.firstChild){const e=document.createElement("div");e.setAttribute("part","tags"),t.appendChild(e)}},this.$.overlay.requestContentUpdate()}__onTargetVisibilityChange(t){if(this.__isTargetVisible=t,t&&this.__flashQueue.length>0&&!this.flashing){this.flashTags(this.__flashQueue.shift());return}if(t&&this.hasFocus){this.opened=!0;return}!t&&this.opened&&(this.opened=!1)}__targetChanged(t,e){this.$.overlay.positionTarget=t,e&&this.__targetVisibilityObserver.unobserve(e),t&&this.__targetVisibilityObserver.observe(t)}_hasFocusChanged(t){t&&this.flashing&&this.stopFlash()}get wrapper(){return this.$.overlay.content.querySelector('[part="tags"]')}createUserTag(t){const e=document.createElement("vaadin-user-tag");return e.name=t.name,e.uid=t.id,e.colorIndex=t.colorIndex,e}getTagForUser(t){return Array.from(this.wrapper.children).find(e=>e.uid===t.id)}getChangedTags(t,e){const i=e.map(s=>this.getTagForUser(s));return{added:t.map(s=>this.getTagForUser(s)||this.createUserTag(s)),removed:i}}getChangedUsers(t,e){const i=[],n=[];e.forEach(a=>{for(let l=0;l<a.removed.length;l++)n.push(a.removed[l]);for(let l=a.addedCount-1;l>=0;l--)i.push(t[a.index+l])});const s=i.filter(a=>!n.some(l=>a.id===l.id)),o=n.filter(a=>!i.some(l=>a.id===l.id));return{addedUsers:s,removedUsers:o}}applyTagsStart({added:t,removed:e}){const i=this.wrapper;e.forEach(n=>{n&&(n.classList.add("removing"),n.classList.remove("show"))}),t.forEach(n=>i.insertBefore(n,i.firstChild))}applyTagsEnd({added:t,removed:e}){const i=this.wrapper;e.forEach(n=>{n&&n.parentNode===i&&i.removeChild(n)}),t.forEach(n=>n&&n.classList.add("show"))}setUsers(t){this.requestContentUpdate();const e=Zu(t,this.users);if(e.length===0)return;const{addedUsers:i,removedUsers:n}=this.getChangedUsers(t,e);if(i.length===0&&n.length===0)return;const s=this.getChangedTags(i,n);if(this.__flashQueue.length>0){for(let o=0;o<n.length;o++)if(s.removed[o]===null)for(let a=0;a<this.__flashQueue.length;a++)this.__flashQueue[a].some(l=>l.uid===n[o].id)&&this.splice("__flashQueue",o,1)}if(this.opened&&this.hasFocus)this.updateTags(t,s);else if(i.length>0&&document.visibilityState!=="hidden"){const o=s.added,a=s.removed;this.updateTagsSync(t,{added:[],removed:a}),this.flashing||!this.__isTargetVisible?this.push("__flashQueue",o):this.flashTags(o)}else this.updateTagsSync(t,s)}_onOverlayOpen(){Array.from(this.wrapper.children).forEach(t=>{t.classList.contains("removing")||t.classList.add("show")})}flashTags(t){this.flashing=!0;const e=this.wrapper,i=Array.from(e.children);i.forEach(n=>{n.style.display="none"}),t.forEach(n=>{e.insertBefore(n,e.firstChild)}),this.flashPromise=new Promise(n=>{gf(this.$.overlay,"vaadin-overlay-open").then(()=>{this._debounceFlashStart=ye.debounce(this._debounceFlashStart,Be.after(this.duration+this.delay),()=>{this.hasFocus||t.forEach(s=>s.classList.remove("show")),this._debounceFlashEnd=ye.debounce(this._debounceFlashEnd,Be.after(this.duration),()=>{const s=()=>{i.forEach(o=>{o.style.display="block"}),this.flashing=!1,n()};this.hasFocus?s():(gf(this.$.overlay,"animationend").then(()=>{s()}),this.opened=!1)})})})}).then(()=>{if(this.__flashQueue.length>0){const n=this.__flashQueue[0];this.splice("__flashQueue",0,1),this.flashTags(n)}}),this.opened=!0}stopFlash(){this._debounceFlashStart&&this._debounceFlashStart.flush(),this._debounceFlashEnd&&this._debounceFlashEnd.flush(),this.$.overlay._flushAnimation("closing")}updateTags(t,e){this.applyTagsStart(e),this._debounceRender=ye.debounce(this._debounceRender,Be.after(this.duration),()=>{this.set("users",t),this.applyTagsEnd(e),t.length===0&&this.opened&&(this.opened=!1)})}updateTagsSync(t,e){this.applyTagsStart(e),this.set("users",t),this.applyTagsEnd(e)}show(){this.hasFocus=!0,this.__isTargetVisible&&(this.opened=!0)}hide(){this.hasFocus=!1,this.opened=!1}requestContentUpdate(){this._debounceRender&&this._debounceRender.isActive()&&this._debounceRender.flush()}}customElements.define(yf.is,yf);/**
 * @license
 * Copyright (c) 2021 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class bf extends j(Si(W)){static get is(){return"vaadin-field-outline"}static get template(){return H`
      <style>
        :host {
          display: block;
          box-sizing: border-box;
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          width: 100%;
          height: 100%;
          pointer-events: none;
          user-select: none;
          opacity: 0;
          --_active-user-color: transparent;
        }

        :host([has-active-user]) {
          opacity: 1;
        }
      </style>
    `}static get properties(){return{user:{type:Object,value:null,observer:"_userChanged"}}}ready(){super.ready(),this.setAttribute("part","outline"),this._field=this.getRootNode().host}_userChanged(t){this.toggleAttribute("has-active-user",Boolean(t));const e=t?`var(--vaadin-user-color-${t.colorIndex})`:"transparent",i="--_active-user-color";this.style.setProperty(i,e),this._field&&this._field.style.setProperty(i,e)}}customElements.define(bf.is,bf);/**
 * @license
 * Copyright (c) 2021 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const vx=(r,t)=>{switch(t){case"vaadin-big-decimal-field":case"vaadin-combo-box":case"vaadin-date-picker":case"vaadin-date-time-picker-date-picker":case"vaadin-date-time-picker-time-picker":case"vaadin-email-field":case"vaadin-integer-field":case"vaadin-number-field":case"vaadin-password-field":case"vaadin-select":case"vaadin-text-area":case"vaadin-text-field":case"vaadin-time-picker":return r.shadowRoot.querySelector('[part="input-field"]');case"vaadin-checkbox":return r.shadowRoot.querySelector('[part="checkbox"]');case"vaadin-radio-button":return r.shadowRoot.querySelector('[part="radio"]');default:return r}},Dl=new WeakMap,gx=r=>{if(!Dl.has(r)){const t=r.tagName.toLowerCase(),e=vx(r,t);e.style.position="relative",t.endsWith("text-area")&&(e.style.overflow="visible");const i=document.createElement("style");i.textContent=`
      :host([active]) [part="outline"],
      :host([focus-ring]) [part="outline"] {
        display: none;
      }
    `,r.shadowRoot.appendChild(i);const n=document.createElement("vaadin-field-outline");(e===r?r.shadowRoot:e).appendChild(n),n.setAttribute("context",t),Dl.set(r,{root:r,target:e,outline:n})}return Dl.get(r)};/**
 * @license
 * Copyright (c) 2021 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class dc{constructor(t){this.component=t,this.initTags(t)}getFields(){return[this.component]}getFieldIndex(t){return this.getFields().indexOf(t)}getFocusTarget(t){return this.component}initTags(t){const e=document.createElement("vaadin-user-tags");t.shadowRoot.appendChild(e),e.target=t,this._tags=e,t.addEventListener("mouseenter",i=>{i.relatedTarget!==this._tags.$.overlay&&(this._mouse=!0,this._mouseDebouncer=ye.debounce(this._mouseDebouncer,Be.after(200),()=>{this._mouse&&this._tags.show()}))}),t.addEventListener("mouseleave",i=>{i.relatedTarget!==this._tags.$.overlay&&(this._mouse=!1,this._hasFocus||this._tags.hide())}),t.addEventListener("vaadin-highlight-show",i=>{this._hasFocus=!0,this._debouncer&&this._debouncer.isActive()?this._debouncer.cancel():this._tags.show()}),t.addEventListener("vaadin-highlight-hide",i=>{this._hasFocus=!1,this._mouse||(this._debouncer=ye.debounce(this._debouncer,Be.after(1),()=>{this._tags.hide()}))}),this._tags.$.overlay.addEventListener("mouseleave",i=>{i.relatedTarget!==t&&(this._mouse=!1,t.hasAttribute("focused")||this._tags.hide())})}setOutlines(t){const e=this.getFields();e.forEach((i,n)=>{const{outline:s}=gx(i),o=e.length===1?0:t.map(a=>a.fieldIndex).indexOf(n);s.user=t[o]})}showOutline(t){this.fire("show",t)}hideOutline(t){this.fire("hide",t)}fire(t,e){this.component.dispatchEvent(new CustomEvent(`vaadin-highlight-${t}`,{bubbles:!0,composed:!0,detail:{fieldIndex:this.getFieldIndex(e)}}))}redraw(t){this._tags.setUsers(t),this.setOutlines(t)}}/**
 * @license
 * Copyright (c) 2021 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class Yr extends dc{constructor(t){super(t),this.addListeners(t)}addListeners(t){t.addEventListener("focusin",e=>this.onFocusIn(e)),t.addEventListener("focusout",e=>this.onFocusOut(e))}onFocusIn(t){const e=this.getFocusTarget(t);this.showOutline(e)}onFocusOut(t){const e=this.getFocusTarget(t);this.hideOutline(e)}}/**
 * @license
 * Copyright (c) 2021 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class yx extends Yr{getFields(){return this.component.__checkboxes}getFocusTarget(t){const e=this.getFields();return Array.from(t.composedPath()).find(i=>e.includes(i))}}/**
 * @license
 * Copyright (c) 2021 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class Jv extends dc{constructor(t){super(t),this.datePicker=t,this.fullscreenFocus=!1,this.blurWhileOpened=!1,this.addListeners(t)}addListeners(t){this.overlay=t.$.overlay,t.addEventListener("blur",e=>this.onBlur(e),!0),t.addEventListener("opened-changed",e=>this.onOpenedChanged(e)),this.overlay.addEventListener("focusout",e=>this.onOverlayFocusOut(e)),t.addEventListener("focusin",e=>this.onFocusIn(e)),t.addEventListener("focusout",e=>this.onFocusOut(e))}onBlur(t){this.datePicker._fullscreen&&t.relatedTarget!==this.overlay&&(this.fullscreenFocus=!0)}onFocusIn(t){if(t.relatedTarget!==this.overlay){if(this.blurWhileOpened){this.blurWhileOpened=!1;return}this.showOutline(this.datePicker)}}onFocusOut(t){this.fullscreenFocus||t.relatedTarget===this.overlay||(this.datePicker.opened?this.blurWhileOpened=!0:this.hideOutline(this.datePicker))}onOverlayFocusOut(t){this.datePicker.contains(t.relatedTarget)||(this.blurWhileOpened=!0)}onOpenedChanged(t){t.detail.value===!0&&this.fullscreenFocus&&(this.fullscreenFocus=!1,this.showOutline(this.datePicker)),t.detail.value===!1&&this.blurWhileOpened&&(this.blurWhileOpened=!1,this.hideOutline(this.datePicker))}}/**
 * @license
 * Copyright (c) 2021 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class bx extends Jv{constructor(t,e){super(t),this.component=e}getFieldIndex(){return 0}}class wx extends Yr{constructor(t,e){super(t),this.component=e,this.timePicker=t}getFocusTarget(t){return this.timePicker}getFieldIndex(){return 1}}class xx extends dc{constructor(t){super(t);const[e,i]=this.getFields();this.dateObserver=new bx(e,t),this.timeObserver=new wx(i,t)}getFields(){return this.component.__inputs}}/**
 * @license
 * Copyright (c) 2021 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class Cx extends Yr{getFields(){return this.component.items||[]}getFocusTarget(t){const e=this.getFields();return Array.from(t.composedPath()).find(i=>e.includes(i))}}/**
 * @license
 * Copyright (c) 2021 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class Ax extends Yr{getFields(){return this.component.__radioButtons}getFocusTarget(t){const e=this.getFields();return Array.from(t.composedPath()).find(i=>e.includes(i))}}/**
 * @license
 * Copyright (c) 2021 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class Ex extends Yr{constructor(t){super(t),this.blurWhileOpened=!1,this.overlay=t._overlayElement}addListeners(t){super.addListeners(t),t.addEventListener("opened-changed",e=>{t._phone&&e.detail.value===!1&&this.hideOutline(t)})}onFocusIn(t){this.overlay.contains(t.relatedTarget)||!this.component._phone&&this.overlay.hasAttribute("closing")||super.onFocusIn(t)}onFocusOut(t){this.overlay.contains(t.relatedTarget)||super.onFocusOut(t)}}/**
 * @license
 * Copyright (c) 2021 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const Ix=r=>{let t;switch(r.tagName.toLowerCase()){case"vaadin-date-picker":t=new Jv(r);break;case"vaadin-date-time-picker":t=new xx(r);break;case"vaadin-select":t=new Ex(r);break;case"vaadin-checkbox-group":t=new yx(r);break;case"vaadin-radio-group":t=new Ax(r);break;case"vaadin-list-box":t=new Cx(r);break;default:t=new Yr(r)}return t};class Sx{get user(){return this._user}set user(t){if(this._user=t,t){const e=`${t.name} started editing`,{label:i}=this.host;Ht(i?`${e} ${i}`:e)}}constructor(t){this.host=t,this.user=null,this.users=[]}hostConnected(){this.redraw()}addUser(t){t&&(this.users.push(t),this.redraw(),this.user=t)}setUsers(t){Array.isArray(t)&&(this.users=t,this.redraw(),this.user=t[t.length-1]||null)}removeUser(t){if(t&&t.id!==void 0){let e;for(let i=0;i<this.users.length;i++)if(this.users[i].id===t.id){e=i;break}e!==void 0&&(this.users.splice(e,1),this.redraw(),this.users.length>0?this.user=this.users[this.users.length-1]:this.user=null)}}redraw(){this.observer.redraw([...this.users].reverse())}}class Tx extends HTMLElement{static init(t){if(!t._highlighterController){const e=new Sx(t);t.setAttribute("has-highlighter",""),e.observer=Ix(t),t.addController(e),t._highlighterController=e}return t._highlighterController}static addUser(t,e){this.init(t).addUser(e)}static removeUser(t,e){this.init(t).removeUser(e)}static setUsers(t,e){this.init(t).setUsers(e)}}customElements.define("vaadin-field-highlighter",Tx);R("vaadin-form-item",k`
    :host {
      --vaadin-form-item-row-spacing: 0;
    }

    /* font-weight, margin-bottom, transition and line-height same as for part label in text-field */
    [part='label'] {
      color: var(--lumo-secondary-text-color);
      font-family: var(--lumo-font-family);
      font-size: var(--lumo-font-size-s);
      font-weight: 500;
      margin-top: var(--lumo-space-m);
      margin-left: calc(var(--lumo-border-radius-m) / 4);
      margin-bottom: var(--lumo-space-xs);
      transition: color 0.4s;
      line-height: 1.333;
    }

    [part='required-indicator']::after {
      content: var(--lumo-required-field-indicator, '•');
      transition: opacity 0.2s;
      opacity: 0;
      color: var(--lumo-required-field-indicator-color, var(--lumo-primary-text-color));
      position: relative;
      width: 1em;
      text-align: center;
    }

    :host([required]) [part='required-indicator']::after {
      opacity: 1;
    }

    :host([invalid]) [part='required-indicator']::after {
      color: var(--lumo-required-field-indicator-color, var(--lumo-error-text-color));
    }
  `,{moduleId:"lumo-form-item"});/**
 * @license
 * Copyright (c) 2017 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class wf extends j(W){static get template(){return H`
      <style>
        :host {
          display: inline-flex;
          flex-direction: row;
          align-items: baseline;
          margin: calc(0.5 * var(--vaadin-form-item-row-spacing, 1em)) 0;
        }

        :host([label-position='top']) {
          flex-direction: column;
          align-items: stretch;
        }

        :host([hidden]) {
          display: none !important;
        }

        #label {
          width: var(--vaadin-form-item-label-width, 8em);
          flex: 0 0 auto;
        }

        :host([label-position='top']) #label {
          width: auto;
        }

        #spacing {
          width: var(--vaadin-form-item-label-spacing, 1em);
          flex: 0 0 auto;
        }

        #content {
          flex: 1 1 auto;
        }

        #content ::slotted(.full-width) {
          box-sizing: border-box;
          width: 100%;
          min-width: 0;
        }
      </style>
      <div id="label" part="label" on-click="__onLabelClick">
        <slot name="label" id="labelSlot" on-slotchange="__onLabelSlotChange"></slot>
        <span part="required-indicator" aria-hidden="true"></span>
      </div>
      <div id="spacing"></div>
      <div id="content">
        <slot id="contentSlot" on-slotchange="__onContentSlotChange"></slot>
      </div>
    `}static get is(){return"vaadin-form-item"}constructor(){super(),this.__updateInvalidState=this.__updateInvalidState.bind(this),this.__fieldNodeObserver=new MutationObserver(()=>this.__updateRequiredState(this.__fieldNode.required)),this.__labelNode=null,this.__fieldNode=null}_getFieldAriaTarget(t){return t.ariaTarget||t}__linkLabelToField(t){Lm(this._getFieldAriaTarget(t),"aria-labelledby",this.__labelId)}__unlinkLabelFromField(t){Dm(this._getFieldAriaTarget(t),"aria-labelledby",this.__labelId)}__onLabelClick(){const t=this.__fieldNode;t&&(t.focus(),t.click())}__getValidateFunction(t){return t.validate||t.checkValidity}__onLabelSlotChange(){this.__labelNode&&(this.__labelNode=null,this.__fieldNode&&this.__unlinkLabelFromField(this.__fieldNode));const t=this.$.labelSlot.assignedElements()[0];t&&(this.__labelNode=t,this.__labelNode.id?this.__labelId=this.__labelNode.id:(this.__labelId=`label-${this.localName}-${Hr()}`,this.__labelNode.id=this.__labelId),this.__fieldNode&&this.__linkLabelToField(this.__fieldNode))}__onContentSlotChange(){this.__fieldNode&&(this.__unlinkLabelFromField(this.__fieldNode),this.__updateRequiredState(!1),this.__fieldNodeObserver.disconnect(),this.__fieldNode=null);const t=this.$.contentSlot.assignedElements();t.length>1&&console.warn(`WARNING: Since Vaadin 23, placing multiple fields directly to a <vaadin-form-item> is deprecated.
Please wrap fields with a <vaadin-custom-field> instead.`);const e=t.find(i=>!!this.__getValidateFunction(i));e&&(this.__fieldNode=e,this.__updateRequiredState(this.__fieldNode.required),this.__fieldNodeObserver.observe(this.__fieldNode,{attributes:!0,attributeFilter:["required"]}),this.__labelNode&&this.__linkLabelToField(this.__fieldNode))}__updateRequiredState(t){t?(this.setAttribute("required",""),this.__fieldNode.addEventListener("blur",this.__updateInvalidState),this.__fieldNode.addEventListener("change",this.__updateInvalidState)):(this.removeAttribute("invalid"),this.removeAttribute("required"),this.__fieldNode.removeEventListener("blur",this.__updateInvalidState),this.__fieldNode.removeEventListener("change",this.__updateInvalidState))}__updateInvalidState(){const t=this.__getValidateFunction(this.__fieldNode).call(this.__fieldNode);this.toggleAttribute("invalid",t===!1)}}customElements.define(wf.is,wf);R("vaadin-form-layout",k`
    :host {
      --vaadin-form-layout-column-spacing: var(--lumo-space-l);
    }
  `,{moduleId:"lumo-form-layout"});/**
 * @license
 * Copyright (c) 2017 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class xf extends er(re(j(W))){static get template(){return H`
      <style>
        :host {
          display: block;
          max-width: 100%;
          animation: 1ms vaadin-form-layout-appear;
          /* CSS API for host */
          --vaadin-form-item-label-width: 8em;
          --vaadin-form-item-label-spacing: 1em;
          --vaadin-form-item-row-spacing: 1em;
          --vaadin-form-layout-column-spacing: 2em; /* (default) */
          align-self: stretch;
        }

        @keyframes vaadin-form-layout-appear {
          to {
            opacity: 1 !important; /* stylelint-disable-line keyframe-declaration-no-important */
          }
        }

        :host([hidden]) {
          display: none !important;
        }

        #layout {
          display: flex;

          align-items: baseline; /* default \`stretch\` is not appropriate */

          flex-wrap: wrap; /* the items should wrap */
        }

        #layout ::slotted(*) {
          /* Items should neither grow nor shrink. */
          flex-grow: 0;
          flex-shrink: 0;

          /* Margins make spacing between the columns */
          margin-left: calc(0.5 * var(--vaadin-form-layout-column-spacing));
          margin-right: calc(0.5 * var(--vaadin-form-layout-column-spacing));
        }

        #layout ::slotted(br) {
          display: none;
        }
      </style>
      <div id="layout">
        <slot id="slot"></slot>
      </div>
    `}static get is(){return"vaadin-form-layout"}static get properties(){return{responsiveSteps:{type:Array,value(){return[{minWidth:0,columns:1,labelsPosition:"top"},{minWidth:"20em",columns:1},{minWidth:"40em",columns:2}]},observer:"_responsiveStepsChanged"},_columnCount:{type:Number},_labelsOnTop:{type:Boolean}}}static get observers(){return["_invokeUpdateLayout(_columnCount, _labelsOnTop)"]}ready(){this._styleElement=document.createElement("style"),this.appendChild(this._styleElement),this._styleElement.textContent=" ",super.ready(),this.addEventListener("animationend",this.__onAnimationEnd)}connectedCallback(){super.connectedCallback(),requestAnimationFrame(()=>this._selectResponsiveStep()),requestAnimationFrame(()=>this._updateLayout()),this._observeChildrenColspanChange()}disconnectedCallback(){super.disconnectedCallback(),this.__mutationObserver.disconnect(),this.__childObserver.disconnect()}_observeChildrenColspanChange(){const t={attributes:!0};this.__mutationObserver=new MutationObserver(e=>{e.forEach(i=>{i.type==="attributes"&&(i.attributeName==="colspan"||i.attributeName==="hidden")&&this._updateLayout()})}),this.__childObserver=new Ce(this,e=>{const i=this._getObservableNodes(e.addedNodes),n=this._getObservableNodes(e.removedNodes);i.forEach(s=>{this.__mutationObserver.observe(s,t)}),(i.length>0||n.length>0)&&this._updateLayout()})}_getObservableNodes(t){const e=["template","style","dom-repeat","dom-if"];return Array.from(t).filter(i=>i.nodeType===Node.ELEMENT_NODE&&e.indexOf(i.localName.toLowerCase())===-1)}_naturalNumberOrOne(t){return typeof t=="number"&&t>=1&&t<1/0?Math.floor(t):1}_isValidCSSLength(t){return t==="inherit"||t==="normal"?!1:(this._styleElement.firstChild.nodeValue=`#styleElement { word-spacing: ${t}; }`,this._styleElement.sheet?["",null].indexOf(this._styleElement.sheet.cssRules[0].style.getPropertyValue("word-spacing"))<0:!0)}_responsiveStepsChanged(t,e){try{if(!Array.isArray(t))throw new Error('Invalid "responsiveSteps" type, an Array is required.');if(t.length<1)throw new Error('Invalid empty "responsiveSteps" array, at least one item is required.');t.forEach(i=>{if(this._naturalNumberOrOne(i.columns)!==i.columns)throw new Error(`Invalid 'columns' value of ${i.columns}, a natural number is required.`);if(i.minWidth!==void 0&&!this._isValidCSSLength(i.minWidth))throw new Error(`Invalid 'minWidth' value of ${i.minWidth}, a valid CSS length required.`);if(i.labelsPosition!==void 0&&["aside","top"].indexOf(i.labelsPosition)===-1)throw new Error(`Invalid 'labelsPosition' value of ${i.labelsPosition}, 'aside' or 'top' string is required.`)})}catch(i){e&&e!==t?(console.warn(`${i.message} Using previously set 'responsiveSteps' instead.`),this.responsiveSteps=e):(console.warn(`${i.message} Using default 'responsiveSteps' instead.`),this.responsiveSteps=[{minWidth:0,columns:1,labelsPosition:"top"},{minWidth:"20em",columns:1},{minWidth:"40em",columns:2}])}this._selectResponsiveStep()}__onAnimationEnd(t){t.animationName.indexOf("vaadin-form-layout-appear")===0&&this._selectResponsiveStep()}_selectResponsiveStep(){let t;const e="background-position";this.responsiveSteps.forEach(i=>{this.$.layout.style.setProperty(e,i.minWidth),parseFloat(getComputedStyle(this.$.layout).getPropertyValue(e))<=this.offsetWidth&&(t=i)}),this.$.layout.style.removeProperty(e),t&&(this._columnCount=t.columns,this._labelsOnTop=t.labelsPosition==="top")}_invokeUpdateLayout(){this._updateLayout()}updateStyles(t={}){console.warn("WARNING: Since Vaadin 23, updateStyles() is deprecated. Use the native element.style.setProperty API to set custom CSS property values."),Object.entries(t).forEach(([e,i])=>{this.style.setProperty(e,i)}),this._updateLayout()}_updateLayout(){const t=getComputedStyle(this),e=t.getPropertyValue("--vaadin-form-layout-column-spacing"),i=t.direction,n=`margin-${i==="ltr"?"left":"right"}`,s=`margin-${i==="ltr"?"right":"left"}`,o=this.offsetWidth;let a=0;Array.from(this.children).filter(l=>l.localName==="br"||getComputedStyle(l).display!=="none").forEach((l,h,u)=>{if(l.localName==="br"){a=0;return}let c;c=this._naturalNumberOrOne(parseFloat(l.getAttribute("colspan"))),c=Math.min(c,this._columnCount);const d=c/this._columnCount;l.style.width=`calc(${d*99.9}% - ${1-d} * ${e})`,a+c>this._columnCount&&(a=0),a===0?l.style.setProperty(n,"0px"):l.style.removeProperty(n);const f=h+1,p=f<u.length&&u[f].localName==="br";if(a+c===this._columnCount)l.style.setProperty(s,"0px");else if(p){const _=(this._columnCount-a-c)/this._columnCount;l.style.setProperty(s,`calc(${_*o}px + ${_} * ${e})`)}else l.style.removeProperty(s);a=(a+c)%this._columnCount,l.localName==="vaadin-form-item"&&(this._labelsOnTop?l.getAttribute("label-position")!=="top"&&(l.__useLayoutLabelPosition=!0,l.setAttribute("label-position","top")):l.__useLayoutLabelPosition&&(delete l.__useLayoutLabelPosition,l.removeAttribute("label-position")))})}_onResize(){this._selectResponsiveStep()}}customElements.define(xf.is,xf);/**
 * @license
 * Copyright (c) 2016 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class Cf extends Qm(W){static get is(){return"vaadin-grid-column-group"}static get properties(){return{_childColumns:{value(){return this._getChildColumns(this)}},flexGrow:{type:Number,readOnly:!0},width:{type:String,readOnly:!0},_visibleChildColumns:Array,_colSpan:Number,_rootColumns:Array}}static get observers(){return["_groupFrozenChanged(frozen, _rootColumns)","_groupFrozenToEndChanged(frozenToEnd, _rootColumns)","_groupHiddenChanged(hidden)","_colSpanChanged(_colSpan, _headerCell, _footerCell)","_groupOrderChanged(_order, _rootColumns)","_groupReorderStatusChanged(_reorderStatus, _rootColumns)","_groupResizableChanged(resizable, _rootColumns)"]}connectedCallback(){super.connectedCallback(),this._addNodeObserver(),this._updateFlexAndWidth()}disconnectedCallback(){super.disconnectedCallback(),this._observer&&this._observer.disconnect()}_columnPropChanged(t,e){t==="hidden"&&(this._preventHiddenSynchronization=!0,this._updateVisibleChildColumns(this._childColumns),this._preventHiddenSynchronization=!1),/flexGrow|width|hidden|_childColumns/.test(t)&&this._updateFlexAndWidth(),t==="frozen"&&(this.frozen=this.frozen||e),t==="lastFrozen"&&(this._lastFrozen=this._lastFrozen||e),t==="frozenToEnd"&&(this.frozenToEnd=this.frozenToEnd||e),t==="firstFrozenToEnd"&&(this._firstFrozenToEnd=this._firstFrozenToEnd||e)}_groupOrderChanged(t,e){if(e){const i=e.slice(0);if(!t){i.forEach(a=>{a._order=0});return}const n=/(0+)$/.exec(t).pop().length,s=~~(Math.log(e.length)/Math.LN10)+1,o=10**(n-s);i[0]&&i[0]._order&&i.sort((a,l)=>a._order-l._order),ev(i,o,t)}}_groupReorderStatusChanged(t,e){t===void 0||e===void 0||e.forEach(i=>{i._reorderStatus=t})}_groupResizableChanged(t,e){t===void 0||e===void 0||e.forEach(i=>{i.resizable=t})}_updateVisibleChildColumns(t){this._visibleChildColumns=Array.prototype.filter.call(t,e=>!e.hidden),this._colSpan=this._visibleChildColumns.length,this._updateAutoHidden()}_updateFlexAndWidth(){if(!!this._visibleChildColumns){if(this._visibleChildColumns.length>0){const t=this._visibleChildColumns.reduce((e,i)=>(e+=` + ${(i.width||"0px").replace("calc","")}`,e),"").substring(3);this._setWidth(`calc(${t})`)}else this._setWidth("0px");this._setFlexGrow(Array.prototype.reduce.call(this._visibleChildColumns,(t,e)=>t+e.flexGrow,0))}}__scheduleAutoFreezeWarning(t,e){if(this._grid){const i=e.replace(/([A-Z])/g,"-$1").toLowerCase(),n=t[0][e]||t[0].hasAttribute(i);t.every(o=>(o[e]||o.hasAttribute(i))===n)||(this._grid.__autoFreezeWarningDebouncer=ye.debounce(this._grid.__autoFreezeWarningDebouncer,bi,()=>{console.warn(`WARNING: Joining ${e} and non-${e} Grid columns inside the same column group! This will automatically freeze all the joined columns to avoid rendering issues. If this was intentional, consider marking each joined column explicitly as ${e}. Otherwise, exclude the ${e} columns from the joined group.`)}))}}_groupFrozenChanged(t,e){e===void 0||t===void 0||t!==!1&&(this.__scheduleAutoFreezeWarning(e,"frozen"),Array.from(e).forEach(i=>{i.frozen=t}))}_groupFrozenToEndChanged(t,e){e===void 0||t===void 0||t!==!1&&(this.__scheduleAutoFreezeWarning(e,"frozenToEnd"),Array.from(e).forEach(i=>{i.frozenToEnd=t}))}_groupHiddenChanged(t){(t||this.__groupHiddenInitialized)&&this._synchronizeHidden(),this.__groupHiddenInitialized=!0}_updateAutoHidden(){const t=this._autoHidden;this._autoHidden=(this._visibleChildColumns||[]).length===0,(t||this._autoHidden)&&(this.hidden=this._autoHidden)}_synchronizeHidden(){this._childColumns&&!this._preventHiddenSynchronization&&this._childColumns.forEach(t=>{t.hidden=this.hidden})}_colSpanChanged(t,e,i){e&&(e.setAttribute("colspan",t),this._grid&&this._grid._a11yUpdateCellColspan(e,t)),i&&(i.setAttribute("colspan",t),this._grid&&this._grid._a11yUpdateCellColspan(i,t))}_getChildColumns(t){return Ce.getFlattenedNodes(t).filter(this._isColumnElement)}_addNodeObserver(){this._observer=new Ce(this,t=>{(t.addedNodes.filter(this._isColumnElement).length>0||t.removedNodes.filter(this._isColumnElement).length>0)&&(this._preventHiddenSynchronization=!0,this._rootColumns=this._getChildColumns(this),this._childColumns=this._rootColumns,this._updateVisibleChildColumns(this._childColumns),this._preventHiddenSynchronization=!1,ji.run(()=>{this._grid&&this._grid._updateColumnTree&&this._grid._updateColumnTree()}))}),this._observer.flush()}_isColumnElement(t){return t.nodeType===Node.ELEMENT_NODE&&/\bcolumn\b/.test(t.localName)}}customElements.define(Cf.is,Cf);R("vaadin-grid-sorter",k`
    :host {
      justify-content: flex-start;
      align-items: baseline;
      -webkit-user-select: none;
      -moz-user-select: none;
      user-select: none;
      cursor: var(--lumo-clickable-cursor);
    }

    [part='content'] {
      display: inline-block;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    [part='indicators'] {
      margin-left: var(--lumo-space-s);
    }

    [part='indicators']::before {
      transform: scale(0.8);
    }

    :host(:not([direction]):not(:hover)) [part='indicators'] {
      color: var(--lumo-tertiary-text-color);
    }

    :host([direction]) {
      color: var(--lumo-primary-text-color);
    }

    [part='order'] {
      font-size: var(--lumo-font-size-xxs);
      line-height: 1;
    }

    /* RTL specific styles */

    :host([dir='rtl']) [part='indicators'] {
      margin-right: var(--lumo-space-s);
      margin-left: 0;
    }
  `,{moduleId:"lumo-grid-sorter"});/**
 * @license
 * Copyright (c) 2016 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const eg=document.createElement("template");eg.innerHTML=`
  <style>
    @font-face {
      font-family: 'vaadin-grid-sorter-icons';
      src: url(data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAAAQwAA0AAAAABuwAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABGRlRNAAAEFAAAABkAAAAcfep+mUdERUYAAAP4AAAAHAAAAB4AJwAOT1MvMgAAAZgAAAA/AAAAYA8TBPpjbWFwAAAB7AAAAFUAAAFeF1fZ4mdhc3AAAAPwAAAACAAAAAgAAAAQZ2x5ZgAAAlgAAABcAAAAnMvguMloZWFkAAABMAAAAC8AAAA2C5Ap72hoZWEAAAFgAAAAHQAAACQGbQPHaG10eAAAAdgAAAAUAAAAHAoAAABsb2NhAAACRAAAABIAAAASAIwAYG1heHAAAAGAAAAAFgAAACAACwAKbmFtZQAAArQAAAECAAACZxWCgKhwb3N0AAADuAAAADUAAABZCrApUXicY2BkYGAA4rDECVrx/DZfGbhZGEDgyqNPOxH0/wNMq5kPALkcDEwgUQBWRA0dAHicY2BkYGA+8P8AAwMLAwgwrWZgZEAFbABY4QM8AAAAeJxjYGRgYOAAQiYGEICQSAAAAi8AFgAAeJxjYGY6yziBgZWBgWkm0xkGBoZ+CM34msGYkZMBFTAKoAkwODAwvmRiPvD/AIMDMxCD1CDJKjAwAgBktQsXAHicY2GAAMZQCM0EwqshbAALxAEKeJxjYGBgZoBgGQZGBhCIAPIYwXwWBhsgzcXAwcAEhIwMCi+Z/v/9/x+sSuElA4T9/4k4K1gHFwMMMILMY2QDYmaoABOQYGJABUA7WBiGNwAAJd4NIQAAAAAAAAAACAAIABAAGAAmAEAATgAAeJyNjLENgDAMBP9tIURJwQCMQccSZgk2i5fIYBDAidJjycXr7x5EPwE2wY8si7jmyBNXGo/bNBerxJNrpxhbO3/fEFpx8ZICpV+ghxJ74fAMe+h7Ox14AbrsHB14nK2QQWrDMBRER4mTkhQK3ZRQKOgCNk7oGQqhhEIX2WSlWEI1BAlkJ5CDdNsj5Ey9Rncdi38ES+jzNJo/HwTgATcoDEthhY3wBHc4CE+pfwsX5F/hGe7Vo/AcK/UhvMSz+mGXKhZU6pww8ISz3oWn1BvhgnwTnuEJf8Jz1OpFeIlX9YULDLdFi4ASHolkSR0iuYdjLak1vAequBhj21D61Nqyi6l3qWybGPjySbPHGScGJl6dP58MYcQRI0bts7mjebBqrFENH7t3qWtj0OuqHnXcW7b0HOTZFnKryRGW2hFX1m0O2vEM3opNMfTau+CS6Z3Vx6veNnEXY6jwDxhsc2gAAHicY2BiwA84GBgYmRiYGJkZmBlZGFkZ2djScyoLMgzZS/MyDQwMwLSrpYEBlIbxjQDrzgsuAAAAAAEAAf//AA94nGNgZGBg4AFiMSBmYmAEQnYgZgHzGAAD6wA2eJxjYGBgZACCKyoz1cD0o087YTQATOcIewAAAA==) format('woff');
      font-weight: normal;
      font-style: normal;
    }
  </style>
`;document.head.appendChild(eg.content);class Af extends j(Si(W)){static get template(){return H`
      <style>
        :host {
          display: inline-flex;
          cursor: pointer;
          max-width: 100%;
        }

        [part='content'] {
          flex: 1 1 auto;
        }

        [part='indicators'] {
          position: relative;
          align-self: center;
          flex: none;
        }

        [part='order'] {
          display: inline;
          vertical-align: super;
        }

        [part='indicators']::before {
          font-family: 'vaadin-grid-sorter-icons';
          display: inline-block;
        }

        :host(:not([direction])) [part='indicators']::before {
          content: '\\e901';
        }

        :host([direction='asc']) [part='indicators']::before {
          content: '\\e900';
        }

        :host([direction='desc']) [part='indicators']::before {
          content: '\\e902';
        }
      </style>

      <div part="content">
        <slot></slot>
      </div>
      <div part="indicators">
        <span part="order">[[_getDisplayOrder(_order)]]</span>
      </div>
    `}static get is(){return"vaadin-grid-sorter"}static get properties(){return{path:String,direction:{type:String,reflectToAttribute:!0,notify:!0,value:null},_order:{type:Number,value:null},_isConnected:{type:Boolean,observer:"__isConnectedChanged"}}}static get observers(){return["_pathOrDirectionChanged(path, direction)"]}ready(){super.ready(),this.addEventListener("click",this._onClick.bind(this))}connectedCallback(){super.connectedCallback(),this._isConnected=!0}disconnectedCallback(){super.disconnectedCallback(),this._isConnected=!1,!this.parentNode&&this._grid&&this._grid.__removeSorters([this])}_pathOrDirectionChanged(){this.__dispatchSorterChangedEvenIfPossible()}__isConnectedChanged(t,e){e!==!1&&this.__dispatchSorterChangedEvenIfPossible()}__dispatchSorterChangedEvenIfPossible(){this.path===void 0||this.direction===void 0||!this._isConnected||(this.dispatchEvent(new CustomEvent("sorter-changed",{detail:{shiftClick:Boolean(this._shiftClick),fromSorterClick:Boolean(this._fromSorterClick)},bubbles:!0,composed:!0})),this._fromSorterClick=!1,this._shiftClick=!1)}_getDisplayOrder(t){return t===null?"":t+1}_onClick(t){if(t.defaultPrevented)return;const e=this.getRootNode().activeElement;this!==e&&this.contains(e)||(t.preventDefault(),this._shiftClick=t.shiftKey,this._fromSorterClick=!0,this.direction==="asc"?this.direction="desc":this.direction==="desc"?this.direction=null:this.direction="asc")}}customElements.define(Af.is,Af);R("vaadin-grid-tree-toggle",k`
    :host {
      --vaadin-grid-tree-toggle-level-offset: 2em;
      align-items: center;
      vertical-align: middle;
      transform: translateX(calc(var(--lumo-space-s) * -1));
      -webkit-tap-highlight-color: transparent;
    }

    :host(:not([leaf])) {
      cursor: default;
    }

    [part='toggle'] {
      display: inline-block;
      font-size: 1.5em;
      line-height: 1;
      width: 1em;
      height: 1em;
      text-align: center;
      color: var(--lumo-contrast-50pct);
      cursor: var(--lumo-clickable-cursor);
      /* Increase touch target area */
      padding: calc(1em / 3);
      margin: calc(1em / -3);
    }

    :host(:not([dir='rtl'])) [part='toggle'] {
      margin-right: 0;
    }

    @media (hover: hover) {
      :host(:hover) [part='toggle'] {
        color: var(--lumo-contrast-80pct);
      }
    }

    [part='toggle']::before {
      font-family: 'lumo-icons';
      display: inline-block;
      height: 100%;
    }

    :host(:not([expanded])) [part='toggle']::before {
      content: var(--lumo-icons-angle-right);
    }

    :host([expanded]) [part='toggle']::before {
      content: var(--lumo-icons-angle-right);
      transform: rotate(90deg);
    }

    /* Experimental support for hierarchy connectors, using an unsupported selector */
    :host([theme~='connectors']) #level-spacer {
      position: relative;
      z-index: -1;
      font-size: 1em;
      height: 1.5em;
    }

    :host([theme~='connectors']) #level-spacer::before {
      display: block;
      content: '';
      margin-top: calc(var(--lumo-space-m) * -1);
      height: calc(var(--lumo-space-m) + 3em);
      background-image: linear-gradient(
        to right,
        transparent calc(var(--vaadin-grid-tree-toggle-level-offset) - 1px),
        var(--lumo-contrast-10pct) calc(var(--vaadin-grid-tree-toggle-level-offset) - 1px)
      );
      background-size: var(--vaadin-grid-tree-toggle-level-offset) var(--vaadin-grid-tree-toggle-level-offset);
      background-position: calc(var(--vaadin-grid-tree-toggle-level-offset) / 2 - 2px) 0;
    }

    /* RTL specific styles */

    :host([dir='rtl']) {
      margin-left: 0;
      margin-right: calc(var(--lumo-space-s) * -1);
    }

    :host([dir='rtl']) [part='toggle'] {
      margin-left: 0;
    }

    :host([dir='rtl'][expanded]) [part='toggle']::before {
      transform: rotate(-90deg);
    }

    :host([dir='rtl'][theme~='connectors']) #level-spacer::before {
      background-image: linear-gradient(
        to left,
        transparent calc(var(--vaadin-grid-tree-toggle-level-offset) - 1px),
        var(--lumo-contrast-10pct) calc(var(--vaadin-grid-tree-toggle-level-offset) - 1px)
      );
      background-position: calc(100% - (var(--vaadin-grid-tree-toggle-level-offset) / 2 - 2px)) 0;
    }

    :host([dir='rtl']:not([expanded])) [part='toggle']::before,
    :host([dir='rtl'][expanded]) [part='toggle']::before {
      content: var(--lumo-icons-angle-left);
    }
  `,{moduleId:"lumo-grid-tree-toggle"});/**
 * @license
 * Copyright (c) 2016 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const tg=document.createElement("template");tg.innerHTML=`
  <style>
    @font-face {
      font-family: "vaadin-grid-tree-icons";
      src: url(data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAAAQkAA0AAAAABrwAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABGRlRNAAAECAAAABoAAAAcgHwa6EdERUYAAAPsAAAAHAAAAB4AJwAOT1MvMgAAAZQAAAA/AAAAYA8TBIJjbWFwAAAB8AAAAFUAAAFeGJvXWmdhc3AAAAPkAAAACAAAAAgAAAAQZ2x5ZgAAAlwAAABLAAAAhIrPOhFoZWFkAAABMAAAACsAAAA2DsJI02hoZWEAAAFcAAAAHQAAACQHAgPHaG10eAAAAdQAAAAZAAAAHAxVAgBsb2NhAAACSAAAABIAAAASAIAAVG1heHAAAAF8AAAAGAAAACAACgAFbmFtZQAAAqgAAAECAAACTwflzbdwb3N0AAADrAAAADYAAABZQ7Ajh3icY2BkYGAA4twv3Vfi+W2+MnCzMIDANSOmbGSa2YEZRHEwMIEoAAoiB6sAeJxjYGRgYD7w/wADAwsDCDA7MDAyoAI2AFEEAtIAAAB4nGNgZGBg4GBgZgDRDAxMDGgAAAGbABB4nGNgZp7JOIGBlYGBaSbTGQYGhn4IzfiawZiRkwEVMAqgCTA4MDA+38d84P8BBgdmIAapQZJVYGAEAGc/C54AeJxjYYAAxlAIzQTELAwMBxgZGB0ACy0BYwAAAHicY2BgYGaAYBkGRgYQiADyGMF8FgYbIM3FwMHABISMDArP9/3/+/8/WJXC8z0Q9v8nEp5gHVwMMMAIMo+RDYiZoQJMQIKJARUA7WBhGN4AACFKDtoAAAAAAAAAAAgACAAQABgAJgA0AEIAAHichYvBEYBADAKBVHBjBT4swl9KS2k05o0XHd/yW1hAfBFwCv9sIlJu3nZaNS3PXAaXXHI8Lge7DlzF7C1RgXc7xkK6+gvcD2URmQB4nK2RQWoCMRiFX3RUqtCli65yADModOMBLLgQSqHddRFnQghIAnEUvEA3vUUP0LP0Fj1G+yb8R5iEhO9/ef/7FwFwj28o9EthiVp4hBlehcfUP4Ur8o/wBAv8CU+xVFvhOR7UB7tUdUdlVRJ6HnHWTnhM/V24In8JT5j/KzzFSi2E53hUz7jCcrcIiDDwyKSW1JEct2HdIPH1DFytbUM0PofWdNk5E5oUqb/Q6HHBiVGZpfOXkyUMEj5IyBuNmYZQjBobfsuassvnkKLe1OuBBj0VQ8cRni2xjLWsHaM0jrjx3peYA0/vrdmUYqe9iy7bzrX6eNP7Jh1SijX+AaUVbB8AAHicY2BiwA84GBgYmRiYGJkZmBlZGFkZ2djScyoLMgzZS/MyDQwMwLSruZMzlHaB0q4A76kLlwAAAAEAAf//AA94nGNgZGBg4AFiMSBmYmAEQnYgZgHzGAAD6wA2eJxjYGBgZACCKxJigiD6mhFTNowGACmcA/8AAA==) format('woff');
      font-weight: normal;
      font-style: normal;
    }
  </style>
`;document.head.appendChild(tg.content);class Ef extends j(Si(W)){static get template(){return H`
      <style>
        :host {
          display: inline-flex;
          align-items: baseline;
          max-width: 100%;

          /* CSS API for :host */
          --vaadin-grid-tree-toggle-level-offset: 1em;
          --_collapsed-icon: '\\e7be\\00a0';
        }

        :host([dir='rtl']) {
          --_collapsed-icon: '\\e7bd\\00a0';
        }

        :host([hidden]) {
          display: none !important;
        }

        :host(:not([leaf])) {
          cursor: pointer;
        }

        #level-spacer,
        [part='toggle'] {
          flex: none;
        }

        #level-spacer {
          display: inline-block;
          width: calc(var(---level, '0') * var(--vaadin-grid-tree-toggle-level-offset));
        }

        [part='toggle']::before {
          font-family: 'vaadin-grid-tree-icons';
          line-height: 1em; /* make icon font metrics not affect baseline */
        }

        :host(:not([expanded])) [part='toggle']::before {
          content: var(--_collapsed-icon);
        }

        :host([expanded]) [part='toggle']::before {
          content: '\\e7bc\\00a0'; /* icon glyph + single non-breaking space */
        }

        :host([leaf]) [part='toggle'] {
          visibility: hidden;
        }

        slot {
          display: block;
          overflow: hidden;
          text-overflow: ellipsis;
        }
      </style>

      <span id="level-spacer"></span>
      <span part="toggle"></span>
      <slot></slot>
    `}static get is(){return"vaadin-grid-tree-toggle"}static get properties(){return{level:{type:Number,value:0,observer:"_levelChanged"},leaf:{type:Boolean,value:!1,reflectToAttribute:!0},expanded:{type:Boolean,value:!1,reflectToAttribute:!0,notify:!0}}}ready(){super.ready(),this.addEventListener("click",t=>this._onClick(t))}_onClick(t){this.leaf||ic(t.target)||t.target instanceof HTMLLabelElement||(t.preventDefault(),this.expanded=!this.expanded)}_levelChanged(t){const e=Number(t).toString();this.style.setProperty("---level",e)}}customElements.define(Ef.is,Ef);/**
 * @license
 * Copyright (c) 2021 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const Ox=k`
  :host {
    width: 8em;
  }

  :host([step-buttons-visible]:not([theme~='align-right'])) ::slotted(input),
  :host([has-controls]:not([theme~='align-right'])) ::slotted(input) {
    text-align: center;
  }

  [part$='button'][disabled] {
    opacity: 0.2;
  }

  :host([step-buttons-visible]) [part='input-field'],
  :host([has-controls]) [part='input-field'] {
    padding: 0;
  }

  [part\$='button'] {
    cursor: pointer;
    font-size: var(--lumo-icon-size-s);
    width: 1.6em;
    height: 1.6em;
  }

  [part\$='button']::before {
    margin-top: 0.3em;
  }

  [part='decrease-button']::before {
    content: var(--lumo-icons-minus);
  }

  [part='increase-button']::before {
    content: var(--lumo-icons-plus);
  }

  /* RTL specific styles */
  :host([dir='rtl']:not([theme~='align-right'])) ::slotted(input) {
    --_lumo-text-field-overflow-mask-image: linear-gradient(to left, transparent, #000 1.25em);
  }
`;R("vaadin-number-field",[Xt,ec,Ox],{moduleId:"lumo-number-field"});/**
 * @license
 * Copyright (c) 2021 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */R("vaadin-number-field",Ji,{moduleId:"vaadin-number-field-styles"});class mh extends Km(j(re(W))){static get is(){return"vaadin-number-field"}static get template(){return H`
      <style>
        :host([readonly]) [part$='button'] {
          pointer-events: none;
        }

        [part='decrease-button']::before {
          content: '−';
        }

        [part='increase-button']::before {
          content: '+';
        }

        [part='decrease-button'],
        [part='increase-button'] {
          -webkit-user-select: none;
          -moz-user-select: none;
          user-select: none;
        }

        :host([dir='rtl']) [part='input-field'] {
          direction: ltr;
        }
      </style>

      <div class="vaadin-field-container">
        <div part="label">
          <slot name="label"></slot>
          <span part="required-indicator" aria-hidden="true" on-click="focus"></span>
        </div>

        <vaadin-input-container
          part="input-field"
          readonly="[[readonly]]"
          disabled="[[disabled]]"
          invalid="[[invalid]]"
          theme$="[[_theme]]"
        >
          <div
            disabled$="[[!_allowed(-1, value, min, max, step)]]"
            part="decrease-button"
            on-click="_decreaseValue"
            on-touchend="_decreaseButtonTouchend"
            hidden$="[[!_isStepButtonVisible(hasControls, stepButtonsVisible)]]"
            aria-hidden="true"
            slot="prefix"
          ></div>
          <slot name="prefix" slot="prefix"></slot>
          <slot name="input"></slot>
          <slot name="suffix" slot="suffix"></slot>
          <div id="clearButton" part="clear-button" slot="suffix" aria-hidden="true"></div>
          <div
            disabled$="[[!_allowed(1, value, min, max, step)]]"
            part="increase-button"
            on-click="_increaseValue"
            on-touchend="_increaseButtonTouchend"
            hidden$="[[!_isStepButtonVisible(hasControls, stepButtonsVisible)]]"
            aria-hidden="true"
            slot="suffix"
          ></div>
        </vaadin-input-container>

        <div part="helper-text">
          <slot name="helper"></slot>
        </div>

        <div part="error-message">
          <slot name="error-message"></slot>
        </div>
      </div>

      <slot name="tooltip"></slot>
    `}static get properties(){return{hasControls:{type:Boolean,value:!1,reflectToAttribute:!0},stepButtonsVisible:{type:Boolean,value:!1,reflectToAttribute:!0},min:{type:Number},max:{type:Number},step:{type:Number}}}static get observers(){return["_stepChanged(step, inputElement)"]}static get delegateProps(){return[...super.delegateProps,"min","max"]}static get constraints(){return[...super.constraints,"min","max","step"]}constructor(){super(),this._setType("number")}get slotStyles(){const t=this.localName;return[...super.slotStyles,`
        ${t} input[type="number"]::-webkit-outer-spin-button,
        ${t} input[type="number"]::-webkit-inner-spin-button {
          -webkit-appearance: none;
          margin: 0;
        }

        ${t} input[type="number"] {
          -moz-appearance: textfield;
        }

        ${t}[dir='rtl'] input[type="number"]::placeholder {
          direction: rtl;
        }

        ${t}[dir='rtl']:not([step-buttons-visible]):not([has-controls]) input[type="number"]::placeholder {
          text-align: left;
        }
      `]}get clearElement(){return this.$.clearButton}ready(){super.ready(),this.addController(new Wr(this,t=>{this._setInputElement(t),this._setFocusElement(t),this.stateTarget=t,this.ariaTarget=t})),this.addController(new Qi(this.inputElement,this._labelController)),this._tooltipController=new ke(this),this.addController(this._tooltipController),this._tooltipController.setPosition("top")}checkValidity(){return this.inputElement?this.inputElement.checkValidity():!this.invalid}_decreaseButtonTouchend(t){t.preventDefault(),this._decreaseValue()}_increaseButtonTouchend(t){t.preventDefault(),this._increaseValue()}_decreaseValue(){this._incrementValue(-1)}_increaseValue(){this._incrementValue(1)}_incrementValue(t){if(this.disabled||this.readonly)return;const e=this.step||1;let i=parseFloat(this.value);this.value?i<this.min?(t=0,i=this.min):i>this.max&&(t=0,i=this.max):this.min===0&&t<0||this.max===0&&t>0||this.max===0&&this.min===0?(t=0,i=0):(this.max==null||this.max>=0)&&(this.min==null||this.min<=0)?i=0:this.min>0?(i=this.min,this.max<0&&t<0&&(i=this.max),t=0):this.max<0&&(i=this.max,t<0?t=0:this._getIncrement(1,i-e)>this.max?i-=2*e:i-=e);const n=this._getIncrement(t,i);(!this.value||t===0||this._incrementIsInsideTheLimits(t,i))&&this._setValue(n)}_setValue(t){this.value=this.inputElement.value=String(parseFloat(t)),this.dispatchEvent(new CustomEvent("change",{bubbles:!0}))}_getIncrement(t,e){let i=this.step||1,n=this.min||0;const s=Math.max(this._getMultiplier(e),this._getMultiplier(i),this._getMultiplier(n));i*=s,e=Math.round(e*s),n*=s;const o=(e-n)%i;return t>0?(e-o+i)/s:t<0?(e-(o||i))/s:e/s}_getDecimalCount(t){const e=String(t),i=e.indexOf(".");return i===-1?1:e.length-i-1}_getMultiplier(t){if(!isNaN(t))return 10**this._getDecimalCount(t)}_incrementIsInsideTheLimits(t,e){return t<0?this.min==null||this._getIncrement(t,e)>=this.min:t>0?this.max==null||this._getIncrement(t,e)<=this.max:this._getIncrement(t,e)<=this.max&&this._getIncrement(t,e)>=this.min}_allowed(t){const e=t*(this.step||1),i=parseFloat(this.value);return!this.value||!this.disabled&&this._incrementIsInsideTheLimits(e,i)}_stepChanged(t,e){e&&(e.step=t||"any")}_valueChanged(t,e){t&&isNaN(parseFloat(t))?this.value="":typeof this.value!="string"&&(this.value=String(this.value)),super._valueChanged(this.value,e)}_onKeyDown(t){t.key==="ArrowUp"?(t.preventDefault(),this._increaseValue()):t.key==="ArrowDown"&&(t.preventDefault(),this._decreaseValue()),super._onKeyDown(t)}_isStepButtonVisible(t,e){return t||e}_setHasInputValue(t){const e=t.composedPath()[0];this._hasInputValue=e.value.length>0||e.validity.badInput}}customElements.define(mh.is,mh);/**
 * @license
 * Copyright (c) 2021 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class If extends mh{static get is(){return"vaadin-integer-field"}constructor(){super(),this.allowedCharPattern="[-+\\d]"}_valueChanged(t,e){if(t!==""&&!this.__isInteger(t)){console.warn(`Trying to set non-integer value "${t}" to <vaadin-integer-field>. Clearing the value.`),this.value="";return}super._valueChanged(t,e)}_stepChanged(t,e){if(t!=null&&!this.__hasOnlyDigits(t)){console.warn(`<vaadin-integer-field> The \`step\` property must be a positive integer but \`${t}\` was provided, so the property was reset to \`null\`.`),this.step=null;return}super._stepChanged(t,e)}__isInteger(t){return/^(-\d)?\d*$/.test(String(t))}__hasOnlyDigits(t){return/^\d+$/.test(String(t))}}customElements.define(If.is,If);/**
 * @license
 * Copyright (c) 2021 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const Mx=k`
  :host {
    position: absolute;
    right: 0;
    top: 0;
    margin: 0;
    padding: 0;
    width: 100%;
    height: 100%;
    min-width: auto;
    background: transparent;
    outline: none;
  }
`;R("vaadin-password-field-button",[Qu,Mx],{moduleId:"lumo-password-field-button"});/**
 * @license
 * Copyright (c) 2021 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const Rx=k`
  [part='reveal-button']::before {
    content: var(--lumo-icons-eye);
  }

  :host([password-visible]) [part='reveal-button']::before {
    content: var(--lumo-icons-eye-disabled);
  }

  /* Make it easy to hide the button across the whole app */
  [part='reveal-button'] {
    position: relative;
    display: var(--lumo-password-field-reveal-button-display, block);
  }

  [part='reveal-button'][hidden] {
    display: none !important;
  }
`;R("vaadin-password-field",[Xt,Rx],{moduleId:"lumo-password-field"});/**
 * @license
 * Copyright (c) 2021 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class Sf extends Ka{static get is(){return"vaadin-password-field-button"}static get template(){return H`
      <style>
        :host {
          display: block;
        }

        :host([hidden]) {
          display: none !important;
        }
      </style>
      <slot name="tooltip"></slot>
    `}}customElements.define(Sf.is,Sf);/**
 * @license
 * Copyright (c) 2021 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const Px=H`
  <div part="reveal-button" slot="suffix">
    <slot name="reveal"></slot>
  </div>
`;let Ms;class Tf extends Xm{static get is(){return"vaadin-password-field"}static get template(){if(!Ms){Ms=super.template.cloneNode(!0);const t=Px.content.querySelector('[part="reveal-button"]');Ms.content.querySelector('[part="input-field"]').appendChild(t)}return Ms}static get properties(){return{revealButtonHidden:{type:Boolean,observer:"_revealButtonHiddenChanged",value:!1},passwordVisible:{type:Boolean,value:!1,reflectToAttribute:!0,observer:"_passwordVisibleChanged",readOnly:!0},i18n:{type:Object,value:()=>({reveal:"Show password"})}}}static get observers(){return["__i18nChanged(i18n.*)"]}get slotStyles(){const t=this.localName;return[...super.slotStyles,`
        ${t} [slot="input"]::-ms-reveal {
          display: none;
        }
      `]}get _revealNode(){return this._revealButtonController&&this._revealButtonController.node}constructor(){super(),this._setType("password"),this.__boundRevealButtonClick=this._onRevealButtonClick.bind(this),this.__boundRevealButtonTouchend=this._onRevealButtonTouchend.bind(this)}ready(){super.ready(),this._revealPart=this.shadowRoot.querySelector('[part="reveal-button"]'),this._revealButtonController=new tl(this,"reveal",()=>document.createElement("vaadin-password-field-button"),(t,e)=>{e.disabled=t.disabled,e.addEventListener("click",t.__boundRevealButtonClick),e.addEventListener("touchend",t.__boundRevealButtonTouchend)}),this.addController(this._revealButtonController),this.__updateAriaLabel(this.i18n),this._updateToggleState(!1),this._toggleRevealHidden(this.revealButtonHidden),this.inputElement&&(this.inputElement.autocapitalize="off")}_shouldSetFocus(t){return t.target===this.inputElement||t.target===this._revealNode}_shouldRemoveFocus(t){return!(t.relatedTarget===this._revealNode||t.relatedTarget===this.inputElement&&t.target===this._revealNode)}_setFocused(t){if(super._setFocused(t),!t)this._setPasswordVisible(!1);else{const e=this.getRootNode().activeElement===this._revealNode;this.toggleAttribute("focus-ring",this._keyboardActive&&!e)}}__updateAriaLabel(t){t.reveal&&this._revealNode&&this._revealNode.setAttribute("aria-label",t.reveal)}__i18nChanged(t){this.__updateAriaLabel(t.base)}_revealButtonHiddenChanged(t){this._toggleRevealHidden(t)}_togglePasswordVisibility(){this._setPasswordVisible(!this.passwordVisible)}_onRevealButtonClick(){this._togglePasswordVisibility()}_onRevealButtonTouchend(t){t.preventDefault(),this._togglePasswordVisibility(),this.inputElement.focus()}_toggleRevealHidden(t){this._revealNode&&(t?(this._revealPart.setAttribute("hidden",""),this._revealNode.setAttribute("tabindex","-1"),this._revealNode.setAttribute("aria-hidden","true")):(this._revealPart.removeAttribute("hidden"),this._revealNode.setAttribute("tabindex","0"),this._revealNode.removeAttribute("aria-hidden")))}_updateToggleState(t){this._revealNode&&this._revealNode.setAttribute("aria-pressed",t?"true":"false")}_passwordVisibleChanged(t){this._setType(t?"text":"password"),this._updateToggleState(t)}_disabledChanged(t,e){super._disabledChanged(t,e),this._revealNode&&(this._revealNode.disabled=t)}}customElements.define(Tf.is,Tf);const kx=k`
  :host {
    max-width: calc(var(--lumo-size-m) * 10);
    background: var(--lumo-base-color) linear-gradient(var(--lumo-tint-5pct), var(--lumo-tint-5pct));
  }

  [part='form'] {
    padding: var(--lumo-space-l);
  }

  [part='form-title'] {
    margin-top: calc(var(--lumo-font-size-xxxl) - var(--lumo-font-size-xxl));
  }

  #forgotPasswordButton {
    margin: var(--lumo-space-s) auto;
  }

  [part='error-message'] {
    background-color: var(--lumo-error-color-10pct);
    padding: var(--lumo-space-m);
    border-radius: var(--lumo-border-radius-m);
    margin-top: var(--lumo-space-m);
    margin-bottom: var(--lumo-space-s);
    color: var(--lumo-error-text-color);
  }

  :host(:not([dir='rtl'])) [part='error-message'] {
    padding-left: var(--lumo-size-m);
  }

  :host([dir='rtl']) [part='error-message'] {
    padding-right: var(--lumo-size-m);
  }

  [part='error-message']::before {
    content: var(--lumo-icons-error);
    font-family: lumo-icons;
    font-size: var(--lumo-icon-size-m);
    position: absolute;
    width: var(--lumo-size-m);
    height: 1em;
    line-height: 1;
    text-align: center;
  }

  :host(:not([dir='rtl'])) [part='error-message']::before {
    /* Visual centering */
    margin-left: calc(var(--lumo-size-m) * -0.95);
  }

  :host([dir='rtl']) [part='error-message']::before {
    /* Visual centering */
    margin-right: calc(var(--lumo-size-m) * -0.95);
  }

  [part='error-message-title'] {
    margin: 0 0 0.25em;
    color: inherit;
  }

  [part='error-message-description'] {
    font-size: var(--lumo-font-size-s);
    line-height: var(--lumo-line-height-s);
    margin: 0;
    opacity: 0.9;
  }

  [part='footer'] {
    font-size: var(--lumo-font-size-xs);
    line-height: var(--lumo-line-height-s);
    color: var(--lumo-secondary-text-color);
  }
`;R("vaadin-login-form-wrapper",[ju,qu,kx],{moduleId:"lumo-login-form-wrapper"});/**
 * @license
 * Copyright (c) 2018 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const fc=r=>class extends r{static get properties(){return{action:{type:String,value:null},disabled:{type:Boolean,value:!1,notify:!0},error:{type:Boolean,value:!1,reflectToAttribute:!0,notify:!0},noForgotPassword:{type:Boolean,value:!1},noAutofocus:{type:Boolean,value:!1},i18n:{type:Object,value(){return{form:{title:"Log in",username:"Username",password:"Password",submit:"Log in",forgotPassword:"Forgot password"},errorMessage:{title:"Incorrect username or password",message:"Check that you have entered the correct username and password and try again."}}}},_preventAutoEnable:{type:Boolean,value:!1}}}_retargetEvent(e){e.stopPropagation();const{detail:i,composed:n,cancelable:s,bubbles:o}=e;this.dispatchEvent(new CustomEvent(e.type,{bubbles:o,cancelable:s,composed:n,detail:i}))||e.preventDefault()}};/**
 * @license
 * Copyright (c) 2018 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class Of extends fc(re(j(W))){static get template(){return H`
      <style>
        :host {
          overflow: hidden;
          display: inline-block;
        }

        :host([hidden]) {
          display: none !important;
        }

        [part='form'] {
          flex: 1;
          display: flex;
          flex-direction: column;
          box-sizing: border-box;
        }

        [part='form-title'] {
          margin: 0;
        }

        [part='error-message'] {
          position: relative;
        }
      </style>
      <section part="form">
        <h2 part="form-title">[[i18n.form.title]]</h2>
        <div part="error-message" hidden$="[[!error]]">
          <h5 part="error-message-title">[[i18n.errorMessage.title]]</h5>
          <p part="error-message-description">[[i18n.errorMessage.message]]</p>
        </div>

        <slot name="form"></slot>

        <vaadin-button
          id="forgotPasswordButton"
          theme="tertiary small forgot-password"
          on-click="_forgotPassword"
          hidden$="[[noForgotPassword]]"
          >[[i18n.form.forgotPassword]]</vaadin-button
        >

        <div part="footer">
          <p>[[i18n.additionalInformation]]</p>
        </div>
      </section>
    `}static get is(){return"vaadin-login-form-wrapper"}_forgotPassword(){this.dispatchEvent(new CustomEvent("forgot-password"))}}customElements.define(Of.is,Of);R("vaadin-login-form",k`
    vaadin-button[part='vaadin-login-submit'] {
      margin-top: var(--lumo-space-l);
      margin-bottom: var(--lumo-space-s);
    }
  `,{moduleId:"lumo-login-form"});/**
 * @license
 * Copyright (c) 2018 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class Mf extends fc(re(j(W))){static get template(){return H`
      <style>
        [part='vaadin-login-native-form'] * {
          width: 100%;
        }
      </style>
      <vaadin-login-form-wrapper
        theme$="[[_theme]]"
        part="vaadin-login-native-form-wrapper"
        error="[[error]]"
        no-forgot-password="[[noForgotPassword]]"
        i18n="[[i18n]]"
        on-login="_retargetEvent"
        on-forgot-password="_retargetEvent"
      >
        <form part="vaadin-login-native-form" method="POST" action$="[[action]]" slot="form">
          <input id="csrf" type="hidden" />
          <vaadin-text-field
            name="username"
            label="[[i18n.form.username]]"
            id="vaadinLoginUsername"
            required
            on-keydown="_handleInputKeydown"
            autocapitalize="none"
            autocorrect="off"
            spellcheck="false"
            autocomplete="username"
          >
            <input type="text" slot="input" on-keyup="_handleInputKeyup" />
          </vaadin-text-field>

          <vaadin-password-field
            name="password"
            label="[[i18n.form.password]]"
            id="vaadinLoginPassword"
            required
            on-keydown="_handleInputKeydown"
            spellcheck="false"
            autocomplete="current-password"
          >
            <input type="password" slot="input" on-keyup="_handleInputKeyup" />
          </vaadin-password-field>

          <vaadin-button part="vaadin-login-submit" theme="primary contained" on-click="submit" disabled$="[[disabled]]"
            >[[i18n.form.submit]]</vaadin-button
          >
        </form>
      </vaadin-login-form-wrapper>
    `}static get is(){return"vaadin-login-form"}connectedCallback(){super.connectedCallback(),this.noAutofocus||this.$.vaadinLoginUsername.focus()}_attachDom(t){this.appendChild(t)}static get observers(){return["_errorChanged(error)"]}_errorChanged(){this.error&&!this._preventAutoEnable&&(this.disabled=!1)}submit(){const t=this.$.vaadinLoginUsername,e=this.$.vaadinLoginPassword;if(this.disabled||!(t.validate()&&e.validate()))return;this.error=!1,this.disabled=!0;const i={bubbles:!0,cancelable:!0,detail:{username:t.value,password:e.value}},n=this.dispatchEvent(new CustomEvent("login",i));if(this.action&&n){const s=document.querySelector("meta[name=_csrf_parameter]"),o=document.querySelector("meta[name=_csrf]");s&&o&&(this.$.csrf.name=s.content,this.$.csrf.value=o.content),this.querySelector('[part="vaadin-login-native-form"]').submit()}}_handleInputKeydown(t){if(t.key==="Enter"){const{currentTarget:e}=t,i=e.id==="vaadinLoginUsername"?this.$.vaadinLoginPassword:this.$.vaadinLoginUsername;e.validate()&&(i.validate()?this.submit():i.focus())}}_handleInputKeyup(t){const e=t.currentTarget;t.key==="Tab"&&e instanceof HTMLInputElement&&e.select()}}customElements.define(Mf.is,Mf);const Dx=k`
  :host {
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
  }

  [part='backdrop'] {
    background: var(--lumo-base-color) linear-gradient(var(--lumo-shade-5pct), var(--lumo-shade-5pct));
  }

  [part='content'] {
    padding: 0;
  }

  [part='overlay'] {
    background: none;
    border-radius: 0;
    box-shadow: none;
    width: 100%;
    height: 100%;
  }

  [part='card'] {
    width: calc(var(--lumo-size-m) * 10);
    background: var(--lumo-base-color) linear-gradient(var(--lumo-tint-5pct), var(--lumo-tint-5pct));
  }

  [part='brand'] {
    padding: var(--lumo-space-l) var(--lumo-space-xl) var(--lumo-space-l) var(--lumo-space-l);
    background-color: var(--lumo-primary-color);
    color: var(--lumo-primary-contrast-color);
    min-height: calc(var(--lumo-size-m) * 5);
  }

  [part='description'] {
    line-height: var(--lumo-line-height-s);
    color: var(--lumo-tint-70pct);
    margin-bottom: 0;
  }

  [part='content'] {
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  [part='card'] {
    border-radius: var(--lumo-border-radius-l);
    box-shadow: var(--lumo-box-shadow-s);
    margin: var(--lumo-space-s);
    height: auto;
  }

  /* Small screen */
  @media only screen and (max-width: 500px) {
    [part='overlay'],
    [part='content'] {
      height: 100%;
    }

    [part='content'] {
      min-height: 100%;
      background: var(--lumo-base-color);
      align-items: flex-start;
    }

    [part='card'],
    [part='overlay'] {
      width: 100%;
      border-radius: 0;
      box-shadow: none;
      margin: 0;
    }

    /* RTL styles */
    :host([dir='rtl']) [part='brand'] {
      padding: var(--lumo-space-l) var(--lumo-space-l) var(--lumo-space-l) var(--lumo-space-xl);
    }
  }

  /* Landscape small screen */
  @media only screen and (max-height: 600px) and (min-width: 600px) and (orientation: landscape) {
    [part='card'] {
      flex-direction: row;
      align-items: stretch;
      max-width: calc(var(--lumo-size-m) * 16);
      width: 100%;
    }

    [part='brand'],
    [part='form'] {
      flex: auto;
      flex-basis: 0;
      box-sizing: border-box;
    }

    [part='brand'] {
      justify-content: flex-start;
    }

    [part='form'] {
      padding: var(--lumo-space-l);
      overflow: auto;
    }
  }

  /* Landscape really small screen */
  @media only screen and (max-height: 500px) and (min-width: 600px) and (orientation: landscape),
    only screen and (max-width: 600px) and (min-width: 600px) and (orientation: landscape) {
    [part='content'] {
      height: 100vh;
    }

    [part='card'] {
      margin: 0;
      width: 100%;
      max-width: none;
      height: 100%;
      flex: auto;
      border-radius: 0;
      box-shadow: none;
    }

    [part='form'] {
      height: 100%;
      overflow: auto;
      -webkit-overflow-scrolling: touch;
    }
  }

  /* Handle iPhone X notch */
  @media only screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) {
    [part='card'] {
      padding-right: constant(safe-area-inset-right);
      padding-right: env(safe-area-inset-right);

      padding-left: constant(safe-area-inset-left);
      padding-left: env(safe-area-inset-left);
    }

    [part='brand'] {
      margin-left: calc(constant(safe-area-inset-left) * -1);
      margin-left: calc(env(safe-area-inset-left) * -1);

      padding-left: calc(var(--lumo-space-l) + constant(safe-area-inset-left));
      padding-left: calc(var(--lumo-space-l) + env(safe-area-inset-left));
    }

    /* RTL styles */
    :host([dir='rtl']) [part='card'] {
      padding-left: constant(safe-area-inset-right);
      padding-left: env(safe-area-inset-right);
      padding-right: constant(safe-area-inset-left);
      padding-right: env(safe-area-inset-left);
    }

    :host([dir='rtl']) [part='brand'] {
      margin-right: calc(constant(safe-area-inset-left) * -1);
      margin-right: calc(env(safe-area-inset-left) * -1);
      padding-right: calc(var(--lumo-space-l) + constant(safe-area-inset-left));
      padding-right: calc(var(--lumo-space-l) + env(safe-area-inset-left));
    }
  }
`;R("vaadin-login-overlay-wrapper",[ju,qu,Dx],{moduleId:"vaadin-login-overlay-wrapper-lumo-styles"});const Lx=k`
  :host([theme~='with-overlay']) {
    min-height: 100%;
    display: flex;
    justify-content: center;
    max-width: 100%;
  }

  /* Landscape small screen */
  @media only screen and (max-height: 600px) and (min-width: 600px) and (orientation: landscape) {
    :host([theme~='with-overlay']) [part='form'] {
      height: 100%;
      -webkit-overflow-scrolling: touch;
      flex: 1;
      padding: 2px;
    }
  }
`;R("vaadin-login-form-wrapper",[ju,qu,Lx],{moduleId:"lumo-login-overlay"});/**
 * @license
 * Copyright (c) 2018 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const ig=document.createElement("template");ig.innerHTML=`<dom-module id="vaadin-login-overlay-wrapper-template">
  <template>
    <style>
      [part="overlay"] {
        outline: none;
      }

      [part="card"] {
        max-width: 100%;
        box-sizing: border-box;
        overflow: hidden;
        display: flex;
        flex-direction: column;
      }

      [part="brand"] {
        box-sizing: border-box;
        overflow: hidden;
        flex-grow: 1;
        flex-shrink: 0;
        display: flex;
        flex-direction: column;
        justify-content: flex-end;
      }

      [part="brand"] h1 {
        color: inherit;
        margin: 0;
      }
    </style>
    <section part="card">
      <div part="brand">
        <slot name="title">
          <h1 part="title">[[title]]</h1>
        </slot>
        <p part="description">[[description]]</p>
      </div>
      <div part="form">
        <slot></slot>
      </div>
    </section>
  </template>
</dom-module>`;document.head.appendChild(ig.content);let Rs;class Rf extends Ti{static get is(){return"vaadin-login-overlay-wrapper"}static get properties(){return{title:{type:String},description:{type:String}}}static get template(){if(!Rs){Rs=super.template.cloneNode(!0);const t=zb.import(`${this.is}-template`,"template"),e=t.content.querySelector("[part=card]"),i=t.content.querySelector("style"),n=Rs.content.querySelector("#content");n.replaceChild(e,n.children[0]),n.appendChild(i)}return Rs}}customElements.define(Rf.is,Rf);/**
 * @license
 * Copyright (c) 2018 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class Pf extends fc(re(j(W))){static get template(){return H`
      <vaadin-login-overlay-wrapper
        id="vaadinLoginOverlayWrapper"
        opened="{{opened}}"
        focus-trap
        with-backdrop
        title="[[title]]"
        description="[[description]]"
        theme$="[[_theme]]"
      >
        <vaadin-login-form
          theme="with-overlay"
          id="vaadinLoginForm"
          action="[[action]]"
          disabled="{{disabled}}"
          error="{{error}}"
          no-autofocus="[[noAutofocus]]"
          no-forgot-password="[[noForgotPassword]]"
          i18n="{{i18n}}"
          on-login="_retargetEvent"
          on-forgot-password="_retargetEvent"
        ></vaadin-login-form>
      </vaadin-login-overlay-wrapper>
    `}static get is(){return"vaadin-login-overlay"}static get properties(){return{description:{type:String,value:"Application description",notify:!0},opened:{type:Boolean,value:!1,observer:"_onOpenedChange"},title:{type:String,value:"App name"}}}static get observers(){return["__i18nChanged(i18n.header.*)"]}ready(){super.ready(),this._preventClosingLogin=this._preventClosingLogin.bind(this)}connectedCallback(){super.connectedCallback(),this.$.vaadinLoginOverlayWrapper.addEventListener("vaadin-overlay-outside-click",this._preventClosingLogin),this.$.vaadinLoginOverlayWrapper.addEventListener("vaadin-overlay-escape-press",this._preventClosingLogin),this.__restoreOpened&&(this.$.vaadinLoginOverlayWrapper.opened=!0)}disconnectedCallback(){super.disconnectedCallback(),this.$.vaadinLoginOverlayWrapper.removeEventListener("vaadin-overlay-outside-click",this._preventClosingLogin),this.$.vaadinLoginOverlayWrapper.removeEventListener("vaadin-overlay-escape-press",this._preventClosingLogin),this.__restoreOpened=this.$.vaadinLoginOverlayWrapper.opened,this.$.vaadinLoginOverlayWrapper.opened=!1}__i18nChanged(t){const e=t.base;!e||(this.title=e.title,this.description=e.description)}_preventClosingLogin(t){t.preventDefault()}_onOpenedChange(){this.opened?(this._undoTeleport=this._teleport(this._getElementsToTeleport()),document.body.style.pointerEvents=this.$.vaadinLoginOverlayWrapper._previousDocumentPointerEvents):(this.$.vaadinLoginForm.$.vaadinLoginUsername.value="",this.$.vaadinLoginForm.$.vaadinLoginPassword.value="",this.disabled=!1,this._undoTeleport&&this._undoTeleport())}_teleport(t){const e=Array.from(t).map(i=>this.$.vaadinLoginOverlayWrapper.appendChild(i));return()=>{for(;e.length>0;)this.appendChild(e.shift())}}_getElementsToTeleport(){return this.querySelectorAll("[slot=title]")}}customElements.define(Pf.is,Pf);const Fx=k`
  :host {
    margin: calc(var(--lumo-space-xs) / 2);
    margin-left: 0;
    border-radius: 0;
  }

  [part='label'] {
    width: 100%;
  }

  /* NOTE(web-padawan): avoid using shorthand padding property for IE11 */
  [part='label'] ::slotted(vaadin-context-menu-item) {
    justify-content: center;
    background-color: transparent;
    height: var(--lumo-button-size);
    margin: 0 calc((var(--lumo-size-m) / 3 + var(--lumo-border-radius-m) / 2) * -1);
    padding-left: calc(var(--lumo-size-m) / 3 + var(--lumo-border-radius-m) / 2);
    padding-right: calc(var(--lumo-size-m) / 3 + var(--lumo-border-radius-m) / 2);
  }

  :host([theme~='small']) [part='label'] ::slotted(vaadin-context-menu-item) {
    min-height: var(--lumo-size-s);
    margin: 0 calc((var(--lumo-size-s) / 3 + var(--lumo-border-radius-m) / 2) * -1);
    padding-left: calc(var(--lumo-size-s) / 3 + var(--lumo-border-radius-m) / 2);
    padding-right: calc(var(--lumo-size-s) / 3 + var(--lumo-border-radius-m) / 2);
  }

  :host([theme~='tertiary']) [part='label'] ::slotted(vaadin-context-menu-item) {
    margin: 0 calc((var(--lumo-button-size) / 6) * -1);
    padding-left: calc(var(--lumo-button-size) / 6);
    padding-right: calc(var(--lumo-button-size) / 6);
  }

  :host([theme~='tertiary-inline']) {
    margin-top: calc(var(--lumo-space-xs) / 2);
    margin-bottom: calc(var(--lumo-space-xs) / 2);
    margin-right: calc(var(--lumo-space-xs) / 2);
  }

  :host([theme~='tertiary-inline']) [part='label'] ::slotted(vaadin-context-menu-item) {
    margin: 0;
    padding: 0;
  }

  :host(:first-of-type) {
    border-radius: var(--lumo-border-radius-m) 0 0 var(--lumo-border-radius-m);

    /* Needed to retain the focus-ring with border-radius */
    margin-left: calc(var(--lumo-space-xs) / 2);
  }

  :host(:nth-last-of-type(2)),
  :host([part='overflow-button']) {
    border-radius: 0 var(--lumo-border-radius-m) var(--lumo-border-radius-m) 0;
  }

  :host([theme~='tertiary']),
  :host([theme~='tertiary-inline']) {
    border-radius: var(--lumo-border-radius-m);
  }

  :host([part='overflow-button']) {
    min-width: var(--lumo-button-size);
    padding-left: calc(var(--lumo-button-size) / 4);
    padding-right: calc(var(--lumo-button-size) / 4);
  }

  :host([part='overflow-button']) ::slotted(*) {
    font-size: var(--lumo-font-size-xl);
  }

  :host([part='overflow-button']) [part='prefix'],
  :host([part='overflow-button']) [part='suffix'] {
    margin-left: 0;
    margin-right: 0;
  }

  /* RTL styles */
  :host([dir='rtl']) {
    margin-left: calc(var(--lumo-space-xs) / 2);
    margin-right: 0;
    border-radius: 0;
  }

  :host([dir='rtl']:first-of-type) {
    border-radius: 0 var(--lumo-border-radius-m) var(--lumo-border-radius-m) 0;
    margin-right: calc(var(--lumo-space-xs) / 2);
  }

  :host([dir='rtl']:nth-last-of-type(2)),
  :host([dir='rtl'][part='overflow-button']) {
    border-radius: var(--lumo-border-radius-m) 0 0 var(--lumo-border-radius-m);
  }
`;R("vaadin-menu-bar-button",[Qu,Fx],{moduleId:"lumo-menu-bar-button"});/**
 * @license
 * Copyright (c) 2019 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */R("vaadin-menu-bar-button",k`
    [part='label'] ::slotted(vaadin-context-menu-item) {
      position: relative;
      z-index: 1;
    }
  `,{moduleId:"vaadin-menu-bar-button-styles"});class kf extends Ka{static get is(){return"vaadin-menu-bar-button"}}customElements.define(kf.is,kf);R("vaadin-context-menu-item",k`
    :host([theme='menu-bar-item']) [part='content'] {
      display: flex;
      /* tweak to inherit centering from menu bar button */
      align-items: inherit;
      justify-content: inherit;
    }

    :host([theme='menu-bar-item']) [part='content'] ::slotted(vaadin-icon),
    :host([theme='menu-bar-item']) [part='content'] ::slotted(iron-icon) {
      display: inline-block;
      width: var(--lumo-icon-size-m);
      height: var(--lumo-icon-size-m);
    }

    :host([theme='menu-bar-item']) [part='content'] ::slotted(vaadin-icon[icon^='vaadin:']),
    :host([theme='menu-bar-item']) [part='content'] ::slotted(iron-icon[icon^='vaadin:']) {
      padding: var(--lumo-space-xs);
      box-sizing: border-box !important;
    }
  `,{moduleId:"lumo-menu-bar-item"});R("vaadin-context-menu-overlay",k`
    :host(:first-of-type) {
      padding-top: var(--lumo-space-xs);
    }
  `,{moduleId:"lumo-menu-bar-overlay"});R("vaadin-menu-bar",k`
    :host([has-single-button]) [part$='button'] {
      border-radius: var(--lumo-border-radius-m);
    }

    :host([theme~='end-aligned']) [part$='button']:first-child,
    :host([theme~='end-aligned'][has-single-button]) [part$='button'] {
      margin-inline-start: auto;
    }
  `,{moduleId:"lumo-menu-bar"});/**
 * @license
 * Copyright (c) 2019 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class Df extends ph{static get is(){return"vaadin-menu-bar-submenu"}constructor(){super(),this.openOn="opensubmenu"}_openedChanged(t){this.$.overlay.opened=t}close(){super.close(),this.hasAttribute("is-root")&&this.getRootNode().host._close()}}customElements.define(Df.is,Df);/**
 * @license
 * Copyright (c) 2019 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const $x=r=>class extends er(r){static get properties(){return{_hasOverflow:{type:Boolean,value:!1}}}static get observers(){return["_menuItemsChanged(items, items.splices)"]}get _observeParent(){return!0}ready(){super.ready(),this.setAttribute("role","menubar")}connectedCallback(){super.connectedCallback(),this._initButtonAttrs(this._overflow)}get _buttons(){return Array.from(this.shadowRoot.querySelectorAll('[part$="button"]'))}get _container(){return this.shadowRoot.querySelector('[part="container"]')}get _overflow(){return this.shadowRoot.querySelector('[part="overflow-button"]')}_menuItemsChanged(t){t!==this._oldItems&&(this._oldItems=t,this.__renderButtons(t))}__getOverflowCount(t){return t.item&&t.item.children&&t.item.children.length||0}__restoreButtons(t){for(let e=0;e<t.length;e++){const i=t[e];i.disabled=i.item&&i.item.disabled||this.disabled,i.style.visibility="",i.style.position="";const n=i.item&&i.item.component;n instanceof HTMLElement&&n.classList.contains("vaadin-menu-item")&&(i.appendChild(n),n.classList.remove("vaadin-menu-item"))}this.__updateOverflow([])}__updateOverflow(t){this._overflow.item={children:t},this._hasOverflow=t.length>0}__setOverflowItems(t,e){const i=this._container;if(i.offsetWidth<i.scrollWidth){this._hasOverflow=!0;const n=this.getAttribute("dir")==="rtl";let s;for(s=t.length;s>0;s--){const a=t[s-1],l=getComputedStyle(a);if(!n&&a.offsetLeft+a.offsetWidth<i.offsetWidth-e.offsetWidth||n&&a.offsetLeft>=e.offsetWidth)break;a.disabled=!0,a.style.visibility="hidden",a.style.position="absolute",a.style.width=l.width}const o=t.filter((a,l)=>l>=s).map(a=>a.item);this.__updateOverflow(o)}}__detectOverflow(){const t=this._overflow,e=this._buttons.filter(o=>o!==t),i=this.__getOverflowCount(t);this.__restoreButtons(e),this.__setOverflowItems(e,t);const n=this.__getOverflowCount(t);i!==n&&this._subMenu.opened&&this._subMenu.close();const s=n===e.length||n===0&&e.length===1;this.toggleAttribute("has-single-button",s)}_removeButtons(){const t=this._container;for(;t.children.length>1;)t.removeChild(t.firstElementChild)}_initButton(t){const e=document.createElement("vaadin-menu-bar-button");e.setAttribute("part","menu-bar-button");const i={...t};if(e.item=i,t.component){const n=this.__getComponent(i);i.component=n,n.item=i,e.appendChild(n)}else t.text&&(e.textContent=t.text);return e}_initButtonAttrs(t){t.setAttribute("role","menuitem"),(t===this._overflow||t.item&&t.item.children)&&(t.setAttribute("aria-haspopup","true"),t.setAttribute("aria-expanded","false"))}_setButtonDisabled(t,e){t.disabled=e,t.setAttribute("tabindex",e?"-1":"0")}_setButtonTheme(t,e){let i=e;const n=t.item&&t.item.theme;n!=null&&(i=Array.isArray(n)?n.join(" "):n),i?t.setAttribute("theme",i):t.removeAttribute("theme")}_appendButton(t){this._container.insertBefore(t,this._overflow)}__getComponent(t){const e=t.component;let i;const n=e instanceof HTMLElement;if(n&&e.localName==="vaadin-context-menu-item"?i=e:(i=document.createElement("vaadin-context-menu-item"),i.appendChild(n?e:document.createElement(e))),t.text){const s=i.firstChild||i;s.textContent=t.text}return i.setAttribute("theme","menu-bar-item"),i}__renderButtons(t=[]){this._removeButtons(),t.length!==0&&(t.forEach(e=>{const i=this._initButton(e);this._appendButton(i),this._setButtonDisabled(i,e.disabled),this._initButtonAttrs(i),this._setButtonTheme(i,this._theme)}),this.__detectOverflow())}_onResize(){this.__detectOverflow()}};/**
 * @license
 * Copyright (c) 2019 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const Nx=r=>class extends nl(Et(r)){static get properties(){return{openOnHover:{type:Boolean}}}constructor(){super(),this.__boundOnContextMenuKeydown=this.__onContextMenuKeydown.bind(this)}static get observers(){return["_itemsChanged(items, items.splices)"]}ready(){super.ready(),this.addEventListener("mousedown",()=>this._hideTooltip()),this.addEventListener("mouseleave",()=>this._hideTooltip()),this._subMenu.addEventListener("item-selected",this.__onItemSelected.bind(this)),this._subMenu.addEventListener("close-all-menus",this.__onEscapeClose.bind(this)),this._subMenu.$.overlay.addEventListener("keydown",this.__boundOnContextMenuKeydown);const i=this._container;i.addEventListener("click",this.__onButtonClick.bind(this)),i.addEventListener("mouseover",n=>this._onMouseOver(n))}get focused(){return this.shadowRoot.activeElement||this._expandedButton}get _vertical(){return!1}_getItems(){return this._buttons}get __isRTL(){return this.getAttribute("dir")==="rtl"}disconnectedCallback(){super.disconnectedCallback(),this._hideTooltip(!0)}_showTooltip(e,i){const n=this._tooltipController.node;n&&n.isConnected&&(n.generator===void 0&&(n.generator=({item:s})=>s&&s.tooltip),this._subMenu.opened||(this._tooltipController.setTarget(e),this._tooltipController.setContext({item:e.item}),n._stateController.open({hover:i,focus:!i})))}_hideTooltip(e){const i=this._tooltipController.node;i&&i._stateController.close(e)}_setExpanded(e,i){e.toggleAttribute("expanded",i),e.toggleAttribute("active",i),e.setAttribute("aria-expanded",i?"true":"false")}_setTabindex(e,i){e.setAttribute("tabindex",i?"0":"-1")}_focusItem(e,i){const n=i&&this.focused===this._expandedButton;n&&this._close(),super._focusItem(e,i),this._buttons.forEach(s=>{this._setTabindex(s,s===e)}),n&&e.item&&e.item.children?this.__openSubMenu(e,!0,{keepFocus:!0}):e===this._overflow?this._hideTooltip():this._showTooltip(e)}_getButtonFromEvent(e){return Array.from(e.composedPath()).find(i=>i.localName==="vaadin-menu-bar-button")}_setFocused(e){if(e){const i=this.shadowRoot.querySelector('[part$="button"][tabindex="0"]');i&&this._buttons.forEach(n=>{this._setTabindex(n,n===i),n===i&&n!==this._overflow&&Fm()&&this._showTooltip(n)})}else this._hideTooltip()}_onArrowDown(e){e.preventDefault();const i=this._getButtonFromEvent(e);i===this._expandedButton?this._focusFirstItem():this.__openSubMenu(i,!0)}_onArrowUp(e){e.preventDefault();const i=this._getButtonFromEvent(e);i===this._expandedButton?this._focusLastItem():this.__openSubMenu(i,!0,{focusLast:!0})}_onEscape(e){e.composedPath().includes(this._expandedButton)&&this._close(!0),this._hideTooltip(!0)}_onKeyDown(e){switch(e.key){case"ArrowDown":this._onArrowDown(e);break;case"ArrowUp":this._onArrowUp(e);break;default:super._onKeyDown(e);break}}get _subMenu(){return this.shadowRoot.querySelector("vaadin-menu-bar-submenu")}_itemsChanged(){const e=this._subMenu;e&&e.opened&&e.close()}_onMouseOver(e){const i=this._getButtonFromEvent(e);if(!i)this._hideTooltip();else if(i!==this._expandedButton){const n=this._subMenu.opened;i.item.children&&(this.openOnHover||n)?this.__openSubMenu(i,!1):n&&this._close(),i===this._overflow||this.openOnHover&&i.item.children?this._hideTooltip():this._showTooltip(i,!0)}}__onContextMenuKeydown(e){const i=Array.from(e.composedPath()).find(n=>n._item);if(i){const n=i.parentNode;e.keyCode===38&&i===n.items[0]&&this._close(!0),(e.keyCode===37||e.keyCode===39&&!i._item.children)&&(e.stopImmediatePropagation(),this._onKeyDown(e))}}__fireItemSelected(e){this.dispatchEvent(new CustomEvent("item-selected",{detail:{value:e}}))}__onButtonClick(e){e.stopPropagation();const i=this._getButtonFromEvent(e);i&&this.__openSubMenu(i,!1)}__openSubMenu(e,i,n={}){const s=this._subMenu,o=e.item;if(s.opened&&(this._close(),s.listenOn===e))return;const a=o&&o.children;if(!a||a.length===0){this.__fireItemSelected(o);return}s.items=a,s.listenOn=e;const l=s.$.overlay;l.positionTarget=e,l.noVerticalOverlap=!0,this._expandedButton=e,requestAnimationFrame(()=>{e.dispatchEvent(new CustomEvent("opensubmenu",{detail:{children:a}})),this._hideTooltip(!0),this._setExpanded(e,!0)}),this.style.pointerEvents="auto",l.addEventListener("vaadin-overlay-open",()=>{n.focusLast&&this._focusLastItem(),n.keepFocus&&this._focusItem(this._expandedButton,!1),i||l.$.overlay.focus(),l._updatePosition()},{once:!0})}_focusFirstItem(){this._subMenu.$.overlay.firstElementChild.focus()}_focusLastItem(){const e=this._subMenu.$.overlay.firstElementChild,i=e.items[e.items.length-1];i&&i.focus()}__onItemSelected(e){e.stopPropagation(),this._close(),this.__fireItemSelected(e.detail.value)}__onEscapeClose(){this.__deactivateButton(!0)}__deactivateButton(e){const i=this._expandedButton;i&&i.hasAttribute("expanded")&&(this._setExpanded(i,!1),e&&this._focusItem(i,!1),this._expandedButton=null)}_close(e){this.style.pointerEvents="",this.__deactivateButton(e),this._subMenu.opened&&this._subMenu.close()}};/**
 * @license
 * Copyright (c) 2019 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class Lf extends $x(is(Nx(re(j(He(W)))))){static get template(){return H`
      <style>
        :host {
          display: block;
        }

        :host([hidden]) {
          display: none !important;
        }

        [part='container'] {
          position: relative;
          display: flex;
          width: 100%;
          flex-wrap: nowrap;
          overflow: hidden;
        }

        [part$='button'] {
          flex-shrink: 0;
        }

        [part='overflow-button'] {
          margin-right: 0;
        }

        .dots::before {
          display: block;
          content: '\\00B7\\00B7\\00B7';
          font-size: inherit;
          line-height: inherit;
        }
      </style>

      <div part="container">
        <vaadin-menu-bar-button part="overflow-button" hidden$="[[!_hasOverflow]]" aria-label$="[[i18n.moreOptions]]">
          <div class="dots"></div>
        </vaadin-menu-bar-button>
      </div>
      <vaadin-menu-bar-submenu is-root=""></vaadin-menu-bar-submenu>

      <slot name="tooltip"></slot>
    `}static get is(){return"vaadin-menu-bar"}static get properties(){return{items:{type:Array,value:()=>[]},i18n:{type:Object,value:()=>({moreOptions:"More options"})}}}static get observers(){return["_themeChanged(_theme)"]}ready(){super.ready(),this._tooltipController=new ke(this),this._tooltipController.setManual(!0),this.addController(this._tooltipController)}_disabledChanged(t,e){super._disabledChanged(t,e),e!==t&&this.__updateButtonsDisabled(t)}_themeChanged(t){this.shadowRoot&&(this._buttons.forEach(e=>this._setButtonTheme(e,t)),this.__detectOverflow()),t?this._subMenu.setAttribute("theme",t):this._subMenu.removeAttribute("theme")}__updateButtonsDisabled(t){this._buttons.forEach(e=>{e.disabled=t||e.item&&e.item.disabled})}}customElements.define(Lf.is,Lf);R("vaadin-message-input",k`
    :host {
      padding: var(--lumo-space-s) var(--lumo-space-m);
    }
  `,{moduleId:"lumo-message-input"});/**
 * @license
 * Copyright (c) 2017 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const zx=k`
  [part='input-field'],
  [part='input-field'] ::slotted(textarea) {
    height: auto;
    box-sizing: border-box;
  }

  [part='input-field'] {
    /* Equal to the implicit padding in vaadin-text-field */
    padding-top: calc((var(--lumo-text-field-size) - 1em * var(--lumo-line-height-s)) / 2);
    padding-bottom: calc((var(--lumo-text-field-size) - 1em * var(--lumo-line-height-s)) / 2);
    transition: background-color 0.1s;
    line-height: var(--lumo-line-height-s);
  }

  :host(:not([readonly])) [part='input-field']::after {
    display: none;
  }

  :host([readonly]) [part='input-field'] {
    border: 1px dashed var(--lumo-contrast-30pct);
  }

  :host([readonly]) [part='input-field']::after {
    border: none;
  }

  :host(:hover:not([readonly]):not([focused]):not([invalid])) [part='input-field'] {
    background-color: var(--lumo-contrast-20pct);
  }

  @media (pointer: coarse) {
    :host(:hover:not([readonly]):not([focused]):not([invalid])) [part='input-field'] {
      background-color: var(--lumo-contrast-10pct);
    }

    :host(:active:not([readonly]):not([focused])) [part='input-field'] {
      background-color: var(--lumo-contrast-20pct);
    }
  }

  [part='input-field'] ::slotted(textarea) {
    line-height: inherit;
    --_lumo-text-field-overflow-mask-image: none;
  }

  /* Vertically align icon prefix/suffix with the first line of text */
  [part='input-field'] ::slotted(iron-icon),
  [part='input-field'] ::slotted(vaadin-icon) {
    margin-top: calc((var(--lumo-icon-size-m) - 1em * var(--lumo-line-height-s)) / -2);
  }
`;R("vaadin-text-area",[Xt,zx],{moduleId:"lumo-text-area"});/**
 * @license
 * Copyright (c) 2021 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class Bx extends tl{constructor(t,e){super(t,"textarea",()=>document.createElement("textarea"),(i,n)=>{const s=i.getAttribute("value");s&&(n.value=s);const o=i.getAttribute("name");o&&n.setAttribute("name",o),n.id=this.defaultId,typeof e=="function"&&e(n)},!0)}}/**
 * @license
 * Copyright (c) 2021 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */R("vaadin-text-area",Ji,{moduleId:"vaadin-text-area-styles"});class vh extends er(Ju(Km(j(re(W))))){static get is(){return"vaadin-text-area"}static get template(){return H`
      <style>
        :host {
          animation: 1ms vaadin-text-area-appear;
        }

        .vaadin-text-area-container {
          flex: auto;
        }

        /* The label, helper text and the error message should neither grow nor shrink. */
        [part='label'],
        [part='helper-text'],
        [part='error-message'] {
          flex: none;
        }

        [part='input-field'] {
          flex: auto;
          overflow: auto;
          -webkit-overflow-scrolling: touch;
        }

        ::slotted(textarea) {
          -webkit-appearance: none;
          -moz-appearance: none;
          flex: auto;
          overflow: hidden;
          width: 100%;
          height: 100%;
          outline: none;
          resize: none;
          margin: 0;
          padding: 0 0.25em;
          border: 0;
          border-radius: 0;
          min-width: 0;
          font: inherit;
          font-size: 1em;
          line-height: normal;
          color: inherit;
          background-color: transparent;
          /* Disable default invalid style in Firefox */
          box-shadow: none;
        }

        /* Override styles from <vaadin-input-container> */
        [part='input-field'] ::slotted(textarea) {
          align-self: stretch;
          white-space: pre-wrap;
        }

        [part='input-field'] ::slotted(:not(textarea)) {
          align-self: flex-start;
        }

        /* Workaround https://bugzilla.mozilla.org/show_bug.cgi?id=1739079 */
        :host([disabled]) ::slotted(textarea) {
          user-select: none;
        }

        @keyframes vaadin-text-area-appear {
          to {
            opacity: 1;
          }
        }
      </style>

      <div class="vaadin-text-area-container">
        <div part="label">
          <slot name="label"></slot>
          <span part="required-indicator" aria-hidden="true"></span>
        </div>

        <vaadin-input-container
          part="input-field"
          readonly="[[readonly]]"
          disabled="[[disabled]]"
          invalid="[[invalid]]"
          theme$="[[_theme]]"
          on-scroll="__scrollPositionUpdated"
        >
          <slot name="prefix" slot="prefix"></slot>
          <slot name="textarea"></slot>
          <slot name="suffix" slot="suffix"></slot>
          <div id="clearButton" part="clear-button" slot="suffix" aria-hidden="true"></div>
        </vaadin-input-container>

        <div part="helper-text">
          <slot name="helper"></slot>
        </div>

        <div part="error-message">
          <slot name="error-message"></slot>
        </div>
      </div>

      <slot name="tooltip"></slot>
    `}static get properties(){return{maxlength:{type:Number},minlength:{type:Number}}}static get delegateAttrs(){return[...super.delegateAttrs,"maxlength","minlength"]}static get constraints(){return[...super.constraints,"maxlength","minlength"]}get clearElement(){return this.$.clearButton}_onResize(){this.__scrollPositionUpdated()}ready(){super.ready(),this.addController(new Bx(this,t=>{this._setInputElement(t),this._setFocusElement(t),this.stateTarget=t,this.ariaTarget=t})),this.addController(new Qi(this.inputElement,this._labelController)),this._tooltipController=new ke(this),this._tooltipController.setPosition("top"),this.addController(this._tooltipController),this.addEventListener("animationend",this._onAnimationEnd),this._inputField=this.shadowRoot.querySelector("[part=input-field]"),this._inputField.addEventListener("wheel",t=>{const e=this._inputField.scrollTop;this._inputField.scrollTop+=t.deltaY,e!==this._inputField.scrollTop&&(t.preventDefault(),this.__scrollPositionUpdated())}),this._updateHeight(),this.__scrollPositionUpdated()}__scrollPositionUpdated(){this._inputField.style.setProperty("--_text-area-vertical-scroll-position","0px"),this._inputField.style.setProperty("--_text-area-vertical-scroll-position",`${this._inputField.scrollTop}px`)}_onAnimationEnd(t){t.animationName.indexOf("vaadin-text-area-appear")===0&&this._updateHeight()}_valueChanged(t,e){super._valueChanged(t,e),this._updateHeight()}_updateHeight(){const t=this.inputElement,e=this._inputField;if(!t||!e)return;const i=e.scrollTop,n=this.value?this.value.length:0;if(this._oldValueLength>=n){const o=getComputedStyle(e).height,a=getComputedStyle(t).width;e.style.display="block",e.style.height=o,t.style.maxWidth=a,t.style.height="auto"}this._oldValueLength=n;const s=t.scrollHeight;s>t.clientHeight&&(t.style.height=`${s}px`),t.style.removeProperty("max-width"),e.style.removeProperty("display"),e.style.removeProperty("height"),e.scrollTop=i}checkValidity(){if(!super.checkValidity())return!1;if(!this.pattern||!this.inputElement.value)return!0;try{const t=this.inputElement.value.match(this.pattern);return t?t[0]===t.input:!1}catch{return!0}}}customElements.define(vh.is,vh);R("vaadin-message-input-text-area",k`
    :host {
      margin: 0 var(--lumo-space-s) 0 0;
    }

    :host([dir='rtl']) {
      margin: 0 0 0 var(--lumo-space-s);
    }
  `,{moduleId:"lumo-message-input-text-area"});/**
 * @license
 * Copyright (c) 2021 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */R("vaadin-message-input-text-area",k`
    :host {
      align-self: stretch;
      flex-grow: 1;
    }

    .textarea-wrapper {
      min-height: 0;
    }
  `,{moduleId:"vaadin-message-input-text-area-styles"});class Ff extends vh{static get is(){return"vaadin-message-input-text-area"}static get properties(){return{ariaLabel:{type:String,observer:"__ariaLabelChanged"}}}_inputElementChanged(t){super._inputElementChanged(t),t&&(t.removeAttribute("aria-labelledby"),t.setAttribute("rows",1),t.style.minHeight="0",this.__updateAriaLabel(this.ariaLabel))}_onKeyDown(t){t.key==="Enter"&&!t.shiftKey&&(t.preventDefault(),t.stopPropagation(),this.dispatchEvent(new CustomEvent("enter"))),super._onKeyDown(t)}__updateAriaLabel(t){t?this.inputElement.setAttribute("aria-label",t):this.inputElement.removeAttribute("aria-label")}__ariaLabelChanged(t){!this.inputElement||this.__updateAriaLabel(t)}}customElements.define(Ff.is,Ff);/**
 * @license
 * Copyright (c) 2021 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */R("vaadin-message-input-button",k`
    :host {
      flex-shrink: 0;
    }
  `,{moduleId:"vaadin-message-input-button-styles"});class $f extends Ka{static get is(){return"vaadin-message-input-button"}}customElements.define($f.is,$f);/**
 * @license
 * Copyright (c) 2021 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class Nf extends re(j(He(W))){static get properties(){return{value:{type:String},i18n:{type:Object,value:()=>({send:"Send",message:"Message"})},disabled:{type:Boolean,value:!1,reflectToAttribute:!0}}}static get template(){return H`
      <style>
        :host {
          align-items: flex-start;
          box-sizing: border-box;
          display: flex;
          max-height: 50vh;
          overflow: hidden;
          flex-shrink: 0;
        }

        :host([hidden]) {
          display: none !important;
        }
      </style>
      <vaadin-message-input-text-area
        disabled="[[disabled]]"
        value="{{value}}"
        placeholder="[[i18n.message]]"
        aria-label="[[i18n.message]]"
        on-enter="__submit"
      ></vaadin-message-input-text-area>
      <vaadin-message-input-button disabled="[[disabled]]" theme="primary contained" on-click="__submit"
        >[[i18n.send]]</vaadin-message-input-button
      >

      <slot name="tooltip"></slot>
    `}static get is(){return"vaadin-message-input"}ready(){super.ready(),this._tooltipController=new ke(this),this.addController(this._tooltipController)}__submit(){this.value!==""&&(this.dispatchEvent(new CustomEvent("submit",{detail:{value:this.value}})),this.value=""),this.shadowRoot.querySelector("vaadin-message-input-text-area").focus()}}customElements.define(Nf.is,Nf);R("vaadin-message-avatar",k`
    :host {
      margin-right: calc(var(--lumo-space-m) - var(--vaadin-avatar-outline-width));
      margin-top: calc(var(--lumo-space-s) - var(--vaadin-avatar-outline-width));
    }

    :host([dir='rtl']) {
      margin-left: calc(var(--lumo-space-m) - var(--vaadin-avatar-outline-width));
      margin-right: calc(var(--vaadin-avatar-outline-width) * -1);
    }
  `,{moduleId:"lumo-message-avatar"});R("vaadin-message",k`
    :host {
      color: var(--lumo-body-text-color);
      font-family: var(--lumo-font-family);
      font-size: var(--lumo-font-size-m);
      line-height: var(--lumo-line-height-m);
      padding: var(--lumo-space-s) var(--lumo-space-m);
      -moz-osx-font-smoothing: grayscale;
      -webkit-font-smoothing: antialiased;
      -webkit-text-size-adjust: 100%;
    }

    :host([focus-ring]) {
      box-shadow: inset 0 0 0 2px var(--lumo-primary-color-50pct);
    }

    [part='header'] {
      min-height: calc(var(--lumo-font-size-m) * var(--lumo-line-height-m));
    }

    [part='name'] {
      margin-right: var(--lumo-space-s);
    }

    [part='name']:empty {
      margin-right: 0;
    }

    :host([dir='rtl']) [part='name'] {
      margin-left: var(--lumo-space-s);
      margin-right: 0;
    }

    :host([dir='rtl']) [part='name']:empty {
      margin-left: 0;
    }

    [part='time'] {
      color: var(--lumo-secondary-text-color);
      font-size: var(--lumo-font-size-s);
    }
  `,{moduleId:"lumo-message"});R("vaadin-message-list",k``,{moduleId:"lumo-message-list"});/**
 * @license
 * Copyright (c) 2021 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */R("vaadin-message-avatar",k`
    :host {
      --vaadin-avatar-outline-width: 0px; /* stylelint-disable-line length-zero-no-unit */
      flex-shrink: 0;
    }
  `,{moduleId:"vaadin-message-avatar-styles"});class zf extends ch{static get is(){return"vaadin-message-avatar"}}customElements.define(zf.is,zf);/**
 * @license
 * Copyright (c) 2021 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class gh extends Et(re(j(W))){static get properties(){return{time:{type:String},userName:{type:String},userAbbr:{type:String},userImg:{type:String},userColorIndex:{type:Number}}}static get template(){return H`
      <style>
        :host {
          display: flex;
          flex-direction: row;
          outline: none;
        }

        :host([hidden]) {
          display: none !important;
        }

        [part='content'] {
          display: flex;
          flex-direction: column;
          flex-grow: 1;
        }

        [part='header'] {
          align-items: baseline;
          display: flex;
          flex-direction: row;
          flex-wrap: wrap;
        }

        [part='name'] {
          font-weight: 500;
        }

        [part='message'] {
          white-space: pre-wrap;
        }
      </style>
      <vaadin-message-avatar
        part="avatar"
        name="[[userName]]"
        abbr="[[userAbbr]]"
        img="[[userImg]]"
        color-index="[[userColorIndex]]"
        tabindex="-1"
        aria-hidden="true"
      ></vaadin-message-avatar>
      <div part="content">
        <div part="header">
          <span part="name">[[userName]]</span>
          <span part="time">[[time]]</span>
        </div>
        <div part="message"><slot></slot></div>
      </div>
    `}static get is(){return"vaadin-message"}}customElements.define(gh.is,gh);/**
 * @license
 * Copyright (c) 2021 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class Bf extends nl(re(j(W))){static get is(){return"vaadin-message-list"}static get properties(){return{items:{type:Array,value:()=>[],observer:"_itemsChanged"}}}static get template(){return H`
      <style>
        :host {
          display: block;
          overflow: auto;
        }

        :host([hidden]) {
          display: none !important;
        }
      </style>
      <div part="list" role="list">
        <template is="dom-repeat" items="[[items]]">
          <vaadin-message
            time="[[item.time]]"
            user-name="[[item.userName]]"
            user-abbr="[[item.userAbbr]]"
            user-img="[[item.userImg]]"
            user-color-index="[[item.userColorIndex]]"
            theme$="[[item.theme]]"
            role="listitem"
            on-focusin="_handleFocusEvent"
            >[[item.text]]</vaadin-message
          >
        </template>
      </div>
    `}ready(){super.ready(),this.setAttribute("aria-relevant","additions"),this.setAttribute("role","log")}_getItems(){return this._messages}get _messages(){return Array.from(this.shadowRoot.querySelectorAll("vaadin-message"))}_itemsChanged(t,e){const i=this._getIndexOfFocusableElement();if(t&&t.length){const n=!e||t.length>e.length,s=this.scrollHeight<this.clientHeight+this.scrollTop+50;ji.run(()=>{this._setTabIndexesByIndex(i),n&&s&&this._scrollToLastMessage()})}}_scrollToLastMessage(){this.items.length>0&&(this.scrollTop=this.scrollHeight-this.clientHeight)}_handleFocusEvent(t){const e=t.composedPath().find(i=>i instanceof gh);this._setTabIndexesByMessage(e)}_setTabIndexesByIndex(t){const e=this._messages[t]||this._messages[0];this._setTabIndexesByMessage(e)}_setTabIndexesByMessage(t){this._messages.forEach(e=>{e.tabIndex=e===t?0:-1})}_getIndexOfFocusableElement(){const t=this._messages.findIndex(e=>e.tabIndex===0);return t!==-1?t:0}}customElements.define(Bf.is,Bf);/**
 * @license
 * Copyright (c) 2021 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const Vx=k`
  :host {
    font-size: var(--lumo-font-size-xxs);
    line-height: 1;
    padding: 0.3125em calc(0.5em + var(--lumo-border-radius-s) / 4);
    color: var(--lumo-body-text-color);
    border-radius: var(--lumo-border-radius-s);
    background-color: var(--lumo-contrast-20pct);
    cursor: var(--lumo-clickable-cursor);
  }

  :host([focused]) {
    background-color: var(--lumo-primary-color);
    color: var(--lumo-primary-contrast-color);
  }

  :host([focused]) [part='remove-button'] {
    color: inherit;
  }

  :host(:not([part~='overflow']):not([readonly]):not([disabled])) {
    padding-inline-end: 0;
  }

  :host([part~='overflow']) {
    position: relative;
    min-width: var(--lumo-size-xxs);
    margin-inline-start: var(--lumo-space-s);
  }

  :host([part~='overflow'])::before,
  :host([part~='overflow'])::after {
    position: absolute;
    content: '';
    width: 100%;
    height: 100%;
    border-left: calc(var(--lumo-space-s) / 4) solid;
    border-radius: var(--lumo-border-radius-s);
    border-color: var(--lumo-contrast-30pct);
  }

  :host([part~='overflow'])::before {
    left: calc(-1 * var(--lumo-space-s) / 2);
  }

  :host([part~='overflow'])::after {
    left: calc(-1 * var(--lumo-space-s));
  }

  :host([part~='overflow-two']) {
    margin-inline-start: calc(var(--lumo-space-s) / 2);
  }

  :host([part~='overflow-two'])::after {
    display: none;
  }

  :host([part~='overflow-one']) {
    margin-inline-start: 0;
  }

  :host([part~='overflow-one'])::before,
  :host([part~='overflow-one'])::after {
    display: none;
  }

  [part='label'] {
    font-weight: 500;
    line-height: 1.25;
  }

  [part='remove-button'] {
    display: flex;
    align-items: center;
    justify-content: center;
    margin-top: -0.3125em;
    margin-bottom: -0.3125em;
    margin-inline-start: auto;
    width: 1.25em;
    height: 1.25em;
    font-size: 1.5em;
    transition: none;
  }

  [part='remove-button']::before {
    content: var(--lumo-icons-cross);
  }

  :host([disabled]) [part='label'] {
    color: var(--lumo-disabled-text-color);
    -webkit-text-fill-color: var(--lumo-disabled-text-color);
    pointer-events: none;
  }
`;R("vaadin-multi-select-combo-box-chip",[ec,Vx],{moduleId:"lumo-multi-select-combo-box-chip"});/**
 * @license
 * Copyright (c) 2021 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */R("vaadin-multi-select-combo-box-item",k`
    @media (any-hover: hover) {
      :host(:hover[readonly]) {
        background-color: transparent;
        cursor: default;
      }
    }
  `,{moduleId:"lumo-multi-select-combo-box-item"});const Gx=k`
  :host([has-value]) {
    padding-inline-start: 0;
  }

  :host([has-value]) ::slotted(input:placeholder-shown) {
    caret-color: var(--lumo-body-text-color) !important;
  }

  [part~='chip']:not(:last-of-type) {
    margin-inline-end: var(--lumo-space-xs);
  }

  [part~='overflow']:not([hidden]) + :not(:empty) {
    margin-inline-start: var(--lumo-space-xs);
  }

  [part='toggle-button']::before {
    content: var(--lumo-icons-dropdown);
  }

  :host([readonly][has-value]) [part='toggle-button'] {
    color: var(--lumo-contrast-60pct);
    cursor: var(--lumo-clickable-cursor);
  }
`;R("vaadin-multi-select-combo-box",[Xt,Gx],{moduleId:"lumo-multi-select-combo-box"});/**
 * @license
 * Copyright (c) 2021 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class Vf extends j(W){static get is(){return"vaadin-multi-select-combo-box-chip"}static get properties(){return{disabled:{type:Boolean,reflectToAttribute:!0},readonly:{type:Boolean,reflectToAttribute:!0},label:{type:String},item:{type:Object}}}static get template(){return H`
      <style>
        :host {
          display: inline-flex;
          align-items: center;
          align-self: center;
          white-space: nowrap;
          box-sizing: border-box;
        }

        [part='label'] {
          overflow: hidden;
          text-overflow: ellipsis;
        }

        :host(:is([readonly], [disabled], [part~='overflow'])) [part='remove-button'] {
          display: none !important;
        }
      </style>
      <div part="label">[[label]]</div>
      <div part="remove-button" role="button" on-click="_onRemoveClick"></div>
    `}_onRemoveClick(t){t.stopPropagation(),this.dispatchEvent(new CustomEvent("item-removed",{detail:{item:this.item},bubbles:!0,composed:!0}))}}customElements.define(Vf.is,Vf);/**
 * @license
 * Copyright (c) 2021 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */R("vaadin-multi-select-combo-box-container",k`
    #wrapper {
      display: flex;
      width: 100%;
    }
  `,{moduleId:"vaadin-multi-select-combo-box-container-styles"});let Ps;class Gf extends Bb{static get is(){return"vaadin-multi-select-combo-box-container"}static get template(){if(!Ps){Ps=super.template.cloneNode(!0);const t=Ps.content,e=t.querySelectorAll("slot"),i=document.createElement("div");i.setAttribute("id","wrapper"),t.insertBefore(i,e[2]),i.appendChild(e[0]),i.appendChild(e[1])}return Ps}}customElements.define(Gf.is,Gf);/**
 * @license
 * Copyright (c) 2021 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class Hf extends Wo{static get is(){return"vaadin-multi-select-combo-box-item"}}customElements.define(Hf.is,Hf);/**
 * @license
 * Copyright (c) 2021 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */R("vaadin-multi-select-combo-box-overlay",k`
    #overlay {
      width: var(
        --vaadin-multi-select-combo-box-overlay-width,
        var(--_vaadin-multi-select-combo-box-overlay-default-width, auto)
      );
    }
  `,{moduleId:"vaadin-multi-select-combo-box-overlay-styles"});class Uf extends Yo{static get is(){return"vaadin-multi-select-combo-box-overlay"}}customElements.define(Uf.is,Uf);/**
 * @license
 * Copyright (c) 2021 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class Wf extends jo{static get is(){return"vaadin-multi-select-combo-box-scroller"}ready(){super.ready(),this.setAttribute("aria-multiselectable","true")}_isItemSelected(t,e,i){return t instanceof qt||this.comboBox.readonly?!1:this.comboBox._findIndex(t,this.comboBox.selectedItems,i)>-1}__updateElement(t,e){super.__updateElement(t,e),t.toggleAttribute("readonly",this.comboBox.readonly)}}customElements.define(Wf.is,Wf);/**
 * @license
 * Copyright (c) 2021 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class Yf extends Hv(uc(j(W))){static get is(){return"vaadin-multi-select-combo-box-internal"}static get template(){return H`
      <style>
        :host([opened]) {
          pointer-events: auto;
        }
      </style>

      <slot></slot>

      <vaadin-multi-select-combo-box-overlay
        id="overlay"
        opened="[[_overlayOpened]]"
        loading$="[[loading]]"
        theme$="[[_theme]]"
        position-target="[[_target]]"
        no-vertical-overlap
        restore-focus-node="[[inputElement]]"
      ></vaadin-multi-select-combo-box-overlay>
    `}static get properties(){return{filteredItems:{type:Array,notify:!0},loading:{type:Boolean,notify:!0},size:{type:Number,notify:!0},selectedItems:{type:Array,value:()=>[]},lastFilter:{type:String,notify:!0},_target:{type:Object}}}get clearElement(){return this.querySelector('[part="clear-button"]')}get _tagNamePrefix(){return"vaadin-multi-select-combo-box"}open(){!this.disabled&&!(this.readonly&&this.selectedItems.length===0)&&(this.opened=!0)}ready(){super.ready(),this._target=this,this._toggleElement=this.querySelector(".toggle-button")}_initScroller(){const t=this.getRootNode().host;super._initScroller(t)}clear(){super.clear(),this.inputElement&&(this.inputElement.value="")}_onEnter(t){this.__enterPressed=!0,super._onEnter(t)}_closeOrCommit(){if(this.readonly){this.close();return}if(this.__enterPressed){this.__enterPressed=null;const t=this.filteredItems[this._focusedIndex];this._commitValue(),this._focusedIndex=this.filteredItems.indexOf(t);return}super._closeOrCommit()}_commitValue(){this.lastFilter=this.filter,super._commitValue()}_onArrowDown(){this.readonly?this.opened||this.open():super._onArrowDown()}_onArrowUp(){this.readonly?this.opened||this.open():super._onArrowUp()}_onFocusout(t){this._ignoreCommitValue=!0,super._onFocusout(t),this.readonly&&!this._closeOnBlurIsPrevented&&this.close()}_detectAndDispatchChange(){if(this._ignoreCommitValue){this._ignoreCommitValue=!1,this.selectedItem=null,this._inputElementValue="";return}super._detectAndDispatchChange()}_overlaySelectedItemChanged(t){t.stopPropagation(),!this.readonly&&(t.detail.item instanceof qt||this.opened&&this.dispatchEvent(new CustomEvent("combo-box-item-selected",{detail:{item:t.detail.item}})))}_shouldLoadPage(t){return this.readonly?!1:super._shouldLoadPage(t)}clearCache(){this.readonly||super.clearCache()}}customElements.define(Yf.is,Yf);/**
 * @license
 * Copyright (c) 2021 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const Hx=k`
  :host {
    --input-min-width: var(--vaadin-multi-select-combo-box-input-min-width, 4em);
  }

  [hidden] {
    display: none !important;
  }

  #chips {
    display: flex;
    align-items: center;
  }

  ::slotted(input) {
    box-sizing: border-box;
    flex: 1 0 var(--input-min-width);
  }

  [part='chip'] {
    flex: 0 1 auto;
  }

  :host(:is([readonly], [disabled])) ::slotted(input) {
    flex-grow: 0;
    flex-basis: 0;
    padding: 0;
  }
`;R("vaadin-multi-select-combo-box",[Ji,Hx],{moduleId:"vaadin-multi-select-combo-box-styles"});class jf extends er(el(j(re(W)))){static get is(){return"vaadin-multi-select-combo-box"}static get template(){return H`
      <div class="vaadin-multi-select-combo-box-container">
        <div part="label">
          <slot name="label"></slot>
          <span part="required-indicator" aria-hidden="true" on-click="focus"></span>
        </div>

        <vaadin-multi-select-combo-box-internal
          id="comboBox"
          items="[[__effectiveItems]]"
          item-id-path="[[itemIdPath]]"
          item-label-path="[[itemLabelPath]]"
          item-value-path="[[itemValuePath]]"
          disabled="[[disabled]]"
          readonly="[[readonly]]"
          auto-open-disabled="[[autoOpenDisabled]]"
          allow-custom-value="[[allowCustomValue]]"
          data-provider="[[dataProvider]]"
          filter="{{filter}}"
          last-filter="{{_lastFilter}}"
          loading="{{loading}}"
          size="{{size}}"
          filtered-items="[[__effectiveFilteredItems]]"
          selected-items="[[selectedItems]]"
          opened="{{opened}}"
          renderer="[[renderer]]"
          theme$="[[_theme]]"
          on-combo-box-item-selected="_onComboBoxItemSelected"
          on-change="_onComboBoxChange"
          on-custom-value-set="_onCustomValueSet"
          on-filtered-items-changed="_onFilteredItemsChanged"
        >
          <vaadin-multi-select-combo-box-container
            part="input-field"
            readonly="[[readonly]]"
            disabled="[[disabled]]"
            invalid="[[invalid]]"
            theme$="[[_theme]]"
          >
            <vaadin-multi-select-combo-box-chip
              id="overflow"
              slot="prefix"
              part$="[[_getOverflowPart(_overflowItems.length)]]"
              disabled="[[disabled]]"
              readonly="[[readonly]]"
              label="[[_getOverflowLabel(_overflowItems.length)]]"
              title$="[[_getOverflowTitle(_overflowItems)]]"
              hidden$="[[_isOverflowHidden(_overflowItems.length)]]"
              on-mousedown="_preventBlur"
            ></vaadin-multi-select-combo-box-chip>
            <div id="chips" part="chips" slot="prefix"></div>
            <slot name="input"></slot>
            <div
              id="clearButton"
              part="clear-button"
              slot="suffix"
              on-touchend="_onClearButtonTouchend"
              aria-hidden="true"
            ></div>
            <div id="toggleButton" class="toggle-button" part="toggle-button" slot="suffix" aria-hidden="true"></div>
          </vaadin-multi-select-combo-box-container>
        </vaadin-multi-select-combo-box-internal>

        <div part="helper-text">
          <slot name="helper"></slot>
        </div>

        <div part="error-message">
          <slot name="error-message"></slot>
        </div>
      </div>

      <slot name="tooltip"></slot>
    `}static get properties(){return{autoOpenDisabled:Boolean,clearButtonVisible:{type:Boolean,reflectToAttribute:!0,observer:"_clearButtonVisibleChanged",value:!1},items:{type:Array},itemLabelPath:{type:String,value:"label"},itemValuePath:{type:String,value:"value"},itemIdPath:{type:String},i18n:{type:Object,value:()=>({cleared:"Selection cleared",focused:"focused. Press Backspace to remove",selected:"added to selection",deselected:"removed from selection",total:"{count} items selected"})},loading:{type:Boolean,value:!1,reflectToAttribute:!0},readonly:{type:Boolean,value:!1,observer:"_readonlyChanged",reflectToAttribute:!0},selectedItems:{type:Array,value:()=>[],notify:!0},opened:{type:Boolean,notify:!0,value:!1,reflectToAttribute:!0},size:{type:Number},pageSize:{type:Number,value:50,observer:"_pageSizeChanged"},dataProvider:{type:Object},allowCustomValue:{type:Boolean,value:!1},placeholder:{type:String,value:"",observer:"_placeholderChanged"},renderer:Function,filter:{type:String,value:"",notify:!0},filteredItems:Array,value:{type:String},__effectiveItems:{type:Array,computed:"__computeEffectiveItems(items, selectedItems, readonly)"},__effectiveFilteredItems:{type:Array,computed:"__computeEffectiveFilteredItems(items, filteredItems, selectedItems, readonly)"},_overflowItems:{type:Array,value:()=>[]},_focusedChipIndex:{type:Number,value:-1,observer:"_focusedChipIndexChanged"},_lastFilter:{type:String}}}static get observers(){return["_selectedItemsChanged(selectedItems, selectedItems.*)"]}get slotStyles(){const t=this.localName;return[...super.slotStyles,`
        ${t}[has-value] input::placeholder {
          color: transparent !important;
        }
      `]}get clearElement(){return this.$.clearButton}get _chips(){return this.shadowRoot.querySelectorAll('[part~="chip"]')}ready(){super.ready(),this.addController(new Wr(this,t=>{this._setInputElement(t),this._setFocusElement(t),this.stateTarget=t,this.ariaTarget=t})),this.addController(new Qi(this.inputElement,this._labelController)),this._tooltipController=new ke(this),this.addController(this._tooltipController),this._tooltipController.setPosition("top"),this._tooltipController.setShouldShow(t=>!t.opened),this._inputField=this.shadowRoot.querySelector('[part="input-field"]'),this.__updateChips(),Ii(this)}checkValidity(){return this.required&&!this.readonly?this._hasValue:!0}clear(){this.__updateSelection([]),Ht(this.i18n.cleared)}clearCache(){this.$&&this.$.comboBox&&this.$.comboBox.clearCache()}requestContentUpdate(){this.$&&this.$.comboBox&&this.$.comboBox.requestContentUpdate()}_disabledChanged(t,e){super._disabledChanged(t,e),(t||e)&&this.__updateChips()}_inputElementChanged(t){super._inputElementChanged(t),t&&this.$.comboBox._setInputElement(t)}_setFocused(t){super._setFocused(t),t||(this._focusedChipIndex=-1,this.validate())}_onResize(){this.__updateChips()}_delegateAttribute(t,e){if(!!this.stateTarget){if(t==="required"){this._delegateAttribute("aria-required",e?"true":!1);return}super._delegateAttribute(t,e)}}_clearButtonVisibleChanged(t,e){(t||e)&&this.__updateChips()}_onFilteredItemsChanged(t){const{value:e}=t.detail;(Array.isArray(e)||e==null)&&(this.filteredItems=e)}_readonlyChanged(t,e){(t||e)&&this.__updateChips(),this.dataProvider&&this.clearCache()}_pageSizeChanged(t,e){(Math.floor(t)!==t||t<=0)&&(this.pageSize=e,console.error('"pageSize" value must be an integer > 0')),this.$.comboBox.pageSize=this.pageSize}_placeholderChanged(t){const e=this.__tmpA11yPlaceholder;e!==t&&(this.__savedPlaceholder=t,e&&(this.placeholder=e))}_selectedItemsChanged(t){if(this._toggleHasValue(this._hasValue),this._hasValue){const e=this._mergeItemLabels(t);this.__tmpA11yPlaceholder=e,this.placeholder=e}else delete this.__tmpA11yPlaceholder,this.placeholder=this.__savedPlaceholder;this.__updateChips(),this.requestContentUpdate()}_getItemLabel(t){return this.$.comboBox._getItemLabel(t)}_getOverflowLabel(t){return t}_getOverflowPart(t){let e="chip overflow";return t===1?e+=" overflow-one":t===2&&(e+=" overflow-two"),e}_getOverflowTitle(t){return this._mergeItemLabels(t)}_isOverflowHidden(t){return t===0}_mergeItemLabels(t){return t.map(e=>this._getItemLabel(e)).join(", ")}_findIndex(t,e,i){if(i&&t){for(let n=0;n<e.length;n++)if(e[n]&&e[n][i]===t[i])return n;return-1}return e.indexOf(t)}__clearFilter(){this.filter="",this.$.comboBox.clear()}__announceItem(t,e,i){const n=e?"selected":"deselected",s=this.i18n.total.replace("{count}",i||0);Ht(`${t} ${this.i18n[n]} ${s}`)}__removeItem(t){const e=[...this.selectedItems];e.splice(e.indexOf(t),1),this.__updateSelection(e);const i=this._getItemLabel(t);this.__announceItem(i,!1,e.length)}__selectItem(t){const e=[...this.selectedItems],i=this._findIndex(t,e,this.itemIdPath),n=this._getItemLabel(t);let s=!1;if(i!==-1){const o=this._lastFilter;if(o&&o.toLowerCase()===n.toLowerCase()){this.__clearFilter();return}e.splice(i,1)}else e.push(t),s=!0;this.__updateSelection(e),this.__clearFilter(),this.__announceItem(n,s,e.length)}__updateSelection(t){this.selectedItems=t,this.validate(),this.dispatchEvent(new CustomEvent("change",{bubbles:!0}))}__createChip(t){const e=document.createElement("vaadin-multi-select-combo-box-chip");e.setAttribute("part","chip"),e.setAttribute("slot","prefix"),e.item=t,e.disabled=this.disabled,e.readonly=this.readonly;const i=this._getItemLabel(t);return e.label=i,e.setAttribute("title",i),e.addEventListener("item-removed",n=>this._onItemRemoved(n)),e.addEventListener("mousedown",n=>this._preventBlur(n)),e}__getOverflowWidth(){const t=this.$.overflow;t.style.visibility="hidden",t.removeAttribute("hidden"),t.setAttribute("part","chip overflow");const e=getComputedStyle(t),i=t.clientWidth+parseInt(e.marginInlineStart);return t.setAttribute("hidden",""),t.style.visibility="",i}__updateChips(){if(!this._inputField||!this.inputElement)return;Array.from(this._chips).forEach(s=>{s!==this.$.overflow&&s.remove()});const t=[...this.selectedItems],e=this._inputField.$.wrapper.clientWidth,i=parseInt(getComputedStyle(this.inputElement).flexBasis);let n=e-i;t.length>1&&(n-=this.__getOverflowWidth());for(let s=t.length-1,o=null;s>=0;s--){const a=this.__createChip(t[s]);if(this.$.chips.insertBefore(a,o),this.$.chips.clientWidth>n){a.remove();break}t.pop(),o=a}this._overflowItems=t}_onClearButtonTouchend(t){t.preventDefault(),this.clear()}_onClearButtonClick(t){t.stopPropagation(),this.clear()}_onChange(t){t.stopPropagation()}_onEscape(t){this.clearButtonVisible&&this.selectedItems&&this.selectedItems.length&&(t.stopPropagation(),this.selectedItems=[])}_onKeyDown(t){super._onKeyDown(t);const e=Array.from(this._chips).slice(1);if(!this.readonly&&e.length>0)switch(t.key){case"Backspace":this._onBackSpace(e);break;case"ArrowLeft":this._onArrowLeft(e,t);break;case"ArrowRight":this._onArrowRight(e,t);break;default:this._focusedChipIndex=-1;break}}_onArrowLeft(t,e){if(this.inputElement.selectionStart!==0)return;const i=this._focusedChipIndex;i!==-1&&e.preventDefault();let n;this.getAttribute("dir")!=="rtl"?i===-1?n=t.length-1:i>0&&(n=i-1):i===t.length-1?n=-1:i>-1&&(n=i+1),n!==void 0&&(this._focusedChipIndex=n)}_onArrowRight(t,e){if(this.inputElement.selectionStart!==0)return;const i=this._focusedChipIndex;i!==-1&&e.preventDefault();let n;this.getAttribute("dir")==="rtl"?i===-1?n=t.length-1:i>0&&(n=i-1):i===t.length-1?n=-1:i>-1&&(n=i+1),n!==void 0&&(this._focusedChipIndex=n)}_onBackSpace(t){if(this.inputElement.selectionStart!==0)return;const e=this._focusedChipIndex;e===-1?this._focusedChipIndex=t.length-1:(this.__removeItem(t[e].item),this._focusedChipIndex=-1)}_focusedChipIndexChanged(t,e){if(t>-1||e>-1){const i=Array.from(this._chips).slice(1);if(i.forEach((n,s)=>{n.toggleAttribute("focused",s===t)}),t>-1){const n=i[t].item,s=this._getItemLabel(n);Ht(`${s} ${this.i18n.focused}`)}}}_onComboBoxChange(){const t=this.$.comboBox.selectedItem;t&&this.__selectItem(t)}_onComboBoxItemSelected(t){this.__selectItem(t.detail.item)}_onCustomValueSet(t){t.preventDefault(),t.stopPropagation(),this.__clearFilter(),this.dispatchEvent(new CustomEvent("custom-value-set",{detail:t.detail,composed:!0,bubbles:!0}))}_onItemRemoved(t){this.__removeItem(t.detail.item)}_preventBlur(t){t.preventDefault()}__computeEffectiveItems(t,e,i){return t&&i?e:t}__computeEffectiveFilteredItems(t,e,i,n){return!t&&n?i:e}get _hasValue(){return this.selectedItems&&this.selectedItems.length>0}}customElements.define(jf.is,jf);R("vaadin-progress-bar",k`
    :host {
      height: calc(var(--lumo-size-l) / 10);
      margin: var(--lumo-space-s) 0;
    }

    [part='bar'] {
      border-radius: var(--lumo-border-radius-m);
      background-color: var(--lumo-contrast-10pct);
    }

    [part='value'] {
      border-radius: var(--lumo-border-radius-m);
      background-color: var(--lumo-primary-color);
      /* Use width instead of transform to preserve border radius */
      transform: none;
      width: calc(var(--vaadin-progress-value) * 100%);
      will-change: width;
      transition: 0.1s width linear;
    }

    /* Indeterminate mode */
    :host([indeterminate]) [part='value'] {
      --lumo-progress-indeterminate-progress-bar-background: linear-gradient(
        to right,
        var(--lumo-primary-color-10pct) 10%,
        var(--lumo-primary-color)
      );
      --lumo-progress-indeterminate-progress-bar-background-reverse: linear-gradient(
        to left,
        var(--lumo-primary-color-10pct) 10%,
        var(--lumo-primary-color)
      );
      width: 100%;
      background-color: transparent !important;
      background-image: var(--lumo-progress-indeterminate-progress-bar-background);
      opacity: 0.75;
      will-change: transform;
      animation: vaadin-progress-indeterminate 1.6s infinite cubic-bezier(0.645, 0.045, 0.355, 1);
    }

    @keyframes vaadin-progress-indeterminate {
      0% {
        transform: scaleX(0.015);
        transform-origin: 0% 0%;
      }

      25% {
        transform: scaleX(0.4);
      }

      50% {
        transform: scaleX(0.015);
        transform-origin: 100% 0%;
        background-image: var(--lumo-progress-indeterminate-progress-bar-background);
      }

      50.1% {
        transform: scaleX(0.015);
        transform-origin: 100% 0%;
        background-image: var(--lumo-progress-indeterminate-progress-bar-background-reverse);
      }

      75% {
        transform: scaleX(0.4);
      }

      100% {
        transform: scaleX(0.015);
        transform-origin: 0% 0%;
        background-image: var(--lumo-progress-indeterminate-progress-bar-background-reverse);
      }
    }

    :host(:not([aria-valuenow])) [part='value']::before,
    :host([indeterminate]) [part='value']::before {
      content: '';
      display: block;
      width: 100%;
      height: 100%;
      border-radius: inherit;
      background-color: var(--lumo-primary-color);
      will-change: opacity;
      animation: vaadin-progress-pulse3 1.6s infinite cubic-bezier(0.645, 0.045, 0.355, 1);
    }

    @keyframes vaadin-progress-pulse3 {
      0% {
        opacity: 1;
      }

      10% {
        opacity: 0;
      }

      40% {
        opacity: 0;
      }

      50% {
        opacity: 1;
      }

      50.1% {
        opacity: 1;
      }

      60% {
        opacity: 0;
      }

      90% {
        opacity: 0;
      }

      100% {
        opacity: 1;
      }
    }

    /* Contrast color */
    :host([theme~='contrast']) [part='value'],
    :host([theme~='contrast']) [part='value']::before {
      background-color: var(--lumo-contrast-80pct);
      --lumo-progress-indeterminate-progress-bar-background: linear-gradient(
        to right,
        var(--lumo-contrast-5pct) 10%,
        var(--lumo-contrast-80pct)
      );
      --lumo-progress-indeterminate-progress-bar-background-reverse: linear-gradient(
        to left,
        var(--lumo-contrast-5pct) 10%,
        var(--lumo-contrast-60pct)
      );
    }

    /* Error color */
    :host([theme~='error']) [part='value'],
    :host([theme~='error']) [part='value']::before {
      background-color: var(--lumo-error-color);
      --lumo-progress-indeterminate-progress-bar-background: linear-gradient(
        to right,
        var(--lumo-error-color-10pct) 10%,
        var(--lumo-error-color)
      );
      --lumo-progress-indeterminate-progress-bar-background-reverse: linear-gradient(
        to left,
        var(--lumo-error-color-10pct) 10%,
        var(--lumo-error-color)
      );
    }

    /* Primary color */
    :host([theme~='success']) [part='value'],
    :host([theme~='success']) [part='value']::before {
      background-color: var(--lumo-success-color);
      --lumo-progress-indeterminate-progress-bar-background: linear-gradient(
        to right,
        var(--lumo-success-color-10pct) 10%,
        var(--lumo-success-color)
      );
      --lumo-progress-indeterminate-progress-bar-background-reverse: linear-gradient(
        to left,
        var(--lumo-success-color-10pct) 10%,
        var(--lumo-success-color)
      );
    }

    /* RTL specific styles */
    :host([indeterminate][dir='rtl']) [part='value'] {
      --lumo-progress-indeterminate-progress-bar-background: linear-gradient(
        to left,
        var(--lumo-primary-color-10pct) 10%,
        var(--lumo-primary-color)
      );
      --lumo-progress-indeterminate-progress-bar-background-reverse: linear-gradient(
        to right,
        var(--lumo-primary-color-10pct) 10%,
        var(--lumo-primary-color)
      );
      animation: vaadin-progress-indeterminate-rtl 1.6s infinite cubic-bezier(0.355, 0.045, 0.645, 1);
    }

    :host(:not([aria-valuenow])[dir='rtl']) [part='value']::before,
    :host([indeterminate][dir='rtl']) [part='value']::before {
      animation: vaadin-progress-pulse3 1.6s infinite cubic-bezier(0.355, 0.045, 0.645, 1);
    }

    @keyframes vaadin-progress-indeterminate-rtl {
      0% {
        transform: scaleX(0.015);
        transform-origin: 100% 0%;
      }

      25% {
        transform: scaleX(0.4);
      }

      50% {
        transform: scaleX(0.015);
        transform-origin: 0% 0%;
        background-image: var(--lumo-progress-indeterminate-progress-bar-background);
      }

      50.1% {
        transform: scaleX(0.015);
        transform-origin: 0% 0%;
        background-image: var(--lumo-progress-indeterminate-progress-bar-background-reverse);
      }

      75% {
        transform: scaleX(0.4);
      }

      100% {
        transform: scaleX(0.015);
        transform-origin: 100% 0%;
        background-image: var(--lumo-progress-indeterminate-progress-bar-background-reverse);
      }
    }

    /* Contrast color */
    :host([theme~='contrast'][dir='rtl']) [part='value'],
    :host([theme~='contrast'][dir='rtl']) [part='value']::before {
      --lumo-progress-indeterminate-progress-bar-background: linear-gradient(
        to left,
        var(--lumo-contrast-5pct) 10%,
        var(--lumo-contrast-80pct)
      );
      --lumo-progress-indeterminate-progress-bar-background-reverse: linear-gradient(
        to right,
        var(--lumo-contrast-5pct) 10%,
        var(--lumo-contrast-60pct)
      );
    }

    /* Error color */
    :host([theme~='error'][dir='rtl']) [part='value'],
    :host([theme~='error'][dir='rtl']) [part='value']::before {
      --lumo-progress-indeterminate-progress-bar-background: linear-gradient(
        to left,
        var(--lumo-error-color-10pct) 10%,
        var(--lumo-error-color)
      );
      --lumo-progress-indeterminate-progress-bar-background-reverse: linear-gradient(
        to right,
        var(--lumo-error-color-10pct) 10%,
        var(--lumo-error-color)
      );
    }

    /* Primary color */
    :host([theme~='success'][dir='rtl']) [part='value'],
    :host([theme~='success'][dir='rtl']) [part='value']::before {
      --lumo-progress-indeterminate-progress-bar-background: linear-gradient(
        to left,
        var(--lumo-success-color-10pct) 10%,
        var(--lumo-success-color)
      );
      --lumo-progress-indeterminate-progress-bar-background-reverse: linear-gradient(
        to right,
        var(--lumo-success-color-10pct) 10%,
        var(--lumo-success-color)
      );
    }
  `,{moduleId:"lumo-progress-bar"});const rg=document.createElement("template");rg.innerHTML=`
  <style>
    @keyframes vaadin-progress-pulse3 {
      0% { opacity: 1; }
      10% { opacity: 0; }
      40% { opacity: 0; }
      50% { opacity: 1; }
      50.1% { opacity: 1; }
      60% { opacity: 0; }
      90% { opacity: 0; }
      100% { opacity: 1; }
    }
  </style>
`;document.head.appendChild(rg.content);/**
 * @license
 * Copyright (c) 2017 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const Ux=r=>class extends r{static get properties(){return{value:{type:Number,observer:"_valueChanged"},min:{type:Number,value:0,observer:"_minChanged"},max:{type:Number,value:1,observer:"_maxChanged"},indeterminate:{type:Boolean,value:!1,reflectToAttribute:!0}}}static get observers(){return["_normalizedValueChanged(value, min, max)"]}ready(){super.ready(),this.setAttribute("role","progressbar")}_normalizedValueChanged(e,i,n){const s=this._normalizeValue(e,i,n);this.style.setProperty("--vaadin-progress-value",s)}_valueChanged(e){this.setAttribute("aria-valuenow",e)}_minChanged(e){this.setAttribute("aria-valuemin",e)}_maxChanged(e){this.setAttribute("aria-valuemax",e)}_normalizeValue(e,i,n){let s;return!e&&e!==0?s=0:i>=n?s=1:(s=(e-i)/(n-i),s=Math.min(Math.max(s,0),1)),s}};/**
 * @license
 * Copyright (c) 2017 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class qf extends re(j(Ux(W))){static get template(){return H`
      <style>
        :host {
          display: block;
          width: 100%; /* prevent collapsing inside non-stretching column flex */
          height: 8px;
        }

        :host([hidden]) {
          display: none !important;
        }

        [part='bar'] {
          height: 100%;
        }

        [part='value'] {
          height: 100%;
          transform-origin: 0 50%;
          transform: scaleX(var(--vaadin-progress-value));
        }

        /* RTL specific styles */

        :host([dir='rtl']) [part='value'] {
          transform-origin: 100% 50%;
        }
      </style>

      <div part="bar">
        <div part="value"></div>
      </div>
    `}static get is(){return"vaadin-progress-bar"}}customElements.define(qf.is,qf);R("vaadin-radio-button",k`
    :host {
      color: var(--lumo-body-text-color);
      font-size: var(--lumo-font-size-m);
      font-family: var(--lumo-font-family);
      line-height: var(--lumo-line-height-s);
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      -webkit-tap-highlight-color: transparent;
      -webkit-user-select: none;
      -moz-user-select: none;
      user-select: none;
      cursor: default;
      outline: none;
      --_radio-button-size: var(--vaadin-radio-button-size, calc(var(--lumo-size-m) / 2));
    }

    :host([has-label]) ::slotted(label) {
      padding-block: var(--lumo-space-xs);
      padding-inline: var(--lumo-space-xs) var(--lumo-space-s);
    }

    [part='radio'] {
      width: var(--_radio-button-size);
      height: var(--_radio-button-size);
      margin: var(--lumo-space-xs);
      position: relative;
      border-radius: 50%;
      background-color: var(--lumo-contrast-20pct);
      transition: transform 0.2s cubic-bezier(0.12, 0.32, 0.54, 2), background-color 0.15s;
      will-change: transform;
      cursor: var(--lumo-clickable-cursor);
    }

    /* Used for activation "halo" */
    [part='radio']::before {
      pointer-events: none;
      color: transparent;
      width: 100%;
      height: 100%;
      line-height: var(--_radio-button-size);
      border-radius: inherit;
      background-color: inherit;
      transform: scale(1.4);
      opacity: 0;
      transition: transform 0.1s, opacity 0.8s;
      will-change: transform, opacity;
    }

    /* Used for the dot */
    [part='radio']::after {
      content: '';
      pointer-events: none;
      width: 0;
      height: 0;
      border: 3px solid var(--lumo-primary-contrast-color);
      border-radius: 50%;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) scale(0);
      transition: 0.25s transform;
      will-change: transform;
      background-clip: content-box;
    }

    :host([checked]) [part='radio'] {
      background-color: var(--lumo-primary-color);
    }

    :host([checked]) [part='radio']::after {
      transform: translate(-50%, -50%) scale(1);
    }

    :host(:not([checked]):not([disabled]):hover) [part='radio'] {
      background-color: var(--lumo-contrast-30pct);
    }

    :host([active]) [part='radio'] {
      transform: scale(0.9);
      transition-duration: 0.05s;
    }

    :host([active][checked]) [part='radio'] {
      transform: scale(1.1);
    }

    :host([active]:not([checked])) [part='radio']::before {
      transition-duration: 0.01s, 0.01s;
      transform: scale(0);
      opacity: 0.4;
    }

    :host([focus-ring]) [part='radio'] {
      box-shadow: 0 0 0 1px var(--lumo-base-color), 0 0 0 3px var(--lumo-primary-color-50pct);
    }

    :host([disabled]) {
      pointer-events: none;
      color: var(--lumo-disabled-text-color);
    }

    :host([disabled]) ::slotted(label) {
      color: inherit;
    }

    :host([disabled]) [part='radio'] {
      background-color: var(--lumo-contrast-10pct);
    }

    :host([disabled]) [part='radio']::after {
      border-color: var(--lumo-contrast-30pct);
    }

    /* RTL specific styles */
    :host([dir='rtl'][has-label]) ::slotted(label) {
      padding: var(--lumo-space-xs) var(--lumo-space-xs) var(--lumo-space-xs) var(--lumo-space-s);
    }
  `,{moduleId:"lumo-radio-button"});/**
 * @license
 * Copyright (c) 2017 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class Xo extends Vb(Gb(qa(jm(re(j(He(W))))))){static get is(){return"vaadin-radio-button"}static get template(){return H`
      <style>
        :host {
          display: inline-block;
        }

        :host([hidden]) {
          display: none !important;
        }

        :host([disabled]) {
          -webkit-tap-highlight-color: transparent;
        }

        .vaadin-radio-button-container {
          display: grid;
          grid-template-columns: auto 1fr;
          align-items: baseline;
        }

        [part='radio'],
        ::slotted(input),
        ::slotted(label) {
          grid-row: 1;
        }

        [part='radio'],
        ::slotted(input) {
          grid-column: 1;
        }

        [part='radio'] {
          width: var(--vaadin-radio-button-size, 1em);
          height: var(--vaadin-radio-button-size, 1em);
        }

        [part='radio']::before {
          display: block;
          content: '\\202F';
          line-height: var(--vaadin-radio-button-size, 1em);
          contain: paint;
        }

        /* visually hidden */
        ::slotted(input) {
          opacity: 0;
          cursor: inherit;
          margin: 0;
          align-self: stretch;
          -webkit-appearance: none;
        }
      </style>
      <div class="vaadin-radio-button-container">
        <div part="radio"></div>
        <slot name="input"></slot>
        <slot name="label"></slot>

        <div style="display: none !important">
          <slot id="noop"></slot>
        </div>
      </div>
    `}static get properties(){return{name:{type:String,value:""}}}static get delegateAttrs(){return[...super.delegateAttrs,"name"]}constructor(){super(),this._setType("radio"),this.value="on"}ready(){super.ready(),this.addController(new Wr(this,t=>{this._setInputElement(t),this._setFocusElement(t),this.stateTarget=t,this.ariaTarget=t})),this.addController(new Qi(this.inputElement,this._labelController)),this.addController(new Hb(this.$.noop,()=>this._labelController.node,()=>this.__warnDeprecated()))}__warnDeprecated(){console.warn(`WARNING: Since Vaadin 22, placing the label as a direct child of a <vaadin-radio-button> is deprecated.
  Please use <label slot="label"> wrapper or the label property instead.`)}}customElements.define(Xo.is,Xo);const Wx=k`
  :host {
    color: var(--lumo-body-text-color);
    font-size: var(--lumo-font-size-m);
    font-family: var(--lumo-font-family);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
    padding: var(--lumo-space-xs) 0;
  }

  :host::before {
    /* Effective height of vaadin-radio-button */
    height: var(--lumo-size-s);
    box-sizing: border-box;
    display: inline-flex;
    align-items: center;
  }

  :host([theme~='vertical']) [part='group-field'] {
    display: flex;
    flex-direction: column;
  }

  :host([focused]:not([readonly])) [part='label'] {
    color: var(--lumo-primary-text-color);
  }

  :host(:hover:not([readonly]):not([focused])) [part='label'],
  :host(:hover:not([readonly])) [part='helper-text'] {
    color: var(--lumo-body-text-color);
  }

  /* Touch device adjustment */
  @media (pointer: coarse) {
    :host(:hover:not([readonly]):not([focused])) [part='label'] {
      color: var(--lumo-secondary-text-color);
    }
  }
`;R("vaadin-radio-group",[Qa,Ja,Wx],{moduleId:"lumo-radio-group"});/**
 * @license
 * Copyright (c) 2017 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class Xf extends ts(Et(is(Gr(re(j(W)))))){static get is(){return"vaadin-radio-group"}static get template(){return H`
      <style>
        :host {
          display: inline-flex;
        }

        :host::before {
          content: '\\2003';
          width: 0;
          display: inline-block;
        }

        :host([hidden]) {
          display: none !important;
        }

        .vaadin-group-field-container {
          display: flex;
          flex-direction: column;
          width: 100%;
        }

        :host(:not([has-label])) [part='label'] {
          display: none;
        }
      </style>
      <div class="vaadin-group-field-container">
        <div part="label">
          <slot name="label"></slot>
          <span part="required-indicator" aria-hidden="true"></span>
        </div>

        <div part="group-field">
          <slot></slot>
        </div>

        <div part="helper-text">
          <slot name="helper"></slot>
        </div>

        <div part="error-message">
          <slot name="error-message"></slot>
        </div>
      </div>

      <slot name="tooltip"></slot>
    `}static get properties(){return{value:{type:String,notify:!0,value:"",observer:"__valueChanged"},readonly:{type:Boolean,value:!1,reflectToAttribute:!0,observer:"__readonlyChanged"},_fieldName:{type:String}}}constructor(){super(),this.__registerRadioButton=this.__registerRadioButton.bind(this),this.__unregisterRadioButton=this.__unregisterRadioButton.bind(this),this.__onRadioButtonCheckedChange=this.__onRadioButtonCheckedChange.bind(this)}ready(){super.ready(),this.ariaTarget=this,this.setAttribute("role","radiogroup"),this._fieldName=`${this.localName}-${Hr()}`,this._observer=new Ce(this,({addedNodes:t,removedNodes:e})=>{this.__filterRadioButtons(t).reverse().forEach(this.__registerRadioButton),this.__filterRadioButtons(e).forEach(this.__unregisterRadioButton)}),this._tooltipController=new ke(this),this.addController(this._tooltipController)}__filterRadioButtons(t){return t.filter(e=>e instanceof Xo)}get __radioButtons(){return this.__filterRadioButtons([...this.children])}get __selectedRadioButton(){return this.__radioButtons.find(t=>t.checked)}get isHorizontalRTL(){return this.getAttribute("dir")==="rtl"&&this._theme!=="vertical"}_onKeyDown(t){super._onKeyDown(t);const e=t.composedPath().find(i=>i instanceof Xo);["ArrowLeft","ArrowUp"].includes(t.key)&&(t.preventDefault(),this.__selectNextRadioButton(e)),["ArrowRight","ArrowDown"].includes(t.key)&&(t.preventDefault(),this.__selectPrevRadioButton(e))}_invalidChanged(t){super._invalidChanged(t),t?this.setAttribute("aria-invalid","true"):this.removeAttribute("aria-invalid")}__selectNextRadioButton(t){const e=this.__radioButtons.indexOf(t);this.__selectIncRadioButton(e,this.isHorizontalRTL?1:-1)}__selectPrevRadioButton(t){const e=this.__radioButtons.indexOf(t);this.__selectIncRadioButton(e,this.isHorizontalRTL?-1:1)}__selectIncRadioButton(t,e){const i=(this.__radioButtons.length+t+e)%this.__radioButtons.length,n=this.__radioButtons[i];n.disabled?this.__selectIncRadioButton(i,e):(n.focusElement.focus(),n.focusElement.click())}__registerRadioButton(t){t.name=this._fieldName,t.addEventListener("checked-changed",this.__onRadioButtonCheckedChange),(this.disabled||this.readonly)&&(t.disabled=!0),t.checked&&this.__selectRadioButton(t)}__unregisterRadioButton(t){t.removeEventListener("checked-changed",this.__onRadioButtonCheckedChange),t.value===this.value&&this.__selectRadioButton(null)}__onRadioButtonCheckedChange(t){t.target.checked&&this.__selectRadioButton(t.target)}__valueChanged(t,e){if(!(e===void 0&&t==="")){if(t){const i=this.__radioButtons.find(n=>n.value===t);i?(this.__selectRadioButton(i),this.toggleAttribute("has-value",!0)):console.warn(`The radio button with the value "${t}" was not found.`)}else this.__selectRadioButton(null),this.removeAttribute("has-value");e!==void 0&&this.validate()}}__readonlyChanged(t,e){!t&&e===void 0||e!==t&&this.__updateRadioButtonsDisabledProperty()}_disabledChanged(t,e){super._disabledChanged(t,e),!(!t&&e===void 0)&&e!==t&&this.__updateRadioButtonsDisabledProperty()}_shouldRemoveFocus(t){return!this.contains(t.relatedTarget)}_setFocused(t){super._setFocused(t),t||this.validate()}__selectRadioButton(t){t?this.value=t.value:this.value="",this.__radioButtons.forEach(e=>{e.checked=e===t}),this.readonly&&this.__updateRadioButtonsDisabledProperty()}__updateRadioButtonsDisabledProperty(){this.__radioButtons.forEach(t=>{this.readonly?t.disabled=t!==this.__selectedRadioButton:t.disabled=this.disabled})}}customElements.define(Xf.is,Xf);const Yx=k`
  :host {
    outline: none;
  }

  :host([focus-ring]) {
    box-shadow: 0 0 0 2px var(--lumo-primary-color-50pct);
  }
`;R("vaadin-scroller",Yx,{moduleId:"lumo-scroller"});/**
 * @license
 * Copyright (c) 2021 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class pc{constructor(t,e){this.host=t,this.scrollTarget=e||t,this.__boundOnScroll=this.__onScroll.bind(this)}hostConnected(){this.initialized||(this.initialized=!0,this.observe())}observe(){this.__resizeObserver=new ResizeObserver(()=>{this.__debounceOverflow=ye.debounce(this.__debounceOverflow,bi,()=>{this.__updateOverflow()})}),this.__resizeObserver.observe(this.host),this.__childObserver=new Ce(this.host,t=>{t.addedNodes.forEach(e=>{e.nodeType===Node.ELEMENT_NODE&&this.__resizeObserver.observe(e)}),t.removedNodes.forEach(e=>{e.nodeType===Node.ELEMENT_NODE&&this.__resizeObserver.unobserve(e)}),this.__updateOverflow()}),this.scrollTarget.addEventListener("scroll",this.__boundOnScroll),this.__updateOverflow()}__onScroll(){this.__updateOverflow()}__updateOverflow(){const t=this.scrollTarget;let e="";t.scrollTop>0&&(e+=" top"),Math.ceil(t.scrollTop)<Math.ceil(t.scrollHeight-t.clientHeight)&&(e+=" bottom");const i=Math.abs(t.scrollLeft);i>0&&(e+=" start"),Math.ceil(i)<Math.ceil(t.scrollWidth-t.clientWidth)&&(e+=" end"),e=e.trim(),e.length>0&&this.host.getAttribute("overflow")!==e?this.host.setAttribute("overflow",e):e.length===0&&this.host.hasAttribute("overflow")&&this.host.removeAttribute("overflow")}}/**
 * @license
 * Copyright (c) 2020 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class yh extends Et(re(He(j(W)))){static get template(){return H`
      <style>
        :host([hidden]) {
          display: none !important;
        }

        :host {
          display: block;
          overflow: auto;
        }

        :host([scroll-direction='vertical']) {
          overflow-x: hidden;
        }

        :host([scroll-direction='horizontal']) {
          overflow-y: hidden;
        }

        :host([scroll-direction='none']) {
          overflow: hidden;
        }
      </style>

      <slot></slot>
    `}static get is(){return"vaadin-scroller"}static get properties(){return{scrollDirection:{type:String,reflectToAttribute:!0},tabindex:{type:Number,value:0,reflectToAttribute:!0}}}ready(){super.ready(),this.__overflowController=new pc(this),this.addController(this.__overflowController)}_shouldSetFocus(t){return t.target===this}}customElements.define(yh.is,yh);/**
 * @license
 * Copyright (c) 2017 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const jx=k`
  :host(:not([theme*='align'])) ::slotted([slot='value']) {
    text-align: start;
  }

  [part='input-field'] {
    cursor: var(--lumo-clickable-cursor);
  }

  [part='input-field'] ::slotted([slot='value']) {
    font-weight: 500;
  }

  [part='input-field'] ::slotted([slot='value']:not([placeholder])) {
    color: var(--lumo-body-text-color);
  }

  :host([readonly]) [part='input-field'] ::slotted([slot='value']:not([placeholder])) {
    color: var(--lumo-secondary-text-color);
  }

  /* placeholder styles */
  [part='input-field'] ::slotted([slot='value'][placeholder]) {
    color: var(--lumo-secondary-text-color);
  }

  :host(:is([readonly], [disabled])) ::slotted([slot='value'][placeholder]) {
    opacity: 0;
  }

  [part='toggle-button']::before {
    content: var(--lumo-icons-dropdown);
  }

  /* Highlight the toggle button when hovering over the entire component */
  :host(:hover:not([readonly]):not([disabled])) [part='toggle-button'] {
    color: var(--lumo-contrast-80pct);
  }

  :host([theme~='small']) [part='input-field'] ::slotted([slot='value']) {
    --_lumo-selected-item-height: var(--lumo-size-s);
    --_lumo-selected-item-padding: 0;
  }
`;R("vaadin-select",[Xt,jx],{moduleId:"lumo-select"});R("vaadin-select-value-button",k`
    :host {
      font-family: var(--lumo-font-family);
      font-size: var(--lumo-font-size-m);
      padding: 0 0.25em;
      --_lumo-selected-item-height: var(--lumo-size-m);
      --_lumo-selected-item-padding: 0.5em;
    }

    ::slotted(*) {
      min-height: var(--_lumo-selected-item-height);
      padding-top: var(--_lumo-selected-item-padding);
      padding-bottom: var(--_lumo-selected-item-padding);
    }

    ::slotted(*:hover) {
      background-color: transparent;
    }
  `,{moduleId:"lumo-select-value-button"});const qx=k`
  :host {
    --_lumo-item-selected-icon-display: block;
  }

  [part~='overlay'] {
    min-width: var(--vaadin-select-text-field-width);
  }

  /* Small viewport adjustment */
  :host([phone]) {
    top: 0 !important;
    right: 0 !important;
    bottom: var(--vaadin-overlay-viewport-bottom, 0) !important;
    left: 0 !important;
    align-items: stretch;
    justify-content: flex-end;
  }

  :host([theme~='align-left']) {
    text-align: left;
  }

  :host([theme~='align-right']) {
    text-align: right;
  }

  :host([theme~='align-center']) {
    text-align: center;
  }
`;R("vaadin-select-overlay",[ol,qx],{moduleId:"lumo-select-overlay"});/**
 * @license
 * Copyright (c) 2017 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class Kf extends $n{static get is(){return"vaadin-select-item"}}customElements.define(Kf.is,Kf);/**
 * @license
 * Copyright (c) 2017 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class Zf extends Nn{static get is(){return"vaadin-select-list-box"}}customElements.define(Zf.is,Zf);/**
 * @license
 * Copyright (c) 2017 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */R("vaadin-select-overlay",k`
    :host {
      align-items: flex-start;
      justify-content: flex-start;
    }
  `,{moduleId:"vaadin-select-overlay-styles"});class Qf extends Ur(Ti){static get is(){return"vaadin-select-overlay"}requestContentUpdate(){if(super.requestContentUpdate(),this.owner){const t=this._getMenuElement();this.owner._assignMenuElement(t)}}_getMenuElement(){return Array.from(this.children).find(t=>t.localName!=="style")}}customElements.define(Qf.is,Qf);/**
 * @license
 * Copyright (c) 2017 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class Jf extends Ub(j(W)){static get is(){return"vaadin-select-value-button"}static get template(){return H`
      <style>
        :host {
          display: inline-block;
          position: relative;
          outline: none;
          white-space: nowrap;
          -webkit-user-select: none;
          -moz-user-select: none;
          user-select: none;
          min-width: 0;
          width: 0;
        }

        ::slotted(*) {
          padding-left: 0;
          padding-right: 0;
          flex: auto;
        }

        /* placeholder styles */
        ::slotted(*:not([selected])) {
          line-height: 1;
        }

        .vaadin-button-container {
          display: inline-flex;
          align-items: center;
          justify-content: center;
          text-align: inherit;
          width: 100%;
          height: 100%;
          min-height: inherit;
          text-shadow: inherit;
        }

        [part='label'] {
          white-space: nowrap;
          overflow: hidden;
          text-overflow: ellipsis;
          width: 100%;
          line-height: inherit;
        }
      </style>
      <div class="vaadin-button-container">
        <span part="label">
          <slot></slot>
        </span>
      </div>
    `}}customElements.define(Jf.is,Jf);/**
 * @license
 * Copyright (c) 2017 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */R("vaadin-select",[Wb,Yb],{moduleId:"vaadin-select-styles"});class ep extends qa(Zm(ts(re(j(W))))){static get is(){return"vaadin-select"}static get template(){return H`
      <style>
        ::slotted([slot='value']) {
          flex-grow: 1;
        }
      </style>

      <div class="vaadin-select-container">
        <div part="label" on-click="_onClick">
          <slot name="label"></slot>
          <span part="required-indicator" aria-hidden="true" on-click="focus"></span>
        </div>

        <vaadin-input-container
          part="input-field"
          readonly="[[readonly]]"
          disabled="[[disabled]]"
          invalid="[[invalid]]"
          theme$="[[_theme]]"
          on-click="_onClick"
        >
          <slot name="prefix" slot="prefix"></slot>
          <slot name="value"></slot>
          <div part="toggle-button" slot="suffix" aria-hidden="true" on-mousedown="_onToggleMouseDown"></div>
        </vaadin-input-container>

        <div part="helper-text">
          <slot name="helper"></slot>
        </div>

        <div part="error-message">
          <slot name="error-message"></slot>
        </div>
      </div>

      <vaadin-select-overlay
        position-target="[[_inputContainer]]"
        opened="{{opened}}"
        with-backdrop="[[_phone]]"
        phone$="[[_phone]]"
        theme$="[[_theme]]"
      ></vaadin-select-overlay>

      <slot name="tooltip"></slot>
    `}static get properties(){return{items:{type:Array,observer:"__itemsChanged"},opened:{type:Boolean,value:!1,notify:!0,reflectToAttribute:!0,observer:"_openedChanged"},renderer:Function,value:{type:String,value:"",notify:!0,observer:"_valueChanged"},name:{type:String},placeholder:{type:String},readonly:{type:Boolean,value:!1,reflectToAttribute:!0},_phone:Boolean,_phoneMediaQuery:{value:"(max-width: 420px), (max-height: 420px)"},_overlayElement:Object,_inputContainer:Object,_items:Object}}static get delegateAttrs(){return[...super.delegateAttrs,"invalid"]}static get observers(){return["_updateAriaExpanded(opened)","_updateSelectedItem(value, _items, placeholder)","_rendererChanged(renderer, _overlayElement)"]}get _valueButton(){return this._valueButtonController&&this._valueButtonController.node}constructor(){super(),this._fieldId=`${this.localName}-${Hr()}`,this._boundOnKeyDown=this._onKeyDown.bind(this)}disconnectedCallback(){super.disconnectedCallback(),this.opened=!1}ready(){super.ready(),this._overlayElement=this.shadowRoot.querySelector("vaadin-select-overlay"),this._inputContainer=this.shadowRoot.querySelector('[part~="input-field"]'),this._valueButtonController=new tl(this,"value",()=>document.createElement("vaadin-select-value-button"),(t,e)=>{this._setFocusElement(e),this.ariaTarget=e,this.stateTarget=e,e.setAttribute("aria-haspopup","listbox"),e.setAttribute("aria-labelledby",`${this._labelId} ${this._fieldId}`),this._updateAriaExpanded(t.opened),e.addEventListener("keydown",this._boundOnKeyDown)}),this.addController(this._valueButtonController),this.addController(new al(this._phoneMediaQuery,t=>{this._phone=t})),Ii(this),this._tooltipController=new ke(this),this._tooltipController.setPosition("top"),this.addController(this._tooltipController)}requestContentUpdate(){!this._overlayElement||(this._overlayElement.requestContentUpdate(),this._menuElement&&this._menuElement.items&&this._updateSelectedItem(this.value,this._menuElement.items))}_requiredChanged(t){super._requiredChanged(t),t===!1&&this.validate()}_rendererChanged(t,e){!e||(e.setProperties({owner:this,renderer:t||this.__defaultRenderer}),this.requestContentUpdate())}__itemsChanged(t,e){(t||e)&&this.requestContentUpdate()}_assignMenuElement(t){t&&t!==this.__lastMenuElement&&(this._menuElement=t,this.__initMenuItems(t),t.addEventListener("items-changed",()=>{this.__initMenuItems(t)}),t.addEventListener("selected-changed",()=>this.__updateValueButton()),t.addEventListener("keydown",e=>this._onKeyDownInside(e),!0),t.addEventListener("click",()=>{this.__userInteraction=!0,this.opened=!1},!0),this.__lastMenuElement=t)}__initMenuItems(t){t.items&&(this._items=t.items)}_valueChanged(t,e){this.toggleAttribute("has-value",Boolean(t)),e!==void 0&&this.validate()}_onClick(t){t.preventDefault(),this.opened=!this.readonly}_onToggleMouseDown(t){t.preventDefault()}_onKeyDown(t){if(!this.readonly&&!this.opened){if(/^(Enter|SpaceBar|\s|ArrowDown|Down|ArrowUp|Up)$/.test(t.key))t.preventDefault(),this.opened=!0;else if(/[\p{L}\p{Nd}]/u.test(t.key)&&t.key.length===1){const e=this._menuElement.selected,i=e!==void 0?e:-1,n=this._menuElement._searchKey(i,t.key);n>=0&&(this.__userInteraction=!0,this._updateAriaLive(!0),this._menuElement.selected=n)}}}_onKeyDownInside(t){/^(Tab)$/.test(t.key)&&(this.opened=!1)}_openedChanged(t,e){if(t){if(this._updateAriaLive(!1),!this._overlayElement||!this._menuElement||!this.focusElement||this.disabled||this.readonly){this.opened=!1;return}this._overlayElement.style.setProperty("--vaadin-select-text-field-width",`${this._inputContainer.offsetWidth}px`);const i=this.hasAttribute("focus-ring");this._openedWithFocusRing=i,i&&this.removeAttribute("focus-ring"),this._menuElement.focus()}else e&&(this.focus(),this._openedWithFocusRing&&this.setAttribute("focus-ring",""),this.validate())}_updateAriaExpanded(t){this._valueButton&&this._valueButton.setAttribute("aria-expanded",t?"true":"false")}_updateAriaLive(t){this._valueButton&&(t?this._valueButton.setAttribute("aria-live","polite"):this._valueButton.removeAttribute("aria-live"))}__attachSelectedItem(t){let e;const i=t.getAttribute("label");i?e=this.__createItemElement({label:i}):e=t.cloneNode(!0),e._sourceItem=t,this.__appendValueItemElement(e),e.selected=!0}__createItemElement(t){const e=document.createElement(t.component||"vaadin-select-item");return t.label&&(e.textContent=t.label),t.value&&(e.value=t.value),t.disabled&&(e.disabled=t.disabled),e}__appendValueItemElement(t){this._valueButton.appendChild(t),t.removeAttribute("tabindex"),t.removeAttribute("aria-selected"),t.removeAttribute("role"),t.setAttribute("id",this._fieldId)}__updateValueButton(){if(!this._valueButton)return;this._valueButton.innerHTML="";const t=this._items[this._menuElement.selected];if(this._valueButton.removeAttribute("placeholder"),t)this.__attachSelectedItem(t),this._valueChanging||(this._selectedChanging=!0,this.value=t.value||"",this.__userInteraction&&(this.opened=!1,this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.__userInteraction=!1),delete this._selectedChanging);else if(this.placeholder){const e=this.__createItemElement({label:this.placeholder});this.__appendValueItemElement(e),this._valueButton.setAttribute("placeholder","")}}_updateSelectedItem(t,e){if(e){const i=t==null?t:t.toString();this._menuElement.selected=e.reduce((n,s,o)=>n===void 0&&s.value===i?o:n,void 0),this._selectedChanging||(this._valueChanging=!0,this.__updateValueButton(),delete this._valueChanging)}}_shouldRemoveFocus(){return!this.opened}_setFocused(t){super._setFocused(t),t||this.validate()}checkValidity(){return!this.required||this.readonly||!!this.value}__defaultRenderer(t,e){if(!this.items||this.items.length===0){t.textContent="";return}let i=t.firstElementChild;i||(i=document.createElement("vaadin-select-list-box"),t.appendChild(i)),i.textContent="",this.items.forEach(n=>{i.appendChild(this.__createItemElement(n))})}}customElements.define(ep.is,ep);R("vaadin-split-layout",k`
    [part='splitter'] {
      min-width: var(--lumo-space-s);
      min-height: var(--lumo-space-s);
      background-color: var(--lumo-contrast-5pct);
      transition: 0.1s background-color;
    }

    [part='handle'] {
      display: flex;
      align-items: center;
      justify-content: center;
      width: var(--lumo-size-m);
      height: var(--lumo-size-m);
    }

    [part='handle']::after {
      content: '';
      display: block;
      width: 4px;
      height: 100%;
      max-width: 100%;
      max-height: 100%;
      border-radius: var(--lumo-border-radius-s);
      background-color: var(--lumo-contrast-30pct);
      transition: 0.1s opacity, 0.1s background-color;
    }

    :host([orientation='vertical']) [part='handle']::after {
      width: 100%;
      height: 4px;
    }

    /* Hover style */
    [part='splitter']:hover [part='handle']::after {
      background-color: var(--lumo-contrast-40pct);
    }

    /* Disable hover for touch devices */
    @media (pointer: coarse) {
      [part='splitter']:hover [part='handle']::after {
        background-color: var(--lumo-contrast-30pct);
      }
    }

    /* Active style */
    [part='splitter']:active [part='handle']::after {
      background-color: var(--lumo-contrast-50pct);
    }

    /* Small/minimal */
    :host([theme~='small']) > [part='splitter'] {
      border-left: 1px solid var(--lumo-contrast-10pct);
      border-top: 1px solid var(--lumo-contrast-10pct);
    }

    :host([theme~='small']) > [part='splitter'],
    :host([theme~='minimal']) > [part='splitter'] {
      min-width: 0;
      min-height: 0;
      background-color: transparent;
    }

    :host([theme~='small']) > [part='splitter']::after,
    :host([theme~='minimal']) > [part='splitter']::after {
      content: '';
      position: absolute;
      top: -4px;
      right: -4px;
      bottom: -4px;
      left: -4px;
    }

    :host([theme~='small']) > [part='splitter'] > [part='handle']::after,
    :host([theme~='minimal']) > [part='splitter'] > [part='handle']::after {
      opacity: 0;
    }

    :host([theme~='small']) > [part='splitter']:hover > [part='handle']::after,
    :host([theme~='small']) > [part='splitter']:active > [part='handle']::after,
    :host([theme~='minimal']) > [part='splitter']:hover > [part='handle']::after,
    :host([theme~='minimal']) > [part='splitter']:active > [part='handle']::after {
      opacity: 1;
    }

    /* RTL specific styles */
    :host([theme~='small'][dir='rtl']) > [part='splitter'] {
      border-left: auto;
      border-right: 1px solid var(--lumo-contrast-10pct);
    }
  `,{moduleId:"lumo-split-layout"});/**
 * @license
 * Copyright (c) 2016 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class Ko extends re(j(W)){static get template(){return H`
      <style>
        :host {
          display: flex;
          overflow: hidden !important;
          transform: translateZ(0);
        }

        :host([hidden]) {
          display: none !important;
        }

        :host([orientation='vertical']) {
          flex-direction: column;
        }

        :host ::slotted(*) {
          flex: 1 1 auto;
          overflow: auto;
          -webkit-overflow-scrolling: touch;
        }

        [part='splitter'] {
          flex: none;
          position: relative;
          z-index: 1;
          overflow: visible;
          min-width: 8px;
          min-height: 8px;
        }

        :host(:not([orientation='vertical'])) > [part='splitter'] {
          cursor: ew-resize;
        }

        :host([orientation='vertical']) > [part='splitter'] {
          cursor: ns-resize;
        }

        [part='handle'] {
          width: 40px;
          height: 40px;
          position: absolute;
          top: 50%;
          left: 50%;
          transform: translate3d(-50%, -50%, 0);
        }
      </style>
      <slot id="primary" name="primary"></slot>
      <div part="splitter" id="splitter">
        <div part="handle"></div>
      </div>
      <slot id="secondary" name="secondary"></slot>
    `}static get is(){return"vaadin-split-layout"}static get properties(){return{orientation:{type:String,reflectToAttribute:!0,value:"horizontal"},_previousPrimaryPointerEvents:String,_previousSecondaryPointerEvents:String}}ready(){super.ready(),this.__observer=new Ce(this,e=>{this._cleanupNodes(e.removedNodes),this._processChildren()});const t=this.$.splitter;Ye(t,"track",this._onHandleTrack.bind(this)),Ye(t,"down",this._setPointerEventsNone.bind(this)),Ye(t,"up",this._restorePointerEvents.bind(this))}_cleanupNodes(t){t.forEach(e=>{e.parentElement instanceof Ko||e.removeAttribute("slot")})}_processChildren(){[...this.children].forEach((t,e)=>{e===0?(this._primaryChild=t,t.setAttribute("slot","primary")):e===1?(this._secondaryChild=t,t.setAttribute("slot","secondary")):t.removeAttribute("slot")})}_setFlexBasis(t,e,i){e=Math.max(0,Math.min(e,i)),e===0&&(e=1e-6),t.style.flex=`1 1 ${e}px`}_setPointerEventsNone(t){!this._primaryChild||!this._secondaryChild||(this._previousPrimaryPointerEvents=this._primaryChild.style.pointerEvents,this._previousSecondaryPointerEvents=this._secondaryChild.style.pointerEvents,this._primaryChild.style.pointerEvents="none",this._secondaryChild.style.pointerEvents="none",t.preventDefault())}_restorePointerEvents(){!this._primaryChild||!this._secondaryChild||(this._primaryChild.style.pointerEvents=this._previousPrimaryPointerEvents,this._secondaryChild.style.pointerEvents=this._previousSecondaryPointerEvents)}_onHandleTrack(t){if(!this._primaryChild||!this._secondaryChild)return;const e=this.orientation==="vertical"?"height":"width";if(t.detail.state==="start"){this._startSize={container:this.getBoundingClientRect()[e]-this.$.splitter.getBoundingClientRect()[e],primary:this._primaryChild.getBoundingClientRect()[e],secondary:this._secondaryChild.getBoundingClientRect()[e]};return}const i=this.orientation==="vertical"?t.detail.dy:t.detail.dx,s=this.orientation!=="vertical"&&this.getAttribute("dir")==="rtl"?-i:i;this._setFlexBasis(this._primaryChild,this._startSize.primary+s,this._startSize.container),this._setFlexBasis(this._secondaryChild,this._startSize.secondary-s,this._startSize.container),t.detail.state==="end"&&(this.dispatchEvent(new CustomEvent("splitter-dragend")),delete this._startSize)}notifyResize(){console.warn("WARNING: Since Vaadin 23, notifyResize() is deprecated. The component uses a ResizeObserver internally and doesn't need to be explicitly notified of resizes.")}}customElements.define(Ko.is,Ko);R("vaadin-tab",k`
    :host {
      box-sizing: border-box;
      padding: 0.5rem 0.75rem;
      font-family: var(--lumo-font-family);
      font-size: var(--lumo-font-size-m);
      line-height: var(--lumo-line-height-xs);
      font-weight: 500;
      opacity: 1;
      color: var(--lumo-secondary-text-color);
      transition: 0.15s color, 0.2s transform;
      flex-shrink: 0;
      display: flex;
      align-items: center;
      position: relative;
      cursor: var(--lumo-clickable-cursor);
      transform-origin: 50% 100%;
      outline: none;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      overflow: hidden;
      min-width: var(--lumo-size-m);
      -webkit-user-select: none;
      -moz-user-select: none;
      user-select: none;
    }

    :host(:not([orientation='vertical'])) {
      text-align: center;
    }

    :host([orientation='vertical']) {
      transform-origin: 0% 50%;
      padding: 0.25rem 1rem;
      min-height: var(--lumo-size-m);
      min-width: 0;
    }

    :host(:hover),
    :host([focus-ring]) {
      color: var(--lumo-body-text-color);
    }

    :host([selected]) {
      color: var(--lumo-primary-text-color);
      transition: 0.6s color;
    }

    :host([active]:not([selected])) {
      color: var(--lumo-primary-text-color);
      transition-duration: 0.1s;
    }

    :host::before,
    :host::after {
      content: '';
      position: absolute;
      display: var(--_lumo-tab-marker-display, block);
      bottom: 0;
      left: 50%;
      width: var(--lumo-size-s);
      height: 2px;
      background-color: var(--lumo-contrast-60pct);
      border-radius: var(--lumo-border-radius-s) var(--lumo-border-radius-s) 0 0;
      transform: translateX(-50%) scale(0);
      transform-origin: 50% 100%;
      transition: 0.14s transform cubic-bezier(0.12, 0.32, 0.54, 1);
      will-change: transform;
    }

    :host([selected])::before,
    :host([selected])::after {
      background-color: var(--lumo-primary-color);
    }

    :host([orientation='vertical'])::before,
    :host([orientation='vertical'])::after {
      left: 0;
      bottom: 50%;
      transform: translateY(50%) scale(0);
      width: 2px;
      height: var(--lumo-size-xs);
      border-radius: 0 var(--lumo-border-radius-s) var(--lumo-border-radius-s) 0;
      transform-origin: 100% 50%;
    }

    :host::after {
      box-shadow: 0 0 0 4px var(--lumo-primary-color);
      opacity: 0.15;
      transition: 0.15s 0.02s transform, 0.8s 0.17s opacity;
    }

    :host([selected])::before,
    :host([selected])::after {
      transform: translateX(-50%) scale(1);
      transition-timing-function: cubic-bezier(0.12, 0.32, 0.54, 1.5);
    }

    :host([orientation='vertical'][selected])::before,
    :host([orientation='vertical'][selected])::after {
      transform: translateY(50%) scale(1);
    }

    :host([selected]:not([active]))::after {
      opacity: 0;
    }

    :host(:not([orientation='vertical'])) ::slotted(a[href]) {
      justify-content: center;
    }

    :host ::slotted(a) {
      display: flex;
      width: 100%;
      align-items: center;
      height: 100%;
      margin: -0.5rem -0.75rem;
      padding: 0.5rem 0.75rem;
      outline: none;

      /*
          Override the CSS inherited from \`lumo-color\` and \`lumo-typography\`.
          Note: \`!important\` is needed because of the \`:slotted\` specificity.
        */
      text-decoration: none !important;
      color: inherit !important;
    }

    :host ::slotted(vaadin-icon),
    :host ::slotted(iron-icon) {
      margin: 0 4px;
      width: var(--lumo-icon-size-m);
      height: var(--lumo-icon-size-m);
    }

    /* Vaadin icons are based on a 16x16 grid (unlike Lumo and Material icons with 24x24), so they look too big by default */
    :host ::slotted(vaadin-icon[icon^='vaadin:']),
    :host ::slotted(iron-icon[icon^='vaadin:']) {
      padding: 0.25rem;
      box-sizing: border-box !important;
    }

    :host(:not([dir='rtl'])) ::slotted(vaadin-icon:first-child),
    :host(:not([dir='rtl'])) ::slotted(iron-icon:first-child) {
      margin-left: 0;
    }

    :host(:not([dir='rtl'])) ::slotted(vaadin-icon:last-child),
    :host(:not([dir='rtl'])) ::slotted(iron-icon:last-child) {
      margin-right: 0;
    }

    :host([theme~='icon-on-top']) {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: space-around;
      text-align: center;
      padding-bottom: 0.5rem;
      padding-top: 0.25rem;
    }

    :host([theme~='icon-on-top']) ::slotted(a) {
      flex-direction: column;
      align-items: center;
      margin-top: -0.25rem;
      padding-top: 0.25rem;
    }

    :host([theme~='icon-on-top']) ::slotted(vaadin-icon),
    :host([theme~='icon-on-top']) ::slotted(iron-icon) {
      margin: 0;
    }

    /* Disabled */

    :host([disabled]) {
      pointer-events: none;
      opacity: 1;
      color: var(--lumo-disabled-text-color);
    }

    /* Focus-ring */

    :host([focus-ring]) {
      box-shadow: inset 0 0 0 2px var(--lumo-primary-color-50pct);
      border-radius: var(--lumo-border-radius-m);
    }

    /* RTL specific styles */

    :host([dir='rtl'])::before,
    :host([dir='rtl'])::after {
      left: auto;
      right: 50%;
      transform: translateX(50%) scale(0);
    }

    :host([dir='rtl'][selected]:not([orientation='vertical']))::before,
    :host([dir='rtl'][selected]:not([orientation='vertical']))::after {
      transform: translateX(50%) scale(1);
    }

    :host([dir='rtl']) ::slotted(vaadin-icon:first-child),
    :host([dir='rtl']) ::slotted(iron-icon:first-child) {
      margin-right: 0;
    }

    :host([dir='rtl']) ::slotted(vaadin-icon:last-child),
    :host([dir='rtl']) ::slotted(iron-icon:last-child) {
      margin-left: 0;
    }

    :host([orientation='vertical'][dir='rtl']) {
      transform-origin: 100% 50%;
    }

    :host([dir='rtl'][orientation='vertical'])::before,
    :host([dir='rtl'][orientation='vertical'])::after {
      left: auto;
      right: 0;
      border-radius: var(--lumo-border-radius-s) 0 0 var(--lumo-border-radius-s);
      transform-origin: 0% 50%;
    }
  `,{moduleId:"lumo-tab"});/**
 * @license
 * Copyright (c) 2017 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class tp extends re(j(Bv(He(W)))){static get template(){return H`
      <style>
        :host {
          display: block;
        }

        :host([hidden]) {
          display: none !important;
        }
      </style>
      <slot></slot>
      <slot name="tooltip"></slot>
    `}static get is(){return"vaadin-tab"}ready(){super.ready(),this.setAttribute("role","tab"),this._tooltipController=new ke(this),this.addController(this._tooltipController)}_onKeyUp(t){const e=this.hasAttribute("active");if(super._onKeyUp(t),e){const i=this.querySelector("a");i&&i.click()}}}customElements.define(tp.is,tp);R("vaadin-tabs",k`
    :host {
      -webkit-tap-highlight-color: transparent;
    }

    :host(:not([orientation='vertical'])) {
      box-shadow: inset 0 -1px 0 0 var(--lumo-contrast-10pct);
      position: relative;
      min-height: var(--lumo-size-l);
    }

    :host([orientation='horizontal']) [part='tabs'] ::slotted(vaadin-tab:not([theme~='icon-on-top'])) {
      justify-content: center;
    }

    :host([orientation='vertical']) {
      box-shadow: -1px 0 0 0 var(--lumo-contrast-10pct);
    }

    :host([orientation='horizontal']) [part='tabs'] {
      margin: 0 0.75rem;
    }

    :host([orientation='vertical']) [part='tabs'] {
      width: 100%;
      margin: 0.5rem 0;
    }

    [part='forward-button'],
    [part='back-button'] {
      position: absolute;
      z-index: 1;
      font-family: lumo-icons;
      color: var(--lumo-tertiary-text-color);
      font-size: var(--lumo-icon-size-m);
      display: flex;
      align-items: center;
      justify-content: center;
      width: 1.5em;
      height: 100%;
      transition: 0.2s opacity;
      top: 0;
    }

    [part='forward-button']:hover,
    [part='back-button']:hover {
      color: inherit;
    }

    :host(:not([dir='rtl'])) [part='forward-button'] {
      right: 0;
    }

    [part='forward-button']::after {
      content: var(--lumo-icons-angle-right);
    }

    [part='back-button']::after {
      content: var(--lumo-icons-angle-left);
    }

    /* Tabs overflow */

    [part='tabs'] {
      --_lumo-tabs-overflow-mask-image: none;
      -webkit-mask-image: var(--_lumo-tabs-overflow-mask-image);
      mask-image: var(--_lumo-tabs-overflow-mask-image);
    }

    /* Horizontal tabs overflow */

    /* Both ends overflowing */
    :host([overflow~='start'][overflow~='end']:not([orientation='vertical'])) [part='tabs'] {
      --_lumo-tabs-overflow-mask-image: linear-gradient(
        90deg,
        transparent 2em,
        #000 4em,
        #000 calc(100% - 4em),
        transparent calc(100% - 2em)
      );
    }

    /* End overflowing */
    :host([overflow~='end']:not([orientation='vertical'])) [part='tabs'] {
      --_lumo-tabs-overflow-mask-image: linear-gradient(90deg, #000 calc(100% - 4em), transparent calc(100% - 2em));
    }

    /* Start overflowing */
    :host([overflow~='start']:not([orientation='vertical'])) [part='tabs'] {
      --_lumo-tabs-overflow-mask-image: linear-gradient(90deg, transparent 2em, #000 4em);
    }

    /* Vertical tabs overflow */

    /* Both ends overflowing */
    :host([overflow~='start'][overflow~='end'][orientation='vertical']) [part='tabs'] {
      --_lumo-tabs-overflow-mask-image: linear-gradient(transparent, #000 2em, #000 calc(100% - 2em), transparent);
    }

    /* End overflowing */
    :host([overflow~='end'][orientation='vertical']) [part='tabs'] {
      --_lumo-tabs-overflow-mask-image: linear-gradient(#000 calc(100% - 2em), transparent);
    }

    /* Start overflowing */
    :host([overflow~='start'][orientation='vertical']) [part='tabs'] {
      --_lumo-tabs-overflow-mask-image: linear-gradient(transparent, #000 2em);
    }

    :host [part='tabs'] ::slotted(:not(vaadin-tab)) {
      margin-left: var(--lumo-space-m);
    }

    /* Centered */

    :host([theme~='centered'][orientation='horizontal']) ::slotted(vaadin-tab:first-of-type) {
      margin-inline-start: auto;
    }

    :host([theme~='centered'][orientation='horizontal']) ::slotted(vaadin-tab:last-of-type) {
      margin-inline-end: auto;
    }

    /* Small */

    :host([theme~='small']),
    :host([theme~='small']) [part='tabs'] {
      min-height: var(--lumo-size-m);
    }

    :host([theme~='small']) [part='tabs'] ::slotted(vaadin-tab) {
      font-size: var(--lumo-font-size-s);
    }

    /* Minimal */

    :host([theme~='minimal']) {
      box-shadow: none;
      --_lumo-tab-marker-display: none;
    }

    /* Hide-scroll-buttons */

    :host([theme~='hide-scroll-buttons']) [part='back-button'],
    :host([theme~='hide-scroll-buttons']) [part='forward-button'] {
      display: none;
    }

    /* prettier-ignore */
    :host([theme~='hide-scroll-buttons'][overflow~='start'][overflow~='end']:not([orientation='vertical'])) [part='tabs'] {
      --_lumo-tabs-overflow-mask-image: linear-gradient(
        90deg,
        transparent,
        #000 2em,
        #000 calc(100% - 2em),
        transparent 100%
      );
    }

    :host([theme~='hide-scroll-buttons'][overflow~='end']:not([orientation='vertical'])) [part='tabs'] {
      --_lumo-tabs-overflow-mask-image: linear-gradient(90deg, #000 calc(100% - 2em), transparent 100%);
    }

    :host([theme~='hide-scroll-buttons'][overflow~='start']:not([orientation='vertical'])) [part='tabs'] {
      --_lumo-tabs-overflow-mask-image: linear-gradient(90deg, transparent, #000 2em);
    }

    /* Equal-width tabs */
    :host([theme~='equal-width-tabs']) {
      flex: auto;
    }

    :host([theme~='equal-width-tabs']) [part='tabs'] ::slotted(vaadin-tab) {
      flex: 1 0 0%;
    }

    /* RTL specific styles */

    :host([dir='rtl']) [part='forward-button']::after {
      content: var(--lumo-icons-angle-left);
    }

    :host([dir='rtl']) [part='back-button']::after {
      content: var(--lumo-icons-angle-right);
    }

    :host([orientation='vertical'][dir='rtl']) {
      box-shadow: 1px 0 0 0 var(--lumo-contrast-10pct);
    }

    :host([dir='rtl']) [part='forward-button'] {
      left: 0;
    }

    :host([dir='rtl']) [part='tabs'] ::slotted(:not(vaadin-tab)) {
      margin-left: 0;
      margin-right: var(--lumo-space-m);
    }

    /* Both ends overflowing */
    :host([dir='rtl'][overflow~='start'][overflow~='end']:not([orientation='vertical'])) [part='tabs'] {
      --_lumo-tabs-overflow-mask-image: linear-gradient(
        -90deg,
        transparent 2em,
        #000 4em,
        #000 calc(100% - 4em),
        transparent calc(100% - 2em)
      );
    }

    /* End overflowing */
    :host([dir='rtl'][overflow~='end']:not([orientation='vertical'])) [part='tabs'] {
      --_lumo-tabs-overflow-mask-image: linear-gradient(-90deg, #000 calc(100% - 4em), transparent calc(100% - 2em));
    }

    /* Start overflowing */
    :host([dir='rtl'][overflow~='start']:not([orientation='vertical'])) [part='tabs'] {
      --_lumo-tabs-overflow-mask-image: linear-gradient(-90deg, transparent 2em, #000 4em);
    }

    :host([dir='rtl'][theme~='hide-scroll-buttons'][overflow~='start'][overflow~='end']:not([orientation='vertical']))
      [part='tabs'] {
      --_lumo-tabs-overflow-mask-image: linear-gradient(
        -90deg,
        transparent,
        #000 2em,
        #000 calc(100% - 2em),
        transparent 100%
      );
    }

    :host([dir='rtl'][theme~='hide-scroll-buttons'][overflow~='end']:not([orientation='vertical'])) [part='tabs'] {
      --_lumo-tabs-overflow-mask-image: linear-gradient(-90deg, #000 calc(100% - 2em), transparent 100%);
    }

    :host([dir='rtl'][theme~='hide-scroll-buttons'][overflow~='start']:not([orientation='vertical'])) [part='tabs'] {
      --_lumo-tabs-overflow-mask-image: linear-gradient(-90deg, transparent, #000 2em);
    }
  `,{moduleId:"lumo-tabs"});/**
 * @license
 * Copyright (c) 2017 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class bh extends er(re(Vv(j(W)))){static get template(){return H`
      <style>
        :host {
          display: flex;
          align-items: center;
        }

        :host([hidden]) {
          display: none !important;
        }

        :host([orientation='vertical']) {
          display: block;
        }

        :host([orientation='horizontal']) [part='tabs'] {
          flex-grow: 1;
          display: flex;
          align-self: stretch;
          overflow-x: auto;
          -webkit-overflow-scrolling: touch;
        }

        /* This seems more future-proof than \`overflow: -moz-scrollbars-none\` which is marked obsolete
         and is no longer guaranteed to work:
         https://developer.mozilla.org/en-US/docs/Web/CSS/overflow#Mozilla_Extensions */
        @-moz-document url-prefix() {
          :host([orientation='horizontal']) [part='tabs'] {
            overflow: hidden;
          }
        }

        :host([orientation='horizontal']) [part='tabs']::-webkit-scrollbar {
          display: none;
        }

        :host([orientation='vertical']) [part='tabs'] {
          height: 100%;
          overflow-y: auto;
          -webkit-overflow-scrolling: touch;
        }

        [part='back-button'],
        [part='forward-button'] {
          pointer-events: none;
          opacity: 0;
          cursor: default;
        }

        :host([overflow~='start']) [part='back-button'],
        :host([overflow~='end']) [part='forward-button'] {
          pointer-events: auto;
          opacity: 1;
        }

        [part='back-button']::after {
          content: '\\25C0';
        }

        [part='forward-button']::after {
          content: '\\25B6';
        }

        :host([orientation='vertical']) [part='back-button'],
        :host([orientation='vertical']) [part='forward-button'] {
          display: none;
        }

        /* RTL specific styles */

        :host([dir='rtl']) [part='back-button']::after {
          content: '\\25B6';
        }

        :host([dir='rtl']) [part='forward-button']::after {
          content: '\\25C0';
        }
      </style>
      <div on-click="_scrollBack" part="back-button" aria-hidden="true"></div>

      <div id="scroll" part="tabs">
        <slot></slot>
      </div>

      <div on-click="_scrollForward" part="forward-button" aria-hidden="true"></div>
    `}static get is(){return"vaadin-tabs"}static get properties(){return{orientation:{value:"horizontal",type:String},selected:{value:0,type:Number}}}static get observers(){return["__tabsItemsChanged(items, items.*)"]}constructor(){super(),this.__itemsResizeObserver=new ResizeObserver(()=>{setTimeout(()=>this._updateOverflow())})}ready(){super.ready(),this._scrollerElement.addEventListener("scroll",()=>this._updateOverflow()),this.setAttribute("role","tablist"),Xa(this,()=>{this._updateOverflow()})}_onResize(){this._updateOverflow()}__tabsItemsChanged(t){this.__itemsResizeObserver.disconnect(),(t||[]).forEach(e=>{this.__itemsResizeObserver.observe(e)}),this._updateOverflow()}_scrollForward(){this._scroll(-this.__direction*this._scrollOffset)}_scrollBack(){this._scroll(this.__direction*this._scrollOffset)}get _scrollOffset(){return this._vertical?this._scrollerElement.offsetHeight:this._scrollerElement.offsetWidth}get _scrollerElement(){return this.$.scroll}get __direction(){return!this._vertical&&this.getAttribute("dir")==="rtl"?1:-1}_updateOverflow(){const t=this._vertical?this._scrollerElement.scrollTop:this.__getNormalizedScrollLeft(this._scrollerElement),e=this._vertical?this._scrollerElement.scrollHeight:this._scrollerElement.scrollWidth;let i=t>0?"start":"";i+=t+this._scrollOffset<e?" end":"",this.__direction===1&&(i=i.replace(/start|end/gi,n=>n==="start"?"end":"start")),i?this.setAttribute("overflow",i.trim()):this.removeAttribute("overflow")}}customElements.define(bh.is,bh);const Xx=k`
  :host {
    font-size: var(--lumo-font-size-m);
    line-height: var(--lumo-line-height-m);
    font-family: var(--lumo-font-family);
  }

  :host([theme~='bordered']) {
    border: 1px solid var(--lumo-contrast-20pct);
    border-radius: var(--lumo-border-radius-l);
  }

  [part='tabs-container'] {
    box-shadow: inset 0 -1px 0 0 var(--lumo-contrast-10pct);
    padding: var(--lumo-space-xs) var(--lumo-space-s);
    gap: var(--lumo-space-s);
  }

  ::slotted([slot='tabs']) {
    box-shadow: initial;
    margin: calc(var(--lumo-space-xs) * -1) calc(var(--lumo-space-s) * -1);
  }

  [part='content'] {
    padding: var(--lumo-space-s) var(--lumo-space-m);
    border-bottom-left-radius: inherit;
    border-bottom-right-radius: inherit;
  }

  :host([loading]) [part='content'] {
    display: flex;
    align-items: center;
    justify-content: center;
  }
`;R("vaadin-tabsheet",[Xx,Gv],{moduleId:"lumo-tabsheet"});/**
 * @license
 * Copyright (c) 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class ip extends yh{static get is(){return"vaadin-tabsheet-scroller"}}customElements.define(ip.is,ip);/**
 * @license
 * Copyright (c) 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class Kx extends tl{constructor(t){super(t,"tabs"),this.__tabsItemsChangedListener=this.__tabsItemsChangedListener.bind(this),this.__tabsSelectedChangedListener=this.__tabsSelectedChangedListener.bind(this)}__tabsItemsChangedListener(){this.host._setItems(this.tabs.items)}__tabsSelectedChangedListener(){this.host.selected=this.tabs.selected}initCustomNode(t){if(!(t instanceof bh))throw Error('The "tabs" slot of a <vaadin-tabsheet> must only contain a <vaadin-tabs> element!');this.tabs=t,t.addEventListener("items-changed",this.__tabsItemsChangedListener),t.addEventListener("selected-changed",this.__tabsSelectedChangedListener),this.host.__tabs=t,this.host.stateTarget=t,this.__tabsItemsChangedListener()}teardownNode(t){this.tabs=null,t.removeEventListener("items-changed",this.__tabsItemsChangedListener),t.removeEventListener("selected-changed",this.__tabsSelectedChangedListener),this.host.__tabs=null,this.host._setItems([]),this.host.stateTarget=void 0}}class rp extends He(Zm(re(j(W)))){static get template(){return H`
      <style>
        :host([hidden]) {
          display: none !important;
        }

        :host {
          display: flex;
          flex-direction: column;
        }

        [part='tabs-container'] {
          position: relative;
          display: flex;
          align-items: center;
        }

        ::slotted([slot='tabs']) {
          flex: 1;
          align-self: stretch;
          min-width: 8em;
        }

        [part='content'] {
          position: relative;
          flex: 1;
          box-sizing: border-box;
        }
      </style>

      <div part="tabs-container">
        <slot name="prefix"></slot>
        <slot name="tabs"></slot>
        <slot name="suffix"></slot>
      </div>

      <vaadin-tabsheet-scroller part="content">
        <div part="loader"></div>
        <slot id="panel-slot"></slot>
      </vaadin-tabsheet-scroller>
    `}static get is(){return"vaadin-tabsheet"}static get properties(){return{items:{type:Array,readOnly:!0,notify:!0},selected:{value:0,type:Number,notify:!0},__tabs:{type:Object},__panels:{type:Array}}}static get delegateProps(){return["selected"]}static get delegateAttrs(){return["theme"]}ready(){super.ready(),this.__overflowController=new pc(this,this.shadowRoot.querySelector('[part="content"]')),this.addController(this.__overflowController),this._tabsSlotController=new Kx(this),this.addController(this._tabsSlotController);const t=this.shadowRoot.querySelector("#panel-slot");this.__panelsObserver=new Ce(t,()=>{this.__panels=Array.from(t.assignedNodes({flatten:!0})).filter(e=>e.nodeType===Node.ELEMENT_NODE)})}static get observers(){return["__itemsOrPanelsChanged(items, __panels)","__selectedTabItemChanged(selected, items, __panels)"]}__itemsOrPanelsChanged(t,e){!t||!e||t.forEach(i=>{const n=e.find(s=>s.getAttribute("tab")===i.id);n&&(n.role="tabpanel",n.id=n.id||`tabsheet-panel-${Hr()}`,n.setAttribute("aria-labelledby",i.id),i.setAttribute("aria-controls",n.id))})}__selectedTabItemChanged(t,e,i){if(!e||!i||t===void 0)return;const n=this.shadowRoot.querySelector('[part="content"]'),s=e[t],o=s?s.id:"",a=i.find(h=>h.getAttribute("tab")===o);this.toggleAttribute("loading",!a);const l=i.filter(h=>!h.hidden).length===1;a?n.style.minHeight="":l&&(n.style.minHeight=`${n.offsetHeight}px`),i.forEach(h=>{h.hidden=h!==a})}}customElements.define(rp.is,rp);/**
 * @license
 * Copyright (c) 2016 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const ng=document.createElement("template");ng.innerHTML=`
  <style>
    @font-face {
      font-family: 'vaadin-upload-icons';
      src: url(data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAAAasAAsAAAAABmAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABPUy8yAAABCAAAAGAAAABgDxIF5mNtYXAAAAFoAAAAVAAAAFQXVtKMZ2FzcAAAAbwAAAAIAAAACAAAABBnbHlmAAABxAAAAfQAAAH0bBJxYWhlYWQAAAO4AAAANgAAADYPD267aGhlYQAAA/AAAAAkAAAAJAfCA8tobXR4AAAEFAAAACgAAAAoHgAAx2xvY2EAAAQ8AAAAFgAAABYCSgHsbWF4cAAABFQAAAAgAAAAIAAOADVuYW1lAAAEdAAAAhYAAAIWmmcHf3Bvc3QAAAaMAAAAIAAAACAAAwAAAAMDtwGQAAUAAAKZAswAAACPApkCzAAAAesAMwEJAAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAAAAAAAAAQAAA6QUDwP/AAEADwABAAAAAAQAAAAAAAAAAAAAAIAAAAAAAAwAAAAMAAAAcAAEAAwAAABwAAwABAAAAHAAEADgAAAAKAAgAAgACAAEAIOkF//3//wAAAAAAIOkA//3//wAB/+MXBAADAAEAAAAAAAAAAAAAAAEAAf//AA8AAQAAAAAAAAAAAAIAADc5AQAAAAABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAgAA/8AEAAPAABkAMgAAEz4DMzIeAhczLgMjIg4CBycRIScFIRcOAyMiLgInIx4DMzI+AjcXphZGWmo6SH9kQwyADFiGrmJIhXJbIEYBAFoDWv76YBZGXGw8Rn5lRQyADFmIrWBIhHReIkYCWjJVPSIyVnVDXqN5RiVEYTxG/wBa2loyVT0iMlZ1Q16jeUYnRWE5RgAAAAABAIAAAAOAA4AAAgAAExEBgAMAA4D8gAHAAAAAAwAAAAAEAAOAAAIADgASAAAJASElIiY1NDYzMhYVFAYnETMRAgD+AAQA/gAdIyMdHSMjXYADgPyAgCMdHSMjHR0jwAEA/wAAAQANADMD5gNaAAUAACUBNwUBFwHT/jptATMBppMzAU2a4AIgdAAAAAEAOv/6A8YDhgALAAABJwkBBwkBFwkBNwEDxoz+xv7GjAFA/sCMAToBOoz+wAL6jP7AAUCM/sb+xowBQP7AjAE6AAAAAwAA/8AEAAPAAAcACwASAAABFSE1IREhEQEjNTMJAjMRIRECwP6A/sAEAP0AgIACQP7A/sDAAQABQICA/oABgP8AgAHAAUD+wP6AAYAAAAABAAAAAQAAdhiEdV8PPPUACwQAAAAAANX4FR8AAAAA1fgVHwAA/8AEAAPAAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAQAAAEAAAAAAAAAAAAAAAAAAAAKBAAAAAAAAAAAAAAAAgAAAAQAAAAEAACABAAAAAQAAA0EAAA6BAAAAAAAAAAACgAUAB4AagB4AJwAsADSAPoAAAABAAAACgAzAAMAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAADgCuAAEAAAAAAAEAEwAAAAEAAAAAAAIABwDMAAEAAAAAAAMAEwBaAAEAAAAAAAQAEwDhAAEAAAAAAAUACwA5AAEAAAAAAAYAEwCTAAEAAAAAAAoAGgEaAAMAAQQJAAEAJgATAAMAAQQJAAIADgDTAAMAAQQJAAMAJgBtAAMAAQQJAAQAJgD0AAMAAQQJAAUAFgBEAAMAAQQJAAYAJgCmAAMAAQQJAAoANAE0dmFhZGluLXVwbG9hZC1pY29ucwB2AGEAYQBkAGkAbgAtAHUAcABsAG8AYQBkAC0AaQBjAG8AbgBzVmVyc2lvbiAxLjAAVgBlAHIAcwBpAG8AbgAgADEALgAwdmFhZGluLXVwbG9hZC1pY29ucwB2AGEAYQBkAGkAbgAtAHUAcABsAG8AYQBkAC0AaQBjAG8AbgBzdmFhZGluLXVwbG9hZC1pY29ucwB2AGEAYQBkAGkAbgAtAHUAcABsAG8AYQBkAC0AaQBjAG8AbgBzUmVndWxhcgBSAGUAZwB1AGwAYQBydmFhZGluLXVwbG9hZC1pY29ucwB2AGEAYQBkAGkAbgAtAHUAcABsAG8AYQBkAC0AaQBjAG8AbgBzRm9udCBnZW5lcmF0ZWQgYnkgSWNvTW9vbi4ARgBvAG4AdAAgAGcAZQBuAGUAcgBhAHQAZQBkACAAYgB5ACAASQBjAG8ATQBvAG8AbgAuAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==) format('woff');
      font-weight: normal;
      font-style: normal;
    }
  </style>
`;document.head.appendChild(ng.content);/**
 * @license
 * Copyright (c) 2016 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class np extends Et(j(W)){static get template(){return H`
      <style>
        :host {
          display: block;
        }

        [hidden] {
          display: none;
        }

        [part='row'] {
          list-style-type: none;
        }

        button {
          background: transparent;
          padding: 0;
          border: none;
          box-shadow: none;
        }
      </style>

      <div part="row">
        <div part="info">
          <div part="done-icon" hidden$="[[!file.complete]]" aria-hidden="true"></div>
          <div part="warning-icon" hidden$="[[!file.error]]" aria-hidden="true"></div>

          <div part="meta">
            <div part="name" id="name">[[file.name]]</div>
            <div part="status" hidden$="[[!file.status]]" id="status">[[file.status]]</div>
            <div part="error" id="error" hidden$="[[!file.error]]">[[file.error]]</div>
          </div>
        </div>
        <div part="commands">
          <button
            type="button"
            part="start-button"
            file-event="file-start"
            on-click="_fireFileEvent"
            hidden$="[[!file.held]]"
            aria-label$="[[i18n.file.start]]"
            aria-describedby="name"
          ></button>
          <button
            type="button"
            part="retry-button"
            file-event="file-retry"
            on-click="_fireFileEvent"
            hidden$="[[!file.error]]"
            aria-label$="[[i18n.file.retry]]"
            aria-describedby="name"
          ></button>
          <button
            type="button"
            part="remove-button"
            file-event="file-abort"
            on-click="_fireFileEvent"
            aria-label$="[[i18n.file.remove]]"
            aria-describedby="name"
          ></button>
        </div>
      </div>

      <vaadin-progress-bar
        part="progress"
        id="progress"
        value$="[[_formatProgressValue(file.progress)]]"
        error$="[[file.error]]"
        indeterminate$="[[file.indeterminate]]"
        uploading$="[[file.uploading]]"
        complete$="[[file.complete]]"
      ></vaadin-progress-bar>
    `}static get is(){return"vaadin-upload-file"}static get properties(){return{file:Object,i18n:Object,tabindex:{type:Number,value:0,reflectToAttribute:!0}}}static get observers(){return["_fileAborted(file.abort)",'_toggleHostAttribute(file.error, "error")','_toggleHostAttribute(file.indeterminate, "indeterminate")','_toggleHostAttribute(file.uploading, "uploading")','_toggleHostAttribute(file.complete, "complete")']}ready(){super.ready(),this.shadowRoot.addEventListener("focusin",t=>{t.composedPath()[0].getAttribute("part").endsWith("button")&&this._setFocused(!1)}),this.shadowRoot.addEventListener("focusout",t=>{t.relatedTarget===this&&this._setFocused(!0)})}_shouldSetFocus(t){return t.composedPath()[0]===this}_fileAborted(t){t&&this._remove()}_remove(){this.dispatchEvent(new CustomEvent("file-remove",{detail:{file:this.file},bubbles:!0,composed:!0}))}_formatProgressValue(t){return t/100}_fireFileEvent(t){return t.preventDefault(),this.dispatchEvent(new CustomEvent(t.target.getAttribute("file-event"),{detail:{file:this.file},bubbles:!0,composed:!0}))}_toggleHostAttribute(t,e){const i=Boolean(t);this.hasAttribute(e)!==i&&(i?this.setAttribute(e,""):this.removeAttribute(e))}}customElements.define(np.is,np);R("vaadin-upload",k`
    :host {
      line-height: var(--lumo-line-height-m);
    }

    :host(:not([nodrop])) {
      overflow: hidden;
      border: 1px dashed var(--lumo-contrast-20pct);
      border-radius: var(--lumo-border-radius-l);
      padding: var(--lumo-space-m);
      transition: background-color 0.6s, border-color 0.6s;
    }

    [part='primary-buttons'] > * {
      display: inline-block;
      white-space: nowrap;
    }

    [part='drop-label'] {
      display: inline-block;
      white-space: normal;
      padding: 0 var(--lumo-space-s);
      color: var(--lumo-secondary-text-color);
      font-family: var(--lumo-font-family);
    }

    :host([dragover-valid]) {
      border-color: var(--lumo-primary-color-50pct);
      background: var(--lumo-primary-color-10pct);
      transition: background-color 0.1s, border-color 0.1s;
    }

    :host([dragover-valid]) [part='drop-label'] {
      color: var(--lumo-primary-text-color);
    }

    :host([max-files-reached]) [part='drop-label'] {
      color: var(--lumo-disabled-text-color);
    }

    [part='drop-label-icon'] {
      display: inline-block;
    }

    [part='drop-label-icon']::before {
      content: var(--lumo-icons-upload);
      font-family: lumo-icons;
      font-size: var(--lumo-icon-size-m);
      line-height: 1;
      vertical-align: -0.25em;
    }

    [part='file-list'] > *:not(:first-child) > * {
      border-top: 1px solid var(--lumo-contrast-10pct);
    }
  `,{moduleId:"lumo-upload"});const Zx=k`
  :host {
    padding: var(--lumo-space-s) 0;
    outline: none;
  }

  :host([focus-ring]) [part='row'] {
    border-radius: var(--lumo-border-radius-s);
    box-shadow: 0 0 0 2px var(--lumo-primary-color-50pct);
  }

  [part='row'] {
    display: flex;
    align-items: baseline;
    justify-content: space-between;
  }

  [part='status'],
  [part='error'] {
    color: var(--lumo-secondary-text-color);
    font-size: var(--lumo-font-size-s);
  }

  [part='info'] {
    display: flex;
    align-items: baseline;
    flex: auto;
  }

  [part='meta'] {
    width: 0.001px;
    flex: 1 1 auto;
  }

  [part='name'] {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  [part='commands'] {
    display: flex;
    align-items: baseline;
    flex: none;
  }

  [part$='icon'] {
    margin-right: var(--lumo-space-xs);
    font-size: var(--lumo-icon-size-m);
    font-family: 'lumo-icons';
    line-height: 1;
  }

  /* When both icons are hidden, let us keep space for one */
  [part='done-icon'][hidden] + [part='warning-icon'][hidden] {
    display: block !important;
    visibility: hidden;
  }

  [part$='button'] {
    flex: none;
    margin-left: var(--lumo-space-xs);
    cursor: var(--lumo-clickable-cursor);
  }

  [part$='button']:focus {
    outline: none;
    border-radius: var(--lumo-border-radius-s);
    box-shadow: 0 0 0 2px var(--lumo-primary-color-50pct);
  }

  [part$='icon']::before,
  [part$='button']::before {
    vertical-align: -0.25em;
  }

  [part='done-icon']::before {
    content: var(--lumo-icons-checkmark);
    color: var(--lumo-primary-text-color);
  }

  [part='warning-icon']::before {
    content: var(--lumo-icons-error);
    color: var(--lumo-error-text-color);
  }

  [part='start-button']::before {
    content: var(--lumo-icons-play);
  }

  [part='retry-button']::before {
    content: var(--lumo-icons-reload);
  }

  [part='remove-button']::before {
    content: var(--lumo-icons-cross);
  }

  [part='error'] {
    color: var(--lumo-error-text-color);
  }

  [part='progress'] {
    width: auto;
    margin-left: calc(var(--lumo-icon-size-m) + var(--lumo-space-xs));
    margin-right: calc(var(--lumo-icon-size-m) + var(--lumo-space-xs));
  }

  [part='progress'][complete],
  [part='progress'][error] {
    display: none;
  }
`;R("vaadin-upload-file",[ec,Zx],{moduleId:"lumo-upload-file"});/**
 * @license
 * Copyright (c) 2016 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class sp extends re(j(W)){static get template(){return H`
      <style>
        :host {
          display: block;
          position: relative;
          box-sizing: border-box;
        }

        :host([hidden]) {
          display: none !important;
        }

        [hidden] {
          display: none !important;
        }

        [part='file-list'] {
          padding: 0;
          margin: 0;
          list-style-type: none;
        }
      </style>

      <div part="primary-buttons">
        <div id="addFiles" on-touchend="_onAddFilesTouchEnd" on-click="_onAddFilesClick">
          <slot name="add-button">
            <vaadin-button part="upload-button" id="addButton" disabled="[[maxFilesReached]]">
              [[_i18nPlural(maxFiles, i18n.addFiles, i18n.addFiles.*)]]
            </vaadin-button>
          </slot>
        </div>
        <div part="drop-label" hidden$="[[nodrop]]" id="dropLabelContainer" aria-hidden="true">
          <slot name="drop-label-icon">
            <div part="drop-label-icon"></div>
          </slot>
          <slot name="drop-label" id="dropLabel"> [[_i18nPlural(maxFiles, i18n.dropFiles, i18n.dropFiles.*)]]</slot>
        </div>
      </div>
      <slot name="file-list">
        <ul id="fileList" part="file-list">
          <template is="dom-repeat" items="[[files]]" as="file">
            <li>
              <vaadin-upload-file file="[[file]]" i18n="[[i18n]]"></vaadin-upload-file>
            </li>
          </template>
        </ul>
      </slot>
      <slot></slot>
      <input
        type="file"
        id="fileInput"
        hidden
        on-change="_onFileInputChange"
        accept$="{{accept}}"
        multiple$="[[_isMultiple(maxFiles)]]"
        capture$="[[capture]]"
      />
    `}static get is(){return"vaadin-upload"}static get properties(){return{nodrop:{type:Boolean,reflectToAttribute:!0,value:wi},target:{type:String,value:""},method:{type:String,value:"POST"},headers:{type:Object,value:{}},timeout:{type:Number,value:0},_dragover:{type:Boolean,value:!1,observer:"_dragoverChanged"},files:{type:Array,notify:!0,value:()=>[]},maxFiles:{type:Number,value:1/0},maxFilesReached:{type:Boolean,value:!1,notify:!0,readOnly:!0,reflectToAttribute:!0,computed:"_maxFilesAdded(maxFiles, files.length)"},accept:{type:String,value:""},maxFileSize:{type:Number,value:1/0},_dragoverValid:{type:Boolean,value:!1,observer:"_dragoverValidChanged"},formDataName:{type:String,value:"file"},noAuto:{type:Boolean,value:!1},withCredentials:{type:Boolean,value:!1},capture:String,i18n:{type:Object,value(){return{dropFiles:{one:"Drop file here",many:"Drop files here"},addFiles:{one:"Upload File...",many:"Upload Files..."},error:{tooManyFiles:"Too Many Files.",fileIsTooBig:"File is Too Big.",incorrectFileType:"Incorrect File Type."},uploading:{status:{connecting:"Connecting...",stalled:"Stalled",processing:"Processing File...",held:"Queued"},remainingTime:{prefix:"remaining time: ",unknown:"unknown remaining time"},error:{serverUnavailable:"Upload failed, please try again later",unexpectedServerError:"Upload failed due to server error",forbidden:"Upload forbidden"}},file:{retry:"Retry",start:"Start",remove:"Remove"},units:{size:["B","kB","MB","GB","TB","PB","EB","ZB","YB"]}}}}}}ready(){super.ready(),this.addEventListener("dragover",this._onDragover.bind(this)),this.addEventListener("dragleave",this._onDragleave.bind(this)),this.addEventListener("drop",this._onDrop.bind(this)),this.addEventListener("file-retry",this._onFileRetry.bind(this)),this.addEventListener("file-abort",this._onFileAbort.bind(this)),this.addEventListener("file-remove",this._onFileRemove.bind(this)),this.addEventListener("file-start",this._onFileStart.bind(this)),this.addEventListener("file-reject",this._onFileReject.bind(this)),this.addEventListener("upload-start",this._onUploadStart.bind(this)),this.addEventListener("upload-success",this._onUploadSuccess.bind(this)),this.addEventListener("upload-error",this._onUploadError.bind(this))}_formatSize(t){if(typeof this.i18n.formatSize=="function")return this.i18n.formatSize(t);const e=this.i18n.units.sizeBase||1e3,i=~~(Math.log(t)/Math.log(e)),n=Math.max(0,Math.min(3,i-1));return`${parseFloat((t/e**i).toFixed(n))} ${this.i18n.units.size[i]}`}_splitTimeByUnits(t){const e=[60,60,24,1/0],i=[0];for(let n=0;n<e.length&&t>0;n++)i[n]=t%e[n],t=Math.floor(t/e[n]);return i}_formatTime(t,e){if(typeof this.i18n.formatTime=="function")return this.i18n.formatTime(t,e);for(;e.length<3;)e.push(0);return e.reverse().map(i=>(i<10?"0":"")+i).join(":")}_formatFileProgress(t){const e=t.loaded>0?this.i18n.uploading.remainingTime.prefix+t.remainingStr:this.i18n.uploading.remainingTime.unknown;return`${t.totalStr}: ${t.progress}% (${e})`}_maxFilesAdded(t,e){return t>=0&&e>=t}_onDragover(t){t.preventDefault(),!this.nodrop&&!this._dragover&&(this._dragoverValid=!this.maxFilesReached,this._dragover=!0),t.dataTransfer.dropEffect=!this._dragoverValid||this.nodrop?"none":"copy"}_onDragleave(t){t.preventDefault(),this._dragover&&!this.nodrop&&(this._dragover=this._dragoverValid=!1)}_onDrop(t){this.nodrop||(t.preventDefault(),this._dragover=this._dragoverValid=!1,this._addFiles(t.dataTransfer.files))}_createXhr(){return new XMLHttpRequest}_configureXhr(t){if(typeof this.headers=="string")try{this.headers=JSON.parse(this.headers)}catch{this.headers=void 0}Object.entries(this.headers).forEach(([e,i])=>{t.setRequestHeader(e,i)}),this.timeout&&(t.timeout=this.timeout),t.withCredentials=this.withCredentials}_setStatus(t,e,i,n){t.elapsed=n,t.elapsedStr=this._formatTime(t.elapsed,this._splitTimeByUnits(t.elapsed)),t.remaining=Math.ceil(n*(e/i-1)),t.remainingStr=this._formatTime(t.remaining,this._splitTimeByUnits(t.remaining)),t.speed=~~(e/n/1024),t.totalStr=this._formatSize(e),t.loadedStr=this._formatSize(i),t.status=this._formatFileProgress(t)}uploadFiles(t){t&&!Array.isArray(t)&&(t=[t]),t=t||this.files,t=t.filter(e=>!e.complete),Array.prototype.forEach.call(t,this._uploadFile.bind(this))}_uploadFile(t){if(t.uploading)return;const e=Date.now(),i=t.xhr=this._createXhr();let n,s;i.upload.onprogress=h=>{clearTimeout(n),s=Date.now();const u=(s-e)/1e3,c=h.loaded,d=h.total,f=~~(c/d*100);t.loaded=c,t.progress=f,t.indeterminate=c<=0||c>=d,t.error?t.indeterminate=t.status=void 0:t.abort||(f<100?(this._setStatus(t,d,c,u),n=setTimeout(()=>{t.status=this.i18n.uploading.status.stalled,this._notifyFileChanges(t)},2e3)):(t.loadedStr=t.totalStr,t.status=this.i18n.uploading.status.processing)),this._notifyFileChanges(t),this.dispatchEvent(new CustomEvent("upload-progress",{detail:{file:t,xhr:i}}))},i.onreadystatechange=()=>{if(i.readyState===4){if(clearTimeout(n),t.indeterminate=t.uploading=!1,t.abort){this._notifyFileChanges(t);return}if(t.status="",!this.dispatchEvent(new CustomEvent("upload-response",{detail:{file:t,xhr:i},cancelable:!0})))return;i.status===0?t.error=this.i18n.uploading.error.serverUnavailable:i.status>=500?t.error=this.i18n.uploading.error.unexpectedServerError:i.status>=400&&(t.error=this.i18n.uploading.error.forbidden),t.complete=!t.error,this.dispatchEvent(new CustomEvent(`upload-${t.error?"error":"success"}`,{detail:{file:t,xhr:i}})),this._notifyFileChanges(t)}};const o=new FormData;if(t.uploadTarget=t.uploadTarget||this.target||"",t.formDataName=this.formDataName,!this.dispatchEvent(new CustomEvent("upload-before",{detail:{file:t,xhr:i},cancelable:!0})))return;o.append(t.formDataName,t,t.name),i.open(this.method,t.uploadTarget,!0),this._configureXhr(i),t.status=this.i18n.uploading.status.connecting,t.uploading=t.indeterminate=!0,t.complete=t.abort=t.error=t.held=!1,i.upload.onloadstart=()=>{this.dispatchEvent(new CustomEvent("upload-start",{detail:{file:t,xhr:i}})),this._notifyFileChanges(t)},this.dispatchEvent(new CustomEvent("upload-request",{detail:{file:t,xhr:i,formData:o},cancelable:!0}))&&i.send(o)}_retryFileUpload(t){this.dispatchEvent(new CustomEvent("upload-retry",{detail:{file:t,xhr:t.xhr},cancelable:!0}))&&this._uploadFile(t)}_abortFileUpload(t){this.dispatchEvent(new CustomEvent("upload-abort",{detail:{file:t,xhr:t.xhr},cancelable:!0}))&&(t.abort=!0,t.xhr&&t.xhr.abort(),this._notifyFileChanges(t))}_notifyFileChanges(t){const e=`files.${this.files.indexOf(t)}.`;Object.keys(t).forEach(i=>{this.notifyPath(e+i,t[i])})}_addFiles(t){Array.prototype.forEach.call(t,this._addFile.bind(this))}_addFile(t){if(this.maxFilesReached){this.dispatchEvent(new CustomEvent("file-reject",{detail:{file:t,error:this.i18n.error.tooManyFiles}}));return}if(this.maxFileSize>=0&&t.size>this.maxFileSize){this.dispatchEvent(new CustomEvent("file-reject",{detail:{file:t,error:this.i18n.error.fileIsTooBig}}));return}const e=t.name.match(/\.[^.]*$|$/)[0],i=this.accept.replace(/[+.]/g,"\\$&"),n=new RegExp(`^(${i.replace(/[, ]+/g,"|").replace(/\/\*/g,"/.*")})$`,"i");if(this.accept&&!(n.test(t.type)||n.test(e))){this.dispatchEvent(new CustomEvent("file-reject",{detail:{file:t,error:this.i18n.error.incorrectFileType}}));return}t.loaded=0,t.held=!0,t.status=this.i18n.uploading.status.held,this.files=[t,...this.files],this.noAuto||this._uploadFile(t)}_removeFile(t){this.files.indexOf(t)>-1&&(this.files=this.files.filter(e=>e!==t))}_onAddFilesTouchEnd(t){t.preventDefault(),this._onAddFilesClick(t)}_onAddFilesClick(t){this.maxFilesReached||(t.stopPropagation(),this.$.fileInput.value="",this.$.fileInput.click())}_onFileInputChange(t){this._addFiles(t.target.files)}_onFileStart(t){this._uploadFile(t.detail.file)}_onFileRetry(t){this._retryFileUpload(t.detail.file)}_onFileAbort(t){this._abortFileUpload(t.detail.file)}_onFileRemove(t){this._removeFile(t.detail.file)}_onFileReject(t){Ht(`${t.detail.file.name}: ${t.detail.file.error}`,{mode:"alert"})}_onUploadStart(t){Ht(`${t.detail.file.name}: 0%`,{mode:"alert"})}_onUploadSuccess(t){Ht(`${t.detail.file.name}: 100%`,{mode:"alert"})}_onUploadError(t){Ht(`${t.detail.file.name}: ${t.detail.file.error}`,{mode:"alert"})}_dragoverChanged(t){t?this.setAttribute("dragover",t):this.removeAttribute("dragover")}_dragoverValidChanged(t){t?this.setAttribute("dragover-valid",t):this.removeAttribute("dragover-valid")}_i18nPlural(t,e){return t===1?e.one:e.many}_isMultiple(t){return t!==1}}customElements.define(sp.is,sp);/**
 * @license
 * Copyright (c) 2021 - 2022 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class op extends re(He(j(W))){static get template(){return H`
      <style>
        :host {
          display: block;
          height: 400px;
          overflow: auto;
          flex: auto;
          align-self: stretch;
        }

        :host([hidden]) {
          display: none !important;
        }

        :host(:not([grid])) #items > ::slotted(*) {
          width: 100%;
        }
      </style>

      <div id="items">
        <slot></slot>
      </div>
    `}static get is(){return"vaadin-virtual-list"}static get properties(){return{items:{type:Array},renderer:Function,__virtualizer:Object}}static get observers(){return["__itemsOrRendererChanged(items, renderer, __virtualizer)"]}ready(){super.ready(),this.__virtualizer=new tc({createElements:this.__createElements,updateElement:this.__updateElement.bind(this),elementsContainer:this,scrollTarget:this,scrollContainer:this.shadowRoot.querySelector("#items")}),this.__overflowController=new pc(this),this.addController(this.__overflowController),Ii(this)}scrollToIndex(t){this.__virtualizer.scrollToIndex(t)}__createElements(t){return[...Array(t)].map(()=>document.createElement("div"))}__updateElement(t,e){t.__renderer!==this.renderer&&(t.__renderer=this.renderer,this.__clearRenderTargetContent(t)),this.renderer&&this.renderer(t,this,{item:this.items[e],index:e})}__clearRenderTargetContent(t){t.innerHTML="",delete t._$litPart$}__itemsOrRendererChanged(t,e,i){const n=this.childElementCount>0;(e||n)&&i&&(i.size=(t||[]).length,i.update())}get firstVisibleIndex(){return this.__virtualizer.firstVisibleIndex}get lastVisibleIndex(){return this.__virtualizer.lastVisibleIndex}requestContentUpdate(){this.__virtualizer&&this.__virtualizer.update()}}customElements.define(op.is,op);(function(){const r=function(t){return window.Vaadin.Flow.tryCatchWrapper(t,"Vaadin Combo Box")};window.Vaadin.Flow.comboBoxConnector={initLazy:t=>r(function(e){if(e.$connector)return;e.$connector={};const i={};let n={},s="";const o=new window.Vaadin.ComboBoxPlaceholder,a=(()=>{let c="",d=!1;return{needsDataCommunicatorReset:()=>d=!0,getLastFilterSentToServer:()=>c,requestData:(m,g,y)=>{const b=g-m,C=y.filter;e.$server.setRequestedRange(m,b,C),c=C,d&&(e.$server.resetDataCommunicator(),d=!1)}}})(),l=(c=Object.keys(i))=>{c.forEach(d=>{i[d]([],e.size),delete i[d];const f=parseInt(d)*e.pageSize,p=f+e.pageSize,_=Math.min(p,e.filteredItems.length);for(let m=f;m<_;m++)e.filteredItems[m]=o})};e.dataProvider=function(c,d){if(c.pageSize!=e.pageSize)throw"Invalid pageSize";if(e._clientSideFilter)if(n[0]){u(n[0],c.filter,d);return}else c.filter="";if(c.filter!==s){n={},s=c.filter,this._filterDebouncer=Pt.debounce(this._filterDebouncer,kt.after(500),()=>{if(a.getLastFilterSentToServer()===c.filter&&a.needsDataCommunicatorReset(),c.filter!==s)throw new Error("Expected params.filter to be '"+s+"' but was '"+c.filter+"'");this._filterDebouncer=void 0,l(),e.dataProvider(c,d)});return}if(this._filterDebouncer){i[c.page]=d;return}if(n[c.page])h(c.page,d);else{i[c.page]=d;const p=Math.max(c.pageSize*2,500),_=Object.keys(i).map(y=>parseInt(y)),m=Math.min(..._),g=Math.max(..._);if(_.length*c.pageSize>p)c.page===m?l([String(g)]):l([String(m)]),e.dataProvider(c,d);else if(g-m+1!==_.length)l();else{const y=c.pageSize*m,b=c.pageSize*(g+1);a.requestData(y,b,c)}}},e.$connector.clear=r((c,d)=>{const f=Math.floor(c/e.pageSize),p=Math.ceil(d/e.pageSize);for(let _=f;_<f+p;_++)delete n[_]}),e.$connector.filter=r(function(c,d){return d=d?d.toString().toLowerCase():"",e._getItemLabel(c,e.itemLabelPath).toString().toLowerCase().indexOf(d)>-1}),e.$connector.set=r(function(c,d,f){if(f!=a.getLastFilterSentToServer())return;if(c%e.pageSize!=0)throw"Got new data to index "+c+" which is not aligned with the page size of "+e.pageSize;if(c===0&&d.length===0&&i[0]){n[0]=[];return}const p=c/e.pageSize,_=Math.ceil(d.length/e.pageSize);for(let m=0;m<_;m++){let g=p+m,y=d.slice(m*e.pageSize,(m+1)*e.pageSize);n[g]=y}}),e.$connector.updateData=r(function(c){const d=new Map(c.map(f=>[f.key,f]));e.filteredItems=e.filteredItems.map(f=>d.get(f.key)||f)}),e.$connector.updateSize=r(function(c){e._clientSideFilter||(e.size=c)}),e.$connector.reset=r(function(){l(),n={},e.clearCache()}),e.$connector.confirm=r(function(c,d){if(d!=a.getLastFilterSentToServer())return;let f=Object.getOwnPropertyNames(i);for(let p=0;p<f.length;p++){let _=f[p];n[_]&&h(_,i[_])}e.$server.confirmUpdate(c)});const h=r(function(c,d){let f=n[c];e._clientSideFilter?u(f,e.filter,d):(delete n[c],d(f,e.size))}),u=r(function(c,d,f){let p=c;d&&(p=c.filter(_=>e.$connector.filter(_,d))),f(p,p.length)});e.addEventListener("custom-value-set",r(c=>c.preventDefault()))})(t)}})();window.Vaadin.ComboBoxPlaceholder=qt;(function(){function r(e){const i=e._overlayElement;i&&(i.className=e.className)}const t=new MutationObserver(e=>{e.forEach(i=>{i.type==="attributes"&&i.attributeName==="class"&&r(i.target)})});window.Vaadin.Flow.confirmDialogConnector={initLazy:function(e){e.$connector||(e.$connector={},e.addEventListener("opened-changed",i=>{i.detail.value&&r(e)}),t.observe(e,{attributes:!0,attributeFilter:["class"]}),r(e))}}})();(function(){function r(o){return window.Vaadin.Flow.tryCatchWrapper(o,"Vaadin Context Menu")}function t(o,a){try{return window.Vaadin.Flow.clients[o].getByNodeId(a)}catch(l){console.error("Could not get node %s from app %s",a,o),console.error(l)}}function e(o,a){o.$connector||(o.$connector={generateItems:r(l=>{const h=i(a,l);o.items=h})})}function i(o,a){const l=t(o,a);if(!!l)return Array.from(l.children).map(h=>{const u={component:h,checked:h._checked,theme:h.__theme};return h.localName=="vaadin-context-menu-item"&&h._containerNodeId&&(u.children=i(o,h._containerNodeId)),h._item=u,u})}function n(o,a){o._item&&(o._item.checked=a)}function s(o,a){o._item&&(o._item.theme=a)}window.Vaadin.Flow.contextMenuConnector={initLazy(...o){return r(e)(...o)},generateItemsTree(...o){return r(i)(...o)},setChecked(...o){return r(n)(...o)},setTheme(...o){return r(s)(...o)}}})();(function(){function r(e){return window.Vaadin.Flow.tryCatchWrapper(e,"Vaadin Context Menu Target")}function t(e){e.$contextMenuTargetConnector||(e.$contextMenuTargetConnector={openOnHandler:r(function(i){i.preventDefault(),i.stopPropagation(),this.$contextMenuTargetConnector.openEvent=i;let n={};e.getContextMenuBeforeOpenDetail&&(n=e.getContextMenuBeforeOpenDetail(i)),e.dispatchEvent(new CustomEvent("vaadin-context-menu-before-open",{detail:n}))}),updateOpenOn:r(function(i){this.removeListener(),this.openOnEventType=i,customElements.whenDefined("vaadin-context-menu").then(r(()=>{Lo[i]?Ye(e,i,this.openOnHandler):e.addEventListener(i,this.openOnHandler)}))}),removeListener:r(function(){this.openOnEventType&&(Lo[this.openOnEventType]?qm(e,this.openOnEventType,this.openOnHandler):e.removeEventListener(this.openOnEventType,this.openOnHandler))}),openMenu:r(function(i){i.open(this.openEvent)}),removeConnector:r(function(){this.removeListener(),e.$contextMenuTargetConnector=void 0})})}window.Vaadin.Flow.contextMenuTargetConnector={init(...e){return r(t)(...e)}}})();(function(){function r(e){const i=e._getPopup();i&&(i.className=e.className)}const t=new MutationObserver(e=>{e.forEach(i=>{i.type==="attributes"&&i.attributeName==="class"&&r(i.target)})});window.Vaadin.Flow.cookieConsentConnector={initLazy:function(e){e.$connector||(e.$connector={},t.observe(e,{attributes:!0,attributeFilter:["class"]}),r(e))}}})();function Me(r,t){if(t.length<r)throw new TypeError(r+" argument"+(r>1?"s":"")+" required, but only "+t.length+" present")}function Ys(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ys=function(e){return typeof e}:Ys=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ys(r)}function Qx(r){return Me(1,arguments),r instanceof Date||Ys(r)==="object"&&Object.prototype.toString.call(r)==="[object Date]"}function js(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?js=function(e){return typeof e}:js=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},js(r)}function Ge(r){Me(1,arguments);var t=Object.prototype.toString.call(r);return r instanceof Date||js(r)==="object"&&t==="[object Date]"?new Date(r.getTime()):typeof r=="number"||t==="[object Number]"?new Date(r):((typeof r=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function wh(r){if(Me(1,arguments),!Qx(r)&&typeof r!="number")return!1;var t=Ge(r);return!isNaN(Number(t))}function tt(r){if(r===null||r===!0||r===!1)return NaN;var t=Number(r);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function Jx(r,t){Me(2,arguments);var e=Ge(r).getTime(),i=tt(t);return new Date(e+i)}function sg(r,t){Me(2,arguments);var e=tt(t);return Jx(r,-e)}var eC=864e5;function tC(r){Me(1,arguments);var t=Ge(r),e=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var i=t.getTime(),n=e-i;return Math.floor(n/eC)+1}function Lr(r){Me(1,arguments);var t=1,e=Ge(r),i=e.getUTCDay(),n=(i<t?7:0)+i-t;return e.setUTCDate(e.getUTCDate()-n),e.setUTCHours(0,0,0,0),e}function og(r){Me(1,arguments);var t=Ge(r),e=t.getUTCFullYear(),i=new Date(0);i.setUTCFullYear(e+1,0,4),i.setUTCHours(0,0,0,0);var n=Lr(i),s=new Date(0);s.setUTCFullYear(e,0,4),s.setUTCHours(0,0,0,0);var o=Lr(s);return t.getTime()>=n.getTime()?e+1:t.getTime()>=o.getTime()?e:e-1}function iC(r){Me(1,arguments);var t=og(r),e=new Date(0);e.setUTCFullYear(t,0,4),e.setUTCHours(0,0,0,0);var i=Lr(e);return i}var rC=6048e5;function ag(r){Me(1,arguments);var t=Ge(r),e=Lr(t).getTime()-iC(t).getTime();return Math.round(e/rC)+1}var nC={};function jr(){return nC}function qi(r,t){var e,i,n,s,o,a,l,h;Me(1,arguments);var u=jr(),c=tt((e=(i=(n=(s=t==null?void 0:t.weekStartsOn)!==null&&s!==void 0?s:t==null||(o=t.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&n!==void 0?n:u.weekStartsOn)!==null&&i!==void 0?i:(l=u.locale)===null||l===void 0||(h=l.options)===null||h===void 0?void 0:h.weekStartsOn)!==null&&e!==void 0?e:0);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var d=Ge(r),f=d.getUTCDay(),p=(f<c?7:0)+f-c;return d.setUTCDate(d.getUTCDate()-p),d.setUTCHours(0,0,0,0),d}function _c(r,t){var e,i,n,s,o,a,l,h;Me(1,arguments);var u=Ge(r),c=u.getUTCFullYear(),d=jr(),f=tt((e=(i=(n=(s=t==null?void 0:t.firstWeekContainsDate)!==null&&s!==void 0?s:t==null||(o=t.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&n!==void 0?n:d.firstWeekContainsDate)!==null&&i!==void 0?i:(l=d.locale)===null||l===void 0||(h=l.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&e!==void 0?e:1);if(!(f>=1&&f<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setUTCFullYear(c+1,0,f),p.setUTCHours(0,0,0,0);var _=qi(p,t),m=new Date(0);m.setUTCFullYear(c,0,f),m.setUTCHours(0,0,0,0);var g=qi(m,t);return u.getTime()>=_.getTime()?c+1:u.getTime()>=g.getTime()?c:c-1}function sC(r,t){var e,i,n,s,o,a,l,h;Me(1,arguments);var u=jr(),c=tt((e=(i=(n=(s=t==null?void 0:t.firstWeekContainsDate)!==null&&s!==void 0?s:t==null||(o=t.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&n!==void 0?n:u.firstWeekContainsDate)!==null&&i!==void 0?i:(l=u.locale)===null||l===void 0||(h=l.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&e!==void 0?e:1),d=_c(r,t),f=new Date(0);f.setUTCFullYear(d,0,c),f.setUTCHours(0,0,0,0);var p=qi(f,t);return p}var oC=6048e5;function lg(r,t){Me(1,arguments);var e=Ge(r),i=qi(e,t).getTime()-sC(e,t).getTime();return Math.round(i/oC)+1}function ce(r,t){for(var e=r<0?"-":"",i=Math.abs(r).toString();i.length<t;)i="0"+i;return e+i}var aC={y:function(t,e){var i=t.getUTCFullYear(),n=i>0?i:1-i;return ce(e==="yy"?n%100:n,e.length)},M:function(t,e){var i=t.getUTCMonth();return e==="M"?String(i+1):ce(i+1,2)},d:function(t,e){return ce(t.getUTCDate(),e.length)},a:function(t,e){var i=t.getUTCHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return i.toUpperCase();case"aaa":return i;case"aaaaa":return i[0];case"aaaa":default:return i==="am"?"a.m.":"p.m."}},h:function(t,e){return ce(t.getUTCHours()%12||12,e.length)},H:function(t,e){return ce(t.getUTCHours(),e.length)},m:function(t,e){return ce(t.getUTCMinutes(),e.length)},s:function(t,e){return ce(t.getUTCSeconds(),e.length)},S:function(t,e){var i=e.length,n=t.getUTCMilliseconds(),s=Math.floor(n*Math.pow(10,i-3));return ce(s,e.length)}};const ti=aC;var hr={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},lC={G:function(t,e,i){var n=t.getUTCFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return i.era(n,{width:"abbreviated"});case"GGGGG":return i.era(n,{width:"narrow"});case"GGGG":default:return i.era(n,{width:"wide"})}},y:function(t,e,i){if(e==="yo"){var n=t.getUTCFullYear(),s=n>0?n:1-n;return i.ordinalNumber(s,{unit:"year"})}return ti.y(t,e)},Y:function(t,e,i,n){var s=_c(t,n),o=s>0?s:1-s;if(e==="YY"){var a=o%100;return ce(a,2)}return e==="Yo"?i.ordinalNumber(o,{unit:"year"}):ce(o,e.length)},R:function(t,e){var i=og(t);return ce(i,e.length)},u:function(t,e){var i=t.getUTCFullYear();return ce(i,e.length)},Q:function(t,e,i){var n=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return ce(n,2);case"Qo":return i.ordinalNumber(n,{unit:"quarter"});case"QQQ":return i.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,i){var n=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return ce(n,2);case"qo":return i.ordinalNumber(n,{unit:"quarter"});case"qqq":return i.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return i.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,i){var n=t.getUTCMonth();switch(e){case"M":case"MM":return ti.M(t,e);case"Mo":return i.ordinalNumber(n+1,{unit:"month"});case"MMM":return i.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return i.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,i){var n=t.getUTCMonth();switch(e){case"L":return String(n+1);case"LL":return ce(n+1,2);case"Lo":return i.ordinalNumber(n+1,{unit:"month"});case"LLL":return i.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return i.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,i,n){var s=lg(t,n);return e==="wo"?i.ordinalNumber(s,{unit:"week"}):ce(s,e.length)},I:function(t,e,i){var n=ag(t);return e==="Io"?i.ordinalNumber(n,{unit:"week"}):ce(n,e.length)},d:function(t,e,i){return e==="do"?i.ordinalNumber(t.getUTCDate(),{unit:"date"}):ti.d(t,e)},D:function(t,e,i){var n=tC(t);return e==="Do"?i.ordinalNumber(n,{unit:"dayOfYear"}):ce(n,e.length)},E:function(t,e,i){var n=t.getUTCDay();switch(e){case"E":case"EE":case"EEE":return i.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return i.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(n,{width:"short",context:"formatting"});case"EEEE":default:return i.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,i,n){var s=t.getUTCDay(),o=(s-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return ce(o,2);case"eo":return i.ordinalNumber(o,{unit:"day"});case"eee":return i.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return i.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(s,{width:"short",context:"formatting"});case"eeee":default:return i.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,i,n){var s=t.getUTCDay(),o=(s-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return ce(o,e.length);case"co":return i.ordinalNumber(o,{unit:"day"});case"ccc":return i.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return i.day(s,{width:"narrow",context:"standalone"});case"cccccc":return i.day(s,{width:"short",context:"standalone"});case"cccc":default:return i.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,i){var n=t.getUTCDay(),s=n===0?7:n;switch(e){case"i":return String(s);case"ii":return ce(s,e.length);case"io":return i.ordinalNumber(s,{unit:"day"});case"iii":return i.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return i.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return i.day(n,{width:"short",context:"formatting"});case"iiii":default:return i.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,i){var n=t.getUTCHours(),s=n/12>=1?"pm":"am";switch(e){case"a":case"aa":return i.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return i.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return i.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,i){var n=t.getUTCHours(),s;switch(n===12?s=hr.noon:n===0?s=hr.midnight:s=n/12>=1?"pm":"am",e){case"b":case"bb":return i.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return i.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return i.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,i){var n=t.getUTCHours(),s;switch(n>=17?s=hr.evening:n>=12?s=hr.afternoon:n>=4?s=hr.morning:s=hr.night,e){case"B":case"BB":case"BBB":return i.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return i.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,i){if(e==="ho"){var n=t.getUTCHours()%12;return n===0&&(n=12),i.ordinalNumber(n,{unit:"hour"})}return ti.h(t,e)},H:function(t,e,i){return e==="Ho"?i.ordinalNumber(t.getUTCHours(),{unit:"hour"}):ti.H(t,e)},K:function(t,e,i){var n=t.getUTCHours()%12;return e==="Ko"?i.ordinalNumber(n,{unit:"hour"}):ce(n,e.length)},k:function(t,e,i){var n=t.getUTCHours();return n===0&&(n=24),e==="ko"?i.ordinalNumber(n,{unit:"hour"}):ce(n,e.length)},m:function(t,e,i){return e==="mo"?i.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):ti.m(t,e)},s:function(t,e,i){return e==="so"?i.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):ti.s(t,e)},S:function(t,e){return ti.S(t,e)},X:function(t,e,i,n){var s=n._originalDate||t,o=s.getTimezoneOffset();if(o===0)return"Z";switch(e){case"X":return lp(o);case"XXXX":case"XX":return Li(o);case"XXXXX":case"XXX":default:return Li(o,":")}},x:function(t,e,i,n){var s=n._originalDate||t,o=s.getTimezoneOffset();switch(e){case"x":return lp(o);case"xxxx":case"xx":return Li(o);case"xxxxx":case"xxx":default:return Li(o,":")}},O:function(t,e,i,n){var s=n._originalDate||t,o=s.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+ap(o,":");case"OOOO":default:return"GMT"+Li(o,":")}},z:function(t,e,i,n){var s=n._originalDate||t,o=s.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+ap(o,":");case"zzzz":default:return"GMT"+Li(o,":")}},t:function(t,e,i,n){var s=n._originalDate||t,o=Math.floor(s.getTime()/1e3);return ce(o,e.length)},T:function(t,e,i,n){var s=n._originalDate||t,o=s.getTime();return ce(o,e.length)}};function ap(r,t){var e=r>0?"-":"+",i=Math.abs(r),n=Math.floor(i/60),s=i%60;if(s===0)return e+String(n);var o=t||"";return e+String(n)+o+ce(s,2)}function lp(r,t){if(r%60===0){var e=r>0?"-":"+";return e+ce(Math.abs(r)/60,2)}return Li(r,t)}function Li(r,t){var e=t||"",i=r>0?"-":"+",n=Math.abs(r),s=ce(Math.floor(n/60),2),o=ce(n%60,2);return i+s+e+o}const hC=lC;var hp=function(t,e){switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},hg=function(t,e){switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},uC=function(t,e){var i=t.match(/(P+)(p+)?/)||[],n=i[1],s=i[2];if(!s)return hp(t,e);var o;switch(n){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",hp(n,e)).replace("{{time}}",hg(s,e))},cC={p:hg,P:uC};const xh=cC;function ug(r){var t=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return t.setUTCFullYear(r.getFullYear()),r.getTime()-t.getTime()}var dC=["D","DD"],fC=["YY","YYYY"];function cg(r){return dC.indexOf(r)!==-1}function dg(r){return fC.indexOf(r)!==-1}function Zo(r,t,e){if(r==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(r==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(r==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(r==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var pC={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},_C=function(t,e,i){var n,s=pC[t];return typeof s=="string"?n=s:e===1?n=s.one:n=s.other.replace("{{count}}",e.toString()),i!=null&&i.addSuffix?i.comparison&&i.comparison>0?"in "+n:n+" ago":n};const mC=_C;function Ll(r){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.width?String(t.width):r.defaultWidth,i=r.formats[e]||r.formats[r.defaultWidth];return i}}var vC={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},gC={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},yC={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},bC={date:Ll({formats:vC,defaultWidth:"full"}),time:Ll({formats:gC,defaultWidth:"full"}),dateTime:Ll({formats:yC,defaultWidth:"full"})};const wC=bC;var xC={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},CC=function(t,e,i,n){return xC[t]};const AC=CC;function dn(r){return function(t,e){var i=e!=null&&e.context?String(e.context):"standalone",n;if(i==="formatting"&&r.formattingValues){var s=r.defaultFormattingWidth||r.defaultWidth,o=e!=null&&e.width?String(e.width):s;n=r.formattingValues[o]||r.formattingValues[s]}else{var a=r.defaultWidth,l=e!=null&&e.width?String(e.width):r.defaultWidth;n=r.values[l]||r.values[a]}var h=r.argumentCallback?r.argumentCallback(t):t;return n[h]}}var EC={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},IC={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},SC={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},TC={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},OC={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},MC={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},RC=function(t,e){var i=Number(t),n=i%100;if(n>20||n<10)switch(n%10){case 1:return i+"st";case 2:return i+"nd";case 3:return i+"rd"}return i+"th"},PC={ordinalNumber:RC,era:dn({values:EC,defaultWidth:"wide"}),quarter:dn({values:IC,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:dn({values:SC,defaultWidth:"wide"}),day:dn({values:TC,defaultWidth:"wide"}),dayPeriod:dn({values:OC,defaultWidth:"wide",formattingValues:MC,defaultFormattingWidth:"wide"})};const kC=PC;function fn(r){return function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=e.width,n=i&&r.matchPatterns[i]||r.matchPatterns[r.defaultMatchWidth],s=t.match(n);if(!s)return null;var o=s[0],a=i&&r.parsePatterns[i]||r.parsePatterns[r.defaultParseWidth],l=Array.isArray(a)?LC(a,function(c){return c.test(o)}):DC(a,function(c){return c.test(o)}),h;h=r.valueCallback?r.valueCallback(l):l,h=e.valueCallback?e.valueCallback(h):h;var u=t.slice(o.length);return{value:h,rest:u}}}function DC(r,t){for(var e in r)if(r.hasOwnProperty(e)&&t(r[e]))return e}function LC(r,t){for(var e=0;e<r.length;e++)if(t(r[e]))return e}function FC(r){return function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=t.match(r.matchPattern);if(!i)return null;var n=i[0],s=t.match(r.parsePattern);if(!s)return null;var o=r.valueCallback?r.valueCallback(s[0]):s[0];o=e.valueCallback?e.valueCallback(o):o;var a=t.slice(n.length);return{value:o,rest:a}}}var $C=/^(\d+)(th|st|nd|rd)?/i,NC=/\d+/i,zC={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},BC={any:[/^b/i,/^(a|c)/i]},VC={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},GC={any:[/1/i,/2/i,/3/i,/4/i]},HC={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},UC={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},WC={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},YC={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},jC={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},qC={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},XC={ordinalNumber:FC({matchPattern:$C,parsePattern:NC,valueCallback:function(t){return parseInt(t,10)}}),era:fn({matchPatterns:zC,defaultMatchWidth:"wide",parsePatterns:BC,defaultParseWidth:"any"}),quarter:fn({matchPatterns:VC,defaultMatchWidth:"wide",parsePatterns:GC,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:fn({matchPatterns:HC,defaultMatchWidth:"wide",parsePatterns:UC,defaultParseWidth:"any"}),day:fn({matchPatterns:WC,defaultMatchWidth:"wide",parsePatterns:YC,defaultParseWidth:"any"}),dayPeriod:fn({matchPatterns:jC,defaultMatchWidth:"any",parsePatterns:qC,defaultParseWidth:"any"})};const KC=XC;var ZC={code:"en-US",formatDistance:mC,formatLong:wC,formatRelative:AC,localize:kC,match:KC,options:{weekStartsOn:0,firstWeekContainsDate:1}};const fg=ZC;var QC=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,JC=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,eA=/^'([^]*?)'?$/,tA=/''/g,iA=/[a-zA-Z]/;function rA(r,t,e){var i,n,s,o,a,l,h,u,c,d,f,p,_,m,g,y,b,C;Me(2,arguments);var E=String(t),I=jr(),M=(i=(n=e==null?void 0:e.locale)!==null&&n!==void 0?n:I.locale)!==null&&i!==void 0?i:fg,T=tt((s=(o=(a=(l=e==null?void 0:e.firstWeekContainsDate)!==null&&l!==void 0?l:e==null||(h=e.locale)===null||h===void 0||(u=h.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&a!==void 0?a:I.firstWeekContainsDate)!==null&&o!==void 0?o:(c=I.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(T>=1&&T<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var D=tt((f=(p=(_=(m=e==null?void 0:e.weekStartsOn)!==null&&m!==void 0?m:e==null||(g=e.locale)===null||g===void 0||(y=g.options)===null||y===void 0?void 0:y.weekStartsOn)!==null&&_!==void 0?_:I.weekStartsOn)!==null&&p!==void 0?p:(b=I.locale)===null||b===void 0||(C=b.options)===null||C===void 0?void 0:C.weekStartsOn)!==null&&f!==void 0?f:0);if(!(D>=0&&D<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!M.localize)throw new RangeError("locale must contain localize property");if(!M.formatLong)throw new RangeError("locale must contain formatLong property");var L=Ge(r);if(!wh(L))throw new RangeError("Invalid time value");var z=ug(L),U=sg(L,z),V={firstWeekContainsDate:T,weekStartsOn:D,locale:M,_originalDate:L},q=E.match(JC).map(function(B){var v=B[0];if(v==="p"||v==="P"){var w=xh[v];return w(B,M.formatLong)}return B}).join("").match(QC).map(function(B){if(B==="''")return"'";var v=B[0];if(v==="'")return nA(B);var w=hC[v];if(w)return!(e!=null&&e.useAdditionalWeekYearTokens)&&dg(B)&&Zo(B,t,String(r)),!(e!=null&&e.useAdditionalDayOfYearTokens)&&cg(B)&&Zo(B,t,String(r)),w(U,B,M.localize,V);if(v.match(iA))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return B}).join("");return q}function nA(r){var t=r.match(eA);return t?t[1].replace(tA,"'"):r}function sA(r,t){if(r==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(r[e]=t[e]);return r}function qs(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?qs=function(e){return typeof e}:qs=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qs(r)}function pg(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),t&&Ch(r,t)}function Ch(r,t){return Ch=Object.setPrototypeOf||function(i,n){return i.__proto__=n,i},Ch(r,t)}function _g(r){var t=aA();return function(){var i=Qo(r),n;if(t){var s=Qo(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return oA(this,n)}}function oA(r,t){return t&&(qs(t)==="object"||typeof t=="function")?t:Ah(r)}function Ah(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function aA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Qo(r){return Qo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Qo(r)}function mc(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function up(r,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,i.key,i)}}function vc(r,t,e){return t&&up(r.prototype,t),e&&up(r,e),r}function Eh(r,t,e){return t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}var lA=10,mg=function(){function r(){mc(this,r),Eh(this,"subPriority",0)}return vc(r,[{key:"validate",value:function(e,i){return!0}}]),r}(),hA=function(r){pg(e,r);var t=_g(e);function e(i,n,s,o,a){var l;return mc(this,e),l=t.call(this),l.value=i,l.validateValue=n,l.setValue=s,l.priority=o,a&&(l.subPriority=a),l}return vc(e,[{key:"validate",value:function(n,s){return this.validateValue(n,this.value,s)}},{key:"set",value:function(n,s,o){return this.setValue(n,s,this.value,o)}}]),e}(mg),uA=function(r){pg(e,r);var t=_g(e);function e(){var i;mc(this,e);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),Eh(Ah(i),"priority",lA),Eh(Ah(i),"subPriority",-1),i}return vc(e,[{key:"set",value:function(n,s){if(s.timestampIsSet)return n;var o=new Date(0);return o.setFullYear(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()),o.setHours(n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.getUTCMilliseconds()),o}}]),e}(mg);function cA(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function cp(r,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,i.key,i)}}function dA(r,t,e){return t&&cp(r.prototype,t),e&&cp(r,e),r}var ae=function(){function r(){cA(this,r)}return dA(r,[{key:"run",value:function(e,i,n,s){var o=this.parse(e,i,n,s);return o?{setter:new hA(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}},{key:"validate",value:function(e,i,n){return!0}}]),r}();function Xs(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Xs=function(e){return typeof e}:Xs=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xs(r)}function fA(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function dp(r,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,i.key,i)}}function pA(r,t,e){return t&&dp(r.prototype,t),e&&dp(r,e),r}function _A(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),t&&Ih(r,t)}function Ih(r,t){return Ih=Object.setPrototypeOf||function(i,n){return i.__proto__=n,i},Ih(r,t)}function mA(r){var t=gA();return function(){var i=Jo(r),n;if(t){var s=Jo(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return vA(this,n)}}function vA(r,t){return t&&(Xs(t)==="object"||typeof t=="function")?t:Sh(r)}function Sh(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function gA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Jo(r){return Jo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Jo(r)}function fp(r,t,e){return t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}var yA=function(r){_A(e,r);var t=mA(e);function e(){var i;fA(this,e);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),fp(Sh(i),"priority",140),fp(Sh(i),"incompatibleTokens",["R","u","t","T"]),i}return pA(e,[{key:"parse",value:function(n,s,o){switch(s){case"G":case"GG":case"GGG":return o.era(n,{width:"abbreviated"})||o.era(n,{width:"narrow"});case"GGGGG":return o.era(n,{width:"narrow"});case"GGGG":default:return o.era(n,{width:"wide"})||o.era(n,{width:"abbreviated"})||o.era(n,{width:"narrow"})}}},{key:"set",value:function(n,s,o){return s.era=o,n.setUTCFullYear(o,0,1),n.setUTCHours(0,0,0,0),n}}]),e}(ae),bA=6e4,wA=36e5,xA=1e3,Ie={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},St={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Se(r,t){return r&&{value:t(r.value),rest:r.rest}}function xe(r,t){var e=t.match(r);return e?{value:parseInt(e[0],10),rest:t.slice(e[0].length)}:null}function Tt(r,t){var e=t.match(r);if(!e)return null;if(e[0]==="Z")return{value:0,rest:t.slice(1)};var i=e[1]==="+"?1:-1,n=e[2]?parseInt(e[2],10):0,s=e[3]?parseInt(e[3],10):0,o=e[5]?parseInt(e[5],10):0;return{value:i*(n*wA+s*bA+o*xA),rest:t.slice(e[0].length)}}function vg(r){return xe(Ie.anyDigitsSigned,r)}function Ae(r,t){switch(r){case 1:return xe(Ie.singleDigit,t);case 2:return xe(Ie.twoDigits,t);case 3:return xe(Ie.threeDigits,t);case 4:return xe(Ie.fourDigits,t);default:return xe(new RegExp("^\\d{1,"+r+"}"),t)}}function ea(r,t){switch(r){case 1:return xe(Ie.singleDigitSigned,t);case 2:return xe(Ie.twoDigitsSigned,t);case 3:return xe(Ie.threeDigitsSigned,t);case 4:return xe(Ie.fourDigitsSigned,t);default:return xe(new RegExp("^-?\\d{1,"+r+"}"),t)}}function gc(r){switch(r){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function gg(r,t){var e=t>0,i=e?t:1-t,n;if(i<=50)n=r||100;else{var s=i+50,o=Math.floor(s/100)*100,a=r>=s%100;n=r+o-(a?100:0)}return e?n:1-n}function yg(r){return r%400===0||r%4===0&&r%100!==0}function Ks(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ks=function(e){return typeof e}:Ks=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ks(r)}function CA(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function pp(r,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,i.key,i)}}function AA(r,t,e){return t&&pp(r.prototype,t),e&&pp(r,e),r}function EA(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),t&&Th(r,t)}function Th(r,t){return Th=Object.setPrototypeOf||function(i,n){return i.__proto__=n,i},Th(r,t)}function IA(r){var t=TA();return function(){var i=ta(r),n;if(t){var s=ta(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return SA(this,n)}}function SA(r,t){return t&&(Ks(t)==="object"||typeof t=="function")?t:Oh(r)}function Oh(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function TA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ta(r){return ta=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ta(r)}function _p(r,t,e){return t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}var OA=function(r){EA(e,r);var t=IA(e);function e(){var i;CA(this,e);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),_p(Oh(i),"priority",130),_p(Oh(i),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),i}return AA(e,[{key:"parse",value:function(n,s,o){var a=function(h){return{year:h,isTwoDigitYear:s==="yy"}};switch(s){case"y":return Se(Ae(4,n),a);case"yo":return Se(o.ordinalNumber(n,{unit:"year"}),a);default:return Se(Ae(s.length,n),a)}}},{key:"validate",value:function(n,s){return s.isTwoDigitYear||s.year>0}},{key:"set",value:function(n,s,o){var a=n.getUTCFullYear();if(o.isTwoDigitYear){var l=gg(o.year,a);return n.setUTCFullYear(l,0,1),n.setUTCHours(0,0,0,0),n}var h=!("era"in s)||s.era===1?o.year:1-o.year;return n.setUTCFullYear(h,0,1),n.setUTCHours(0,0,0,0),n}}]),e}(ae);function Zs(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Zs=function(e){return typeof e}:Zs=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zs(r)}function MA(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function mp(r,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,i.key,i)}}function RA(r,t,e){return t&&mp(r.prototype,t),e&&mp(r,e),r}function PA(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),t&&Mh(r,t)}function Mh(r,t){return Mh=Object.setPrototypeOf||function(i,n){return i.__proto__=n,i},Mh(r,t)}function kA(r){var t=LA();return function(){var i=ia(r),n;if(t){var s=ia(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return DA(this,n)}}function DA(r,t){return t&&(Zs(t)==="object"||typeof t=="function")?t:Rh(r)}function Rh(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function LA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ia(r){return ia=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ia(r)}function vp(r,t,e){return t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}var FA=function(r){PA(e,r);var t=kA(e);function e(){var i;MA(this,e);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),vp(Rh(i),"priority",130),vp(Rh(i),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),i}return RA(e,[{key:"parse",value:function(n,s,o){var a=function(h){return{year:h,isTwoDigitYear:s==="YY"}};switch(s){case"Y":return Se(Ae(4,n),a);case"Yo":return Se(o.ordinalNumber(n,{unit:"year"}),a);default:return Se(Ae(s.length,n),a)}}},{key:"validate",value:function(n,s){return s.isTwoDigitYear||s.year>0}},{key:"set",value:function(n,s,o,a){var l=_c(n,a);if(o.isTwoDigitYear){var h=gg(o.year,l);return n.setUTCFullYear(h,0,a.firstWeekContainsDate),n.setUTCHours(0,0,0,0),qi(n,a)}var u=!("era"in s)||s.era===1?o.year:1-o.year;return n.setUTCFullYear(u,0,a.firstWeekContainsDate),n.setUTCHours(0,0,0,0),qi(n,a)}}]),e}(ae);function Qs(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Qs=function(e){return typeof e}:Qs=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qs(r)}function $A(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function gp(r,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,i.key,i)}}function NA(r,t,e){return t&&gp(r.prototype,t),e&&gp(r,e),r}function zA(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),t&&Ph(r,t)}function Ph(r,t){return Ph=Object.setPrototypeOf||function(i,n){return i.__proto__=n,i},Ph(r,t)}function BA(r){var t=GA();return function(){var i=ra(r),n;if(t){var s=ra(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return VA(this,n)}}function VA(r,t){return t&&(Qs(t)==="object"||typeof t=="function")?t:kh(r)}function kh(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function GA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ra(r){return ra=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ra(r)}function yp(r,t,e){return t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}var HA=function(r){zA(e,r);var t=BA(e);function e(){var i;$A(this,e);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),yp(kh(i),"priority",130),yp(kh(i),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),i}return NA(e,[{key:"parse",value:function(n,s){return ea(s==="R"?4:s.length,n)}},{key:"set",value:function(n,s,o){var a=new Date(0);return a.setUTCFullYear(o,0,4),a.setUTCHours(0,0,0,0),Lr(a)}}]),e}(ae);function Js(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Js=function(e){return typeof e}:Js=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Js(r)}function UA(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function bp(r,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,i.key,i)}}function WA(r,t,e){return t&&bp(r.prototype,t),e&&bp(r,e),r}function YA(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),t&&Dh(r,t)}function Dh(r,t){return Dh=Object.setPrototypeOf||function(i,n){return i.__proto__=n,i},Dh(r,t)}function jA(r){var t=XA();return function(){var i=na(r),n;if(t){var s=na(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return qA(this,n)}}function qA(r,t){return t&&(Js(t)==="object"||typeof t=="function")?t:Lh(r)}function Lh(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function XA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function na(r){return na=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},na(r)}function wp(r,t,e){return t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}var KA=function(r){YA(e,r);var t=jA(e);function e(){var i;UA(this,e);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),wp(Lh(i),"priority",130),wp(Lh(i),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),i}return WA(e,[{key:"parse",value:function(n,s){return ea(s==="u"?4:s.length,n)}},{key:"set",value:function(n,s,o){return n.setUTCFullYear(o,0,1),n.setUTCHours(0,0,0,0),n}}]),e}(ae);function eo(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?eo=function(e){return typeof e}:eo=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eo(r)}function ZA(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function xp(r,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,i.key,i)}}function QA(r,t,e){return t&&xp(r.prototype,t),e&&xp(r,e),r}function JA(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),t&&Fh(r,t)}function Fh(r,t){return Fh=Object.setPrototypeOf||function(i,n){return i.__proto__=n,i},Fh(r,t)}function e1(r){var t=i1();return function(){var i=sa(r),n;if(t){var s=sa(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return t1(this,n)}}function t1(r,t){return t&&(eo(t)==="object"||typeof t=="function")?t:$h(r)}function $h(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function i1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function sa(r){return sa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},sa(r)}function Cp(r,t,e){return t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}var r1=function(r){JA(e,r);var t=e1(e);function e(){var i;ZA(this,e);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),Cp($h(i),"priority",120),Cp($h(i),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),i}return QA(e,[{key:"parse",value:function(n,s,o){switch(s){case"Q":case"QQ":return Ae(s.length,n);case"Qo":return o.ordinalNumber(n,{unit:"quarter"});case"QQQ":return o.quarter(n,{width:"abbreviated",context:"formatting"})||o.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return o.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return o.quarter(n,{width:"wide",context:"formatting"})||o.quarter(n,{width:"abbreviated",context:"formatting"})||o.quarter(n,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(n,s){return s>=1&&s<=4}},{key:"set",value:function(n,s,o){return n.setUTCMonth((o-1)*3,1),n.setUTCHours(0,0,0,0),n}}]),e}(ae);function to(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?to=function(e){return typeof e}:to=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},to(r)}function n1(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function Ap(r,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,i.key,i)}}function s1(r,t,e){return t&&Ap(r.prototype,t),e&&Ap(r,e),r}function o1(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),t&&Nh(r,t)}function Nh(r,t){return Nh=Object.setPrototypeOf||function(i,n){return i.__proto__=n,i},Nh(r,t)}function a1(r){var t=h1();return function(){var i=oa(r),n;if(t){var s=oa(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return l1(this,n)}}function l1(r,t){return t&&(to(t)==="object"||typeof t=="function")?t:zh(r)}function zh(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function h1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function oa(r){return oa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},oa(r)}function Ep(r,t,e){return t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}var u1=function(r){o1(e,r);var t=a1(e);function e(){var i;n1(this,e);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),Ep(zh(i),"priority",120),Ep(zh(i),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),i}return s1(e,[{key:"parse",value:function(n,s,o){switch(s){case"q":case"qq":return Ae(s.length,n);case"qo":return o.ordinalNumber(n,{unit:"quarter"});case"qqq":return o.quarter(n,{width:"abbreviated",context:"standalone"})||o.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return o.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return o.quarter(n,{width:"wide",context:"standalone"})||o.quarter(n,{width:"abbreviated",context:"standalone"})||o.quarter(n,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(n,s){return s>=1&&s<=4}},{key:"set",value:function(n,s,o){return n.setUTCMonth((o-1)*3,1),n.setUTCHours(0,0,0,0),n}}]),e}(ae);function io(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?io=function(e){return typeof e}:io=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},io(r)}function c1(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function Ip(r,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,i.key,i)}}function d1(r,t,e){return t&&Ip(r.prototype,t),e&&Ip(r,e),r}function f1(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),t&&Bh(r,t)}function Bh(r,t){return Bh=Object.setPrototypeOf||function(i,n){return i.__proto__=n,i},Bh(r,t)}function p1(r){var t=m1();return function(){var i=aa(r),n;if(t){var s=aa(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return _1(this,n)}}function _1(r,t){return t&&(io(t)==="object"||typeof t=="function")?t:Vh(r)}function Vh(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function m1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function aa(r){return aa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},aa(r)}function Sp(r,t,e){return t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}var v1=function(r){f1(e,r);var t=p1(e);function e(){var i;c1(this,e);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),Sp(Vh(i),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),Sp(Vh(i),"priority",110),i}return d1(e,[{key:"parse",value:function(n,s,o){var a=function(h){return h-1};switch(s){case"M":return Se(xe(Ie.month,n),a);case"MM":return Se(Ae(2,n),a);case"Mo":return Se(o.ordinalNumber(n,{unit:"month"}),a);case"MMM":return o.month(n,{width:"abbreviated",context:"formatting"})||o.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return o.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return o.month(n,{width:"wide",context:"formatting"})||o.month(n,{width:"abbreviated",context:"formatting"})||o.month(n,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(n,s){return s>=0&&s<=11}},{key:"set",value:function(n,s,o){return n.setUTCMonth(o,1),n.setUTCHours(0,0,0,0),n}}]),e}(ae);function ro(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ro=function(e){return typeof e}:ro=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ro(r)}function g1(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function Tp(r,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,i.key,i)}}function y1(r,t,e){return t&&Tp(r.prototype,t),e&&Tp(r,e),r}function b1(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),t&&Gh(r,t)}function Gh(r,t){return Gh=Object.setPrototypeOf||function(i,n){return i.__proto__=n,i},Gh(r,t)}function w1(r){var t=C1();return function(){var i=la(r),n;if(t){var s=la(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return x1(this,n)}}function x1(r,t){return t&&(ro(t)==="object"||typeof t=="function")?t:Hh(r)}function Hh(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function C1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function la(r){return la=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},la(r)}function Op(r,t,e){return t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}var A1=function(r){b1(e,r);var t=w1(e);function e(){var i;g1(this,e);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),Op(Hh(i),"priority",110),Op(Hh(i),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),i}return y1(e,[{key:"parse",value:function(n,s,o){var a=function(h){return h-1};switch(s){case"L":return Se(xe(Ie.month,n),a);case"LL":return Se(Ae(2,n),a);case"Lo":return Se(o.ordinalNumber(n,{unit:"month"}),a);case"LLL":return o.month(n,{width:"abbreviated",context:"standalone"})||o.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return o.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return o.month(n,{width:"wide",context:"standalone"})||o.month(n,{width:"abbreviated",context:"standalone"})||o.month(n,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(n,s){return s>=0&&s<=11}},{key:"set",value:function(n,s,o){return n.setUTCMonth(o,1),n.setUTCHours(0,0,0,0),n}}]),e}(ae);function E1(r,t,e){Me(2,arguments);var i=Ge(r),n=tt(t),s=lg(i,e)-n;return i.setUTCDate(i.getUTCDate()-s*7),i}function no(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?no=function(e){return typeof e}:no=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},no(r)}function I1(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function Mp(r,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,i.key,i)}}function S1(r,t,e){return t&&Mp(r.prototype,t),e&&Mp(r,e),r}function T1(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),t&&Uh(r,t)}function Uh(r,t){return Uh=Object.setPrototypeOf||function(i,n){return i.__proto__=n,i},Uh(r,t)}function O1(r){var t=R1();return function(){var i=ha(r),n;if(t){var s=ha(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return M1(this,n)}}function M1(r,t){return t&&(no(t)==="object"||typeof t=="function")?t:Wh(r)}function Wh(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function R1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ha(r){return ha=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ha(r)}function Rp(r,t,e){return t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}var P1=function(r){T1(e,r);var t=O1(e);function e(){var i;I1(this,e);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),Rp(Wh(i),"priority",100),Rp(Wh(i),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),i}return S1(e,[{key:"parse",value:function(n,s,o){switch(s){case"w":return xe(Ie.week,n);case"wo":return o.ordinalNumber(n,{unit:"week"});default:return Ae(s.length,n)}}},{key:"validate",value:function(n,s){return s>=1&&s<=53}},{key:"set",value:function(n,s,o,a){return qi(E1(n,o,a),a)}}]),e}(ae);function k1(r,t){Me(2,arguments);var e=Ge(r),i=tt(t),n=ag(e)-i;return e.setUTCDate(e.getUTCDate()-n*7),e}function so(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?so=function(e){return typeof e}:so=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},so(r)}function D1(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function Pp(r,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,i.key,i)}}function L1(r,t,e){return t&&Pp(r.prototype,t),e&&Pp(r,e),r}function F1(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),t&&Yh(r,t)}function Yh(r,t){return Yh=Object.setPrototypeOf||function(i,n){return i.__proto__=n,i},Yh(r,t)}function $1(r){var t=z1();return function(){var i=ua(r),n;if(t){var s=ua(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return N1(this,n)}}function N1(r,t){return t&&(so(t)==="object"||typeof t=="function")?t:jh(r)}function jh(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function z1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ua(r){return ua=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ua(r)}function kp(r,t,e){return t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}var B1=function(r){F1(e,r);var t=$1(e);function e(){var i;D1(this,e);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),kp(jh(i),"priority",100),kp(jh(i),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),i}return L1(e,[{key:"parse",value:function(n,s,o){switch(s){case"I":return xe(Ie.week,n);case"Io":return o.ordinalNumber(n,{unit:"week"});default:return Ae(s.length,n)}}},{key:"validate",value:function(n,s){return s>=1&&s<=53}},{key:"set",value:function(n,s,o){return Lr(k1(n,o))}}]),e}(ae);function oo(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?oo=function(e){return typeof e}:oo=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oo(r)}function V1(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function Dp(r,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,i.key,i)}}function G1(r,t,e){return t&&Dp(r.prototype,t),e&&Dp(r,e),r}function H1(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),t&&qh(r,t)}function qh(r,t){return qh=Object.setPrototypeOf||function(i,n){return i.__proto__=n,i},qh(r,t)}function U1(r){var t=Y1();return function(){var i=ca(r),n;if(t){var s=ca(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return W1(this,n)}}function W1(r,t){return t&&(oo(t)==="object"||typeof t=="function")?t:ao(r)}function ao(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function Y1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ca(r){return ca=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ca(r)}function Fl(r,t,e){return t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}var j1=[31,28,31,30,31,30,31,31,30,31,30,31],q1=[31,29,31,30,31,30,31,31,30,31,30,31],X1=function(r){H1(e,r);var t=U1(e);function e(){var i;V1(this,e);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),Fl(ao(i),"priority",90),Fl(ao(i),"subPriority",1),Fl(ao(i),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),i}return G1(e,[{key:"parse",value:function(n,s,o){switch(s){case"d":return xe(Ie.date,n);case"do":return o.ordinalNumber(n,{unit:"date"});default:return Ae(s.length,n)}}},{key:"validate",value:function(n,s){var o=n.getUTCFullYear(),a=yg(o),l=n.getUTCMonth();return a?s>=1&&s<=q1[l]:s>=1&&s<=j1[l]}},{key:"set",value:function(n,s,o){return n.setUTCDate(o),n.setUTCHours(0,0,0,0),n}}]),e}(ae);function lo(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?lo=function(e){return typeof e}:lo=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lo(r)}function K1(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function Lp(r,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,i.key,i)}}function Z1(r,t,e){return t&&Lp(r.prototype,t),e&&Lp(r,e),r}function Q1(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),t&&Xh(r,t)}function Xh(r,t){return Xh=Object.setPrototypeOf||function(i,n){return i.__proto__=n,i},Xh(r,t)}function J1(r){var t=tE();return function(){var i=da(r),n;if(t){var s=da(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return eE(this,n)}}function eE(r,t){return t&&(lo(t)==="object"||typeof t=="function")?t:ho(r)}function ho(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function tE(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function da(r){return da=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},da(r)}function $l(r,t,e){return t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}var iE=function(r){Q1(e,r);var t=J1(e);function e(){var i;K1(this,e);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),$l(ho(i),"priority",90),$l(ho(i),"subpriority",1),$l(ho(i),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),i}return Z1(e,[{key:"parse",value:function(n,s,o){switch(s){case"D":case"DD":return xe(Ie.dayOfYear,n);case"Do":return o.ordinalNumber(n,{unit:"date"});default:return Ae(s.length,n)}}},{key:"validate",value:function(n,s){var o=n.getUTCFullYear(),a=yg(o);return a?s>=1&&s<=366:s>=1&&s<=365}},{key:"set",value:function(n,s,o){return n.setUTCMonth(0,o),n.setUTCHours(0,0,0,0),n}}]),e}(ae);function yc(r,t,e){var i,n,s,o,a,l,h,u;Me(2,arguments);var c=jr(),d=tt((i=(n=(s=(o=e==null?void 0:e.weekStartsOn)!==null&&o!==void 0?o:e==null||(a=e.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:c.weekStartsOn)!==null&&n!==void 0?n:(h=c.locale)===null||h===void 0||(u=h.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&i!==void 0?i:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=Ge(r),p=tt(t),_=f.getUTCDay(),m=p%7,g=(m+7)%7,y=(g<d?7:0)+p-_;return f.setUTCDate(f.getUTCDate()+y),f}function uo(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?uo=function(e){return typeof e}:uo=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uo(r)}function rE(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function Fp(r,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,i.key,i)}}function nE(r,t,e){return t&&Fp(r.prototype,t),e&&Fp(r,e),r}function sE(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),t&&Kh(r,t)}function Kh(r,t){return Kh=Object.setPrototypeOf||function(i,n){return i.__proto__=n,i},Kh(r,t)}function oE(r){var t=lE();return function(){var i=fa(r),n;if(t){var s=fa(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return aE(this,n)}}function aE(r,t){return t&&(uo(t)==="object"||typeof t=="function")?t:Zh(r)}function Zh(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function lE(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function fa(r){return fa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},fa(r)}function $p(r,t,e){return t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}var hE=function(r){sE(e,r);var t=oE(e);function e(){var i;rE(this,e);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),$p(Zh(i),"priority",90),$p(Zh(i),"incompatibleTokens",["D","i","e","c","t","T"]),i}return nE(e,[{key:"parse",value:function(n,s,o){switch(s){case"E":case"EE":case"EEE":return o.day(n,{width:"abbreviated",context:"formatting"})||o.day(n,{width:"short",context:"formatting"})||o.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return o.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return o.day(n,{width:"short",context:"formatting"})||o.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return o.day(n,{width:"wide",context:"formatting"})||o.day(n,{width:"abbreviated",context:"formatting"})||o.day(n,{width:"short",context:"formatting"})||o.day(n,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(n,s){return s>=0&&s<=6}},{key:"set",value:function(n,s,o,a){return n=yc(n,o,a),n.setUTCHours(0,0,0,0),n}}]),e}(ae);function co(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?co=function(e){return typeof e}:co=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},co(r)}function uE(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function Np(r,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,i.key,i)}}function cE(r,t,e){return t&&Np(r.prototype,t),e&&Np(r,e),r}function dE(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),t&&Qh(r,t)}function Qh(r,t){return Qh=Object.setPrototypeOf||function(i,n){return i.__proto__=n,i},Qh(r,t)}function fE(r){var t=_E();return function(){var i=pa(r),n;if(t){var s=pa(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return pE(this,n)}}function pE(r,t){return t&&(co(t)==="object"||typeof t=="function")?t:Jh(r)}function Jh(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function _E(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function pa(r){return pa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},pa(r)}function zp(r,t,e){return t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}var mE=function(r){dE(e,r);var t=fE(e);function e(){var i;uE(this,e);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),zp(Jh(i),"priority",90),zp(Jh(i),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),i}return cE(e,[{key:"parse",value:function(n,s,o,a){var l=function(u){var c=Math.floor((u-1)/7)*7;return(u+a.weekStartsOn+6)%7+c};switch(s){case"e":case"ee":return Se(Ae(s.length,n),l);case"eo":return Se(o.ordinalNumber(n,{unit:"day"}),l);case"eee":return o.day(n,{width:"abbreviated",context:"formatting"})||o.day(n,{width:"short",context:"formatting"})||o.day(n,{width:"narrow",context:"formatting"});case"eeeee":return o.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return o.day(n,{width:"short",context:"formatting"})||o.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return o.day(n,{width:"wide",context:"formatting"})||o.day(n,{width:"abbreviated",context:"formatting"})||o.day(n,{width:"short",context:"formatting"})||o.day(n,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(n,s){return s>=0&&s<=6}},{key:"set",value:function(n,s,o,a){return n=yc(n,o,a),n.setUTCHours(0,0,0,0),n}}]),e}(ae);function fo(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?fo=function(e){return typeof e}:fo=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fo(r)}function vE(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function Bp(r,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,i.key,i)}}function gE(r,t,e){return t&&Bp(r.prototype,t),e&&Bp(r,e),r}function yE(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),t&&eu(r,t)}function eu(r,t){return eu=Object.setPrototypeOf||function(i,n){return i.__proto__=n,i},eu(r,t)}function bE(r){var t=xE();return function(){var i=_a(r),n;if(t){var s=_a(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return wE(this,n)}}function wE(r,t){return t&&(fo(t)==="object"||typeof t=="function")?t:tu(r)}function tu(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function xE(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _a(r){return _a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_a(r)}function Vp(r,t,e){return t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}var CE=function(r){yE(e,r);var t=bE(e);function e(){var i;vE(this,e);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),Vp(tu(i),"priority",90),Vp(tu(i),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),i}return gE(e,[{key:"parse",value:function(n,s,o,a){var l=function(u){var c=Math.floor((u-1)/7)*7;return(u+a.weekStartsOn+6)%7+c};switch(s){case"c":case"cc":return Se(Ae(s.length,n),l);case"co":return Se(o.ordinalNumber(n,{unit:"day"}),l);case"ccc":return o.day(n,{width:"abbreviated",context:"standalone"})||o.day(n,{width:"short",context:"standalone"})||o.day(n,{width:"narrow",context:"standalone"});case"ccccc":return o.day(n,{width:"narrow",context:"standalone"});case"cccccc":return o.day(n,{width:"short",context:"standalone"})||o.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return o.day(n,{width:"wide",context:"standalone"})||o.day(n,{width:"abbreviated",context:"standalone"})||o.day(n,{width:"short",context:"standalone"})||o.day(n,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(n,s){return s>=0&&s<=6}},{key:"set",value:function(n,s,o,a){return n=yc(n,o,a),n.setUTCHours(0,0,0,0),n}}]),e}(ae);function AE(r,t){Me(2,arguments);var e=tt(t);e%7===0&&(e=e-7);var i=1,n=Ge(r),s=n.getUTCDay(),o=e%7,a=(o+7)%7,l=(a<i?7:0)+e-s;return n.setUTCDate(n.getUTCDate()+l),n}function po(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?po=function(e){return typeof e}:po=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},po(r)}function EE(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function Gp(r,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,i.key,i)}}function IE(r,t,e){return t&&Gp(r.prototype,t),e&&Gp(r,e),r}function SE(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),t&&iu(r,t)}function iu(r,t){return iu=Object.setPrototypeOf||function(i,n){return i.__proto__=n,i},iu(r,t)}function TE(r){var t=ME();return function(){var i=ma(r),n;if(t){var s=ma(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return OE(this,n)}}function OE(r,t){return t&&(po(t)==="object"||typeof t=="function")?t:ru(r)}function ru(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function ME(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ma(r){return ma=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ma(r)}function Hp(r,t,e){return t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}var RE=function(r){SE(e,r);var t=TE(e);function e(){var i;EE(this,e);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),Hp(ru(i),"priority",90),Hp(ru(i),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),i}return IE(e,[{key:"parse",value:function(n,s,o){var a=function(h){return h===0?7:h};switch(s){case"i":case"ii":return Ae(s.length,n);case"io":return o.ordinalNumber(n,{unit:"day"});case"iii":return Se(o.day(n,{width:"abbreviated",context:"formatting"})||o.day(n,{width:"short",context:"formatting"})||o.day(n,{width:"narrow",context:"formatting"}),a);case"iiiii":return Se(o.day(n,{width:"narrow",context:"formatting"}),a);case"iiiiii":return Se(o.day(n,{width:"short",context:"formatting"})||o.day(n,{width:"narrow",context:"formatting"}),a);case"iiii":default:return Se(o.day(n,{width:"wide",context:"formatting"})||o.day(n,{width:"abbreviated",context:"formatting"})||o.day(n,{width:"short",context:"formatting"})||o.day(n,{width:"narrow",context:"formatting"}),a)}}},{key:"validate",value:function(n,s){return s>=1&&s<=7}},{key:"set",value:function(n,s,o){return n=AE(n,o),n.setUTCHours(0,0,0,0),n}}]),e}(ae);function _o(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_o=function(e){return typeof e}:_o=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_o(r)}function PE(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function Up(r,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,i.key,i)}}function kE(r,t,e){return t&&Up(r.prototype,t),e&&Up(r,e),r}function DE(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),t&&nu(r,t)}function nu(r,t){return nu=Object.setPrototypeOf||function(i,n){return i.__proto__=n,i},nu(r,t)}function LE(r){var t=$E();return function(){var i=va(r),n;if(t){var s=va(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return FE(this,n)}}function FE(r,t){return t&&(_o(t)==="object"||typeof t=="function")?t:su(r)}function su(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function $E(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function va(r){return va=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},va(r)}function Wp(r,t,e){return t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}var NE=function(r){DE(e,r);var t=LE(e);function e(){var i;PE(this,e);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),Wp(su(i),"priority",80),Wp(su(i),"incompatibleTokens",["b","B","H","k","t","T"]),i}return kE(e,[{key:"parse",value:function(n,s,o){switch(s){case"a":case"aa":case"aaa":return o.dayPeriod(n,{width:"abbreviated",context:"formatting"})||o.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return o.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return o.dayPeriod(n,{width:"wide",context:"formatting"})||o.dayPeriod(n,{width:"abbreviated",context:"formatting"})||o.dayPeriod(n,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(n,s,o){return n.setUTCHours(gc(o),0,0,0),n}}]),e}(ae);function mo(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?mo=function(e){return typeof e}:mo=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mo(r)}function zE(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function Yp(r,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,i.key,i)}}function BE(r,t,e){return t&&Yp(r.prototype,t),e&&Yp(r,e),r}function VE(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),t&&ou(r,t)}function ou(r,t){return ou=Object.setPrototypeOf||function(i,n){return i.__proto__=n,i},ou(r,t)}function GE(r){var t=UE();return function(){var i=ga(r),n;if(t){var s=ga(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return HE(this,n)}}function HE(r,t){return t&&(mo(t)==="object"||typeof t=="function")?t:au(r)}function au(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function UE(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ga(r){return ga=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ga(r)}function jp(r,t,e){return t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}var WE=function(r){VE(e,r);var t=GE(e);function e(){var i;zE(this,e);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),jp(au(i),"priority",80),jp(au(i),"incompatibleTokens",["a","B","H","k","t","T"]),i}return BE(e,[{key:"parse",value:function(n,s,o){switch(s){case"b":case"bb":case"bbb":return o.dayPeriod(n,{width:"abbreviated",context:"formatting"})||o.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return o.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return o.dayPeriod(n,{width:"wide",context:"formatting"})||o.dayPeriod(n,{width:"abbreviated",context:"formatting"})||o.dayPeriod(n,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(n,s,o){return n.setUTCHours(gc(o),0,0,0),n}}]),e}(ae);function vo(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?vo=function(e){return typeof e}:vo=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vo(r)}function YE(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function qp(r,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,i.key,i)}}function jE(r,t,e){return t&&qp(r.prototype,t),e&&qp(r,e),r}function qE(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),t&&lu(r,t)}function lu(r,t){return lu=Object.setPrototypeOf||function(i,n){return i.__proto__=n,i},lu(r,t)}function XE(r){var t=ZE();return function(){var i=ya(r),n;if(t){var s=ya(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return KE(this,n)}}function KE(r,t){return t&&(vo(t)==="object"||typeof t=="function")?t:hu(r)}function hu(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function ZE(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ya(r){return ya=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ya(r)}function Xp(r,t,e){return t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}var QE=function(r){qE(e,r);var t=XE(e);function e(){var i;YE(this,e);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),Xp(hu(i),"priority",80),Xp(hu(i),"incompatibleTokens",["a","b","t","T"]),i}return jE(e,[{key:"parse",value:function(n,s,o){switch(s){case"B":case"BB":case"BBB":return o.dayPeriod(n,{width:"abbreviated",context:"formatting"})||o.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return o.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return o.dayPeriod(n,{width:"wide",context:"formatting"})||o.dayPeriod(n,{width:"abbreviated",context:"formatting"})||o.dayPeriod(n,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(n,s,o){return n.setUTCHours(gc(o),0,0,0),n}}]),e}(ae);function go(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?go=function(e){return typeof e}:go=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},go(r)}function JE(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function Kp(r,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,i.key,i)}}function eI(r,t,e){return t&&Kp(r.prototype,t),e&&Kp(r,e),r}function tI(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),t&&uu(r,t)}function uu(r,t){return uu=Object.setPrototypeOf||function(i,n){return i.__proto__=n,i},uu(r,t)}function iI(r){var t=nI();return function(){var i=ba(r),n;if(t){var s=ba(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return rI(this,n)}}function rI(r,t){return t&&(go(t)==="object"||typeof t=="function")?t:cu(r)}function cu(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function nI(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ba(r){return ba=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ba(r)}function Zp(r,t,e){return t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}var sI=function(r){tI(e,r);var t=iI(e);function e(){var i;JE(this,e);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),Zp(cu(i),"priority",70),Zp(cu(i),"incompatibleTokens",["H","K","k","t","T"]),i}return eI(e,[{key:"parse",value:function(n,s,o){switch(s){case"h":return xe(Ie.hour12h,n);case"ho":return o.ordinalNumber(n,{unit:"hour"});default:return Ae(s.length,n)}}},{key:"validate",value:function(n,s){return s>=1&&s<=12}},{key:"set",value:function(n,s,o){var a=n.getUTCHours()>=12;return a&&o<12?n.setUTCHours(o+12,0,0,0):!a&&o===12?n.setUTCHours(0,0,0,0):n.setUTCHours(o,0,0,0),n}}]),e}(ae);function yo(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?yo=function(e){return typeof e}:yo=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yo(r)}function oI(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function Qp(r,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,i.key,i)}}function aI(r,t,e){return t&&Qp(r.prototype,t),e&&Qp(r,e),r}function lI(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),t&&du(r,t)}function du(r,t){return du=Object.setPrototypeOf||function(i,n){return i.__proto__=n,i},du(r,t)}function hI(r){var t=cI();return function(){var i=wa(r),n;if(t){var s=wa(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return uI(this,n)}}function uI(r,t){return t&&(yo(t)==="object"||typeof t=="function")?t:fu(r)}function fu(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function cI(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function wa(r){return wa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},wa(r)}function Jp(r,t,e){return t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}var dI=function(r){lI(e,r);var t=hI(e);function e(){var i;oI(this,e);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),Jp(fu(i),"priority",70),Jp(fu(i),"incompatibleTokens",["a","b","h","K","k","t","T"]),i}return aI(e,[{key:"parse",value:function(n,s,o){switch(s){case"H":return xe(Ie.hour23h,n);case"Ho":return o.ordinalNumber(n,{unit:"hour"});default:return Ae(s.length,n)}}},{key:"validate",value:function(n,s){return s>=0&&s<=23}},{key:"set",value:function(n,s,o){return n.setUTCHours(o,0,0,0),n}}]),e}(ae);function bo(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?bo=function(e){return typeof e}:bo=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bo(r)}function fI(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function e_(r,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,i.key,i)}}function pI(r,t,e){return t&&e_(r.prototype,t),e&&e_(r,e),r}function _I(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),t&&pu(r,t)}function pu(r,t){return pu=Object.setPrototypeOf||function(i,n){return i.__proto__=n,i},pu(r,t)}function mI(r){var t=gI();return function(){var i=xa(r),n;if(t){var s=xa(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return vI(this,n)}}function vI(r,t){return t&&(bo(t)==="object"||typeof t=="function")?t:_u(r)}function _u(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function gI(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function xa(r){return xa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},xa(r)}function t_(r,t,e){return t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}var yI=function(r){_I(e,r);var t=mI(e);function e(){var i;fI(this,e);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),t_(_u(i),"priority",70),t_(_u(i),"incompatibleTokens",["h","H","k","t","T"]),i}return pI(e,[{key:"parse",value:function(n,s,o){switch(s){case"K":return xe(Ie.hour11h,n);case"Ko":return o.ordinalNumber(n,{unit:"hour"});default:return Ae(s.length,n)}}},{key:"validate",value:function(n,s){return s>=0&&s<=11}},{key:"set",value:function(n,s,o){var a=n.getUTCHours()>=12;return a&&o<12?n.setUTCHours(o+12,0,0,0):n.setUTCHours(o,0,0,0),n}}]),e}(ae);function wo(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?wo=function(e){return typeof e}:wo=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wo(r)}function bI(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function i_(r,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,i.key,i)}}function wI(r,t,e){return t&&i_(r.prototype,t),e&&i_(r,e),r}function xI(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),t&&mu(r,t)}function mu(r,t){return mu=Object.setPrototypeOf||function(i,n){return i.__proto__=n,i},mu(r,t)}function CI(r){var t=EI();return function(){var i=Ca(r),n;if(t){var s=Ca(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return AI(this,n)}}function AI(r,t){return t&&(wo(t)==="object"||typeof t=="function")?t:vu(r)}function vu(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function EI(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ca(r){return Ca=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ca(r)}function r_(r,t,e){return t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}var II=function(r){xI(e,r);var t=CI(e);function e(){var i;bI(this,e);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),r_(vu(i),"priority",70),r_(vu(i),"incompatibleTokens",["a","b","h","H","K","t","T"]),i}return wI(e,[{key:"parse",value:function(n,s,o){switch(s){case"k":return xe(Ie.hour24h,n);case"ko":return o.ordinalNumber(n,{unit:"hour"});default:return Ae(s.length,n)}}},{key:"validate",value:function(n,s){return s>=1&&s<=24}},{key:"set",value:function(n,s,o){var a=o<=24?o%24:o;return n.setUTCHours(a,0,0,0),n}}]),e}(ae);function xo(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?xo=function(e){return typeof e}:xo=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xo(r)}function SI(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function n_(r,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,i.key,i)}}function TI(r,t,e){return t&&n_(r.prototype,t),e&&n_(r,e),r}function OI(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),t&&gu(r,t)}function gu(r,t){return gu=Object.setPrototypeOf||function(i,n){return i.__proto__=n,i},gu(r,t)}function MI(r){var t=PI();return function(){var i=Aa(r),n;if(t){var s=Aa(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return RI(this,n)}}function RI(r,t){return t&&(xo(t)==="object"||typeof t=="function")?t:yu(r)}function yu(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function PI(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Aa(r){return Aa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Aa(r)}function s_(r,t,e){return t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}var kI=function(r){OI(e,r);var t=MI(e);function e(){var i;SI(this,e);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),s_(yu(i),"priority",60),s_(yu(i),"incompatibleTokens",["t","T"]),i}return TI(e,[{key:"parse",value:function(n,s,o){switch(s){case"m":return xe(Ie.minute,n);case"mo":return o.ordinalNumber(n,{unit:"minute"});default:return Ae(s.length,n)}}},{key:"validate",value:function(n,s){return s>=0&&s<=59}},{key:"set",value:function(n,s,o){return n.setUTCMinutes(o,0,0),n}}]),e}(ae);function Co(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Co=function(e){return typeof e}:Co=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Co(r)}function DI(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function o_(r,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,i.key,i)}}function LI(r,t,e){return t&&o_(r.prototype,t),e&&o_(r,e),r}function FI(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),t&&bu(r,t)}function bu(r,t){return bu=Object.setPrototypeOf||function(i,n){return i.__proto__=n,i},bu(r,t)}function $I(r){var t=zI();return function(){var i=Ea(r),n;if(t){var s=Ea(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return NI(this,n)}}function NI(r,t){return t&&(Co(t)==="object"||typeof t=="function")?t:wu(r)}function wu(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function zI(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ea(r){return Ea=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ea(r)}function a_(r,t,e){return t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}var BI=function(r){FI(e,r);var t=$I(e);function e(){var i;DI(this,e);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),a_(wu(i),"priority",50),a_(wu(i),"incompatibleTokens",["t","T"]),i}return LI(e,[{key:"parse",value:function(n,s,o){switch(s){case"s":return xe(Ie.second,n);case"so":return o.ordinalNumber(n,{unit:"second"});default:return Ae(s.length,n)}}},{key:"validate",value:function(n,s){return s>=0&&s<=59}},{key:"set",value:function(n,s,o){return n.setUTCSeconds(o,0),n}}]),e}(ae);function Ao(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ao=function(e){return typeof e}:Ao=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ao(r)}function VI(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function l_(r,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,i.key,i)}}function GI(r,t,e){return t&&l_(r.prototype,t),e&&l_(r,e),r}function HI(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),t&&xu(r,t)}function xu(r,t){return xu=Object.setPrototypeOf||function(i,n){return i.__proto__=n,i},xu(r,t)}function UI(r){var t=YI();return function(){var i=Ia(r),n;if(t){var s=Ia(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return WI(this,n)}}function WI(r,t){return t&&(Ao(t)==="object"||typeof t=="function")?t:Cu(r)}function Cu(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function YI(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ia(r){return Ia=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ia(r)}function h_(r,t,e){return t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}var jI=function(r){HI(e,r);var t=UI(e);function e(){var i;VI(this,e);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),h_(Cu(i),"priority",30),h_(Cu(i),"incompatibleTokens",["t","T"]),i}return GI(e,[{key:"parse",value:function(n,s){var o=function(l){return Math.floor(l*Math.pow(10,-s.length+3))};return Se(Ae(s.length,n),o)}},{key:"set",value:function(n,s,o){return n.setUTCMilliseconds(o),n}}]),e}(ae);function Eo(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Eo=function(e){return typeof e}:Eo=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eo(r)}function qI(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function u_(r,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,i.key,i)}}function XI(r,t,e){return t&&u_(r.prototype,t),e&&u_(r,e),r}function KI(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),t&&Au(r,t)}function Au(r,t){return Au=Object.setPrototypeOf||function(i,n){return i.__proto__=n,i},Au(r,t)}function ZI(r){var t=JI();return function(){var i=Sa(r),n;if(t){var s=Sa(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return QI(this,n)}}function QI(r,t){return t&&(Eo(t)==="object"||typeof t=="function")?t:Eu(r)}function Eu(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function JI(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Sa(r){return Sa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Sa(r)}function c_(r,t,e){return t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}var eS=function(r){KI(e,r);var t=ZI(e);function e(){var i;qI(this,e);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),c_(Eu(i),"priority",10),c_(Eu(i),"incompatibleTokens",["t","T","x"]),i}return XI(e,[{key:"parse",value:function(n,s){switch(s){case"X":return Tt(St.basicOptionalMinutes,n);case"XX":return Tt(St.basic,n);case"XXXX":return Tt(St.basicOptionalSeconds,n);case"XXXXX":return Tt(St.extendedOptionalSeconds,n);case"XXX":default:return Tt(St.extended,n)}}},{key:"set",value:function(n,s,o){return s.timestampIsSet?n:new Date(n.getTime()-o)}}]),e}(ae);function Io(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Io=function(e){return typeof e}:Io=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Io(r)}function tS(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function d_(r,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,i.key,i)}}function iS(r,t,e){return t&&d_(r.prototype,t),e&&d_(r,e),r}function rS(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),t&&Iu(r,t)}function Iu(r,t){return Iu=Object.setPrototypeOf||function(i,n){return i.__proto__=n,i},Iu(r,t)}function nS(r){var t=oS();return function(){var i=Ta(r),n;if(t){var s=Ta(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return sS(this,n)}}function sS(r,t){return t&&(Io(t)==="object"||typeof t=="function")?t:Su(r)}function Su(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function oS(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ta(r){return Ta=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ta(r)}function f_(r,t,e){return t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}var aS=function(r){rS(e,r);var t=nS(e);function e(){var i;tS(this,e);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),f_(Su(i),"priority",10),f_(Su(i),"incompatibleTokens",["t","T","X"]),i}return iS(e,[{key:"parse",value:function(n,s){switch(s){case"x":return Tt(St.basicOptionalMinutes,n);case"xx":return Tt(St.basic,n);case"xxxx":return Tt(St.basicOptionalSeconds,n);case"xxxxx":return Tt(St.extendedOptionalSeconds,n);case"xxx":default:return Tt(St.extended,n)}}},{key:"set",value:function(n,s,o){return s.timestampIsSet?n:new Date(n.getTime()-o)}}]),e}(ae);function So(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?So=function(e){return typeof e}:So=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},So(r)}function lS(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function p_(r,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,i.key,i)}}function hS(r,t,e){return t&&p_(r.prototype,t),e&&p_(r,e),r}function uS(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),t&&Tu(r,t)}function Tu(r,t){return Tu=Object.setPrototypeOf||function(i,n){return i.__proto__=n,i},Tu(r,t)}function cS(r){var t=fS();return function(){var i=Oa(r),n;if(t){var s=Oa(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return dS(this,n)}}function dS(r,t){return t&&(So(t)==="object"||typeof t=="function")?t:Ou(r)}function Ou(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function fS(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Oa(r){return Oa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Oa(r)}function __(r,t,e){return t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}var pS=function(r){uS(e,r);var t=cS(e);function e(){var i;lS(this,e);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),__(Ou(i),"priority",40),__(Ou(i),"incompatibleTokens","*"),i}return hS(e,[{key:"parse",value:function(n){return vg(n)}},{key:"set",value:function(n,s,o){return[new Date(o*1e3),{timestampIsSet:!0}]}}]),e}(ae);function To(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?To=function(e){return typeof e}:To=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},To(r)}function _S(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function m_(r,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,i.key,i)}}function mS(r,t,e){return t&&m_(r.prototype,t),e&&m_(r,e),r}function vS(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),t&&Mu(r,t)}function Mu(r,t){return Mu=Object.setPrototypeOf||function(i,n){return i.__proto__=n,i},Mu(r,t)}function gS(r){var t=bS();return function(){var i=Ma(r),n;if(t){var s=Ma(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return yS(this,n)}}function yS(r,t){return t&&(To(t)==="object"||typeof t=="function")?t:Ru(r)}function Ru(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function bS(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ma(r){return Ma=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ma(r)}function v_(r,t,e){return t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}var wS=function(r){vS(e,r);var t=gS(e);function e(){var i;_S(this,e);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),v_(Ru(i),"priority",20),v_(Ru(i),"incompatibleTokens","*"),i}return mS(e,[{key:"parse",value:function(n){return vg(n)}},{key:"set",value:function(n,s,o){return[new Date(o),{timestampIsSet:!0}]}}]),e}(ae),xS={G:new yA,y:new OA,Y:new FA,R:new HA,u:new KA,Q:new r1,q:new u1,M:new v1,L:new A1,w:new P1,I:new B1,d:new X1,D:new iE,E:new hE,e:new mE,c:new CE,i:new RE,a:new NE,b:new WE,B:new QE,h:new sI,H:new dI,K:new yI,k:new II,m:new kI,s:new BI,S:new jI,X:new eS,x:new aS,t:new pS,T:new wS};function Oo(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Oo=function(e){return typeof e}:Oo=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oo(r)}function g_(r,t){var e;if(typeof Symbol>"u"||r[Symbol.iterator]==null){if(Array.isArray(r)||(e=CS(r))||t&&r&&typeof r.length=="number"){e&&(r=e);var i=0,n=function(){};return{s:n,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(h){throw h},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){e=r[Symbol.iterator]()},n:function(){var h=e.next();return s=h.done,h},e:function(h){o=!0,a=h},f:function(){try{!s&&e.return!=null&&e.return()}finally{if(o)throw a}}}}function CS(r,t){if(!!r){if(typeof r=="string")return y_(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);if(e==="Object"&&r.constructor&&(e=r.constructor.name),e==="Map"||e==="Set")return Array.from(r);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return y_(r,t)}}function y_(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=r[e];return i}var AS=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ES=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,IS=/^'([^]*?)'?$/,SS=/''/g,TS=/\S/,OS=/[a-zA-Z]/;function b_(r,t,e,i){var n,s,o,a,l,h,u,c,d,f,p,_,m,g,y,b,C,E;Me(3,arguments);var I=String(r),M=String(t),T=jr(),D=(n=(s=i==null?void 0:i.locale)!==null&&s!==void 0?s:T.locale)!==null&&n!==void 0?n:fg;if(!D.match)throw new RangeError("locale must contain match property");var L=tt((o=(a=(l=(h=i==null?void 0:i.firstWeekContainsDate)!==null&&h!==void 0?h:i==null||(u=i.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&l!==void 0?l:T.firstWeekContainsDate)!==null&&a!==void 0?a:(d=T.locale)===null||d===void 0||(f=d.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(L>=1&&L<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var z=tt((p=(_=(m=(g=i==null?void 0:i.weekStartsOn)!==null&&g!==void 0?g:i==null||(y=i.locale)===null||y===void 0||(b=y.options)===null||b===void 0?void 0:b.weekStartsOn)!==null&&m!==void 0?m:T.weekStartsOn)!==null&&_!==void 0?_:(C=T.locale)===null||C===void 0||(E=C.options)===null||E===void 0?void 0:E.weekStartsOn)!==null&&p!==void 0?p:0);if(!(z>=0&&z<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(M==="")return I===""?Ge(e):new Date(NaN);var U={firstWeekContainsDate:L,weekStartsOn:z,locale:D},V=[new uA],q=M.match(ES).map(function(te){var X=te[0];if(X in xh){var ve=xh[X];return ve(te,D.formatLong)}return te}).join("").match(AS),B=[],v=g_(q),w;try{var x=function(){var X=w.value;!(i!=null&&i.useAdditionalWeekYearTokens)&&dg(X)&&Zo(X,M,r),!(i!=null&&i.useAdditionalDayOfYearTokens)&&cg(X)&&Zo(X,M,r);var ve=X[0],Ue=xS[ve];if(Ue){var Oi=Ue.incompatibleTokens;if(Array.isArray(Oi)){var Mi=B.find(function(Nt){return Oi.includes(Nt.token)||Nt.token===ve});if(Mi)throw new RangeError("The format string mustn't contain `".concat(Mi.fullToken,"` and `").concat(X,"` at the same time"))}else if(Ue.incompatibleTokens==="*"&&B.length>0)throw new RangeError("The format string mustn't contain `".concat(X,"` and any other token at the same time"));B.push({token:ve,fullToken:X});var at=Ue.run(I,X,D.match,U);if(!at)return{v:new Date(NaN)};V.push(at.setter),I=at.rest}else{if(ve.match(OS))throw new RangeError("Format string contains an unescaped latin alphabet character `"+ve+"`");if(X==="''"?X="'":ve==="'"&&(X=MS(X)),I.indexOf(X)===0)I=I.slice(X.length);else return{v:new Date(NaN)}}};for(v.s();!(w=v.n()).done;){var A=x();if(Oo(A)==="object")return A.v}}catch(te){v.e(te)}finally{v.f()}if(I.length>0&&TS.test(I))return new Date(NaN);var O=V.map(function(te){return te.priority}).sort(function(te,X){return X-te}).filter(function(te,X,ve){return ve.indexOf(te)===X}).map(function(te){return V.filter(function(X){return X.priority===te}).sort(function(X,ve){return ve.subPriority-X.subPriority})}).map(function(te){return te[0]}),N=Ge(e);if(isNaN(N.getTime()))return new Date(NaN);var S=sg(N,ug(N)),K={},F=g_(O),Q;try{for(F.s();!(Q=F.n()).done;){var ne=Q.value;if(!ne.validate(S,U))return new Date(NaN);var me=ne.set(S,K,U);Array.isArray(me)?(S=me[0],sA(K,me[1])):S=me}}catch(te){F.e(te)}finally{F.f()}return S}function MS(r){return r.match(IS)[1].replace(SS,"'")}(function(){const r=function(t){return window.Vaadin.Flow.tryCatchWrapper(t,"Vaadin Date Picker")};window.Vaadin.Flow.datepickerConnector={initLazy:t=>r(function(e){if(e.$connector)return;e.$connector={};const i=function(o){try{new Date().toLocaleDateString(o)}catch{return console.warn("The locale is not supported, using default locale setting(en-US)."),"M/d/yyyy"}let l=new Date(Date.UTC(1234,4,6)).toLocaleDateString(o,{timeZone:"UTC"});return l=l.replace(/([a-zA-Z]+)/g,"'$1'").replace("06","dd").replace("6","d").replace("05","MM").replace("5","M").replace("1234","yyyy"),l.includes("d")&&l.includes("M")&&l.includes("y")?l:(console.warn("The locale is not supported, using default locale setting(en-US)."),"M/d/yyyy")},n=r(function(o){if(!o||o.length===0)throw new Error("Array of custom date formats is null or empty");function a(c){if(c.includes("yyyy")&&!c.includes("yyyyy"))return c.replace("yyyy","yy");if(c.includes("YYYY")&&!c.includes("YYYYY"))return c.replace("YYYY","YY")}function l(c){return c.includes("y")?!c.includes("yyy"):c.includes("Y")?!c.includes("YYY"):!1}function h(c){const d=o[0],f=Ni(`${c.year}-${c.month+1}-${c.day}`);return rA(f,d)}function u(c){const d=s();for(let f of o){const p=a(f);if(p){const m=b_(c,p,d);if(wh(m)){let g=m.getFullYear();return e.$connector._lastParsedYear&&g===e.$connector._lastParsedYear%100&&(g=e.$connector._lastParsedYear),{day:m.getDate(),month:m.getMonth(),year:g}}}const _=b_(c,f,d);if(wh(_)){let m=_.getFullYear();return e.$connector._lastParsedYear&&m%100===e.$connector._lastParsedYear%100&&l(f)?m=e.$connector._lastParsedYear:e.$connector._lastParsedYear=m,{day:_.getDate(),month:_.getMonth(),year:m}}}return e.$connector._lastParsedYear=void 0,!1}return{formatDate:h,parseDate:u}});function s(){const{referenceDate:o}=e.i18n;return o?new Date(o.year,o.month-1,o.day):new Date}e.$connector.updateI18n=r(function(o,a){const l=a&&a.dateFormats&&a.dateFormats.length>0;a&&a.referenceDate&&(a.referenceDate=cc(new Date(a.referenceDate)));const h=l?a.dateFormats:[i(o)],u=n(h);queueMicrotask(()=>{e.i18n=Object.assign({},e.i18n,a,u)})})})(t)}})();(function(){function r(e){const i=e.$.overlay;i&&(i.className=e.className)}const t=new MutationObserver(e=>{e.forEach(i=>{i.type==="attributes"&&i.attributeName==="class"&&r(i.target)})});window.Vaadin.Flow.dialogConnector={initLazy:function(e){e.$connector||(e.$connector={},e.addEventListener("opened-changed",i=>{i.detail.value&&r(e)}),t.observe(e,{attributes:!0,attributeFilter:["class"]}),r(e))}}})();window.Vaadin=window.Vaadin||{};window.Vaadin.Flow=window.Vaadin.Flow||{};window.Vaadin.Flow.dndConnector={__ondragenterListener:function(r){const t=r.currentTarget.__dropEffect;r.currentTarget.hasAttribute("disabled")||(t&&(r.dataTransfer.dropEffect=t),t&&t!=="none"&&(r.currentTarget.classList.contains("v-drag-over-target")?r.currentTarget["__skip-leave"]=!0:r.currentTarget.classList.add("v-drag-over-target"),r.preventDefault(),r.stopPropagation()))},__ondragoverListener:function(r){if(!r.currentTarget.hasAttribute("disabled")){const t=r.currentTarget.__dropEffect;t&&(r.dataTransfer.dropEffect=t),r.preventDefault(),r.stopPropagation()}},__ondragleaveListener:function(r){r.currentTarget["__skip-leave"]?r.currentTarget["__skip-leave"]=!1:r.currentTarget.classList.remove("v-drag-over-target"),r.stopPropagation()},__ondropListener:function(r){const t=r.currentTarget.__dropEffect;t&&(r.dataTransfer.dropEffect=t),r.currentTarget.classList.remove("v-drag-over-target"),r.preventDefault(),r.stopPropagation()},updateDropTarget:function(r){r.__active?(r.addEventListener("dragenter",this.__ondragenterListener,!1),r.addEventListener("dragover",this.__ondragoverListener,!1),r.addEventListener("dragleave",this.__ondragleaveListener,!1),r.addEventListener("drop",this.__ondropListener,!1)):(r.removeEventListener("dragenter",this.__ondragenterListener,!1),r.removeEventListener("dragover",this.__ondragoverListener,!1),r.removeEventListener("dragleave",this.__ondragleaveListener,!1),r.removeEventListener("drop",this.__ondropListener,!1),r.classList.remove("v-drag-over-target"))},__dragstartListener:function(r){r.stopPropagation(),r.dataTransfer.setData("text/plain",""),r.currentTarget.hasAttribute("disabled")?r.preventDefault():(r.currentTarget.__effectAllowed&&(r.dataTransfer.effectAllowed=r.currentTarget.__effectAllowed),r.currentTarget.classList.add("v-dragged"))},__dragendListener:function(r){r.currentTarget.classList.remove("v-dragged")},updateDragSource:function(r){r.draggable?(r.addEventListener("dragstart",this.__dragstartListener,!1),r.addEventListener("dragend",this.__dragendListener,!1)):(r.removeEventListener("dragstart",this.__dragstartListener,!1),r.removeEventListener("dragend",this.__dragendListener,!1))}};(function(){const r=function(e){return window.Vaadin.Flow.tryCatchWrapper(e,"Vaadin Grid")};let t=!1;window.Vaadin.Flow.gridConnector={initLazy:e=>r(function(i){if(i.$connector)return;t||(t=!0,ut.prototype.ensureSubCacheForScaledIndexOriginal=ut.prototype.ensureSubCacheForScaledIndex,ut.prototype.ensureSubCacheForScaledIndex=r(function(v){if(!this.grid.$connector){this.ensureSubCacheForScaledIndexOriginal(v);return}this.itemCaches[v]||this.grid.$connector.beforeEnsureSubCacheForScaledIndex(this,v)}),ut.prototype.isLoadingOriginal=ut.prototype.isLoading,ut.prototype.isLoading=r(function(){return this.grid.$connector?Boolean(this.grid.$connector.hasEnsureSubCacheQueue()||Object.keys(this.pendingRequests).length||Object.keys(this.itemCaches).filter(v=>this.itemCaches[v].isLoading())[0]):this.isLoadingOriginal()}),ut.prototype.doEnsureSubCacheForScaledIndex=r(function(v){if(!this.itemCaches[v]){const w=new ut.prototype.constructor(this.grid,this,this.items[v]);w.itemkeyCaches={},this.itemkeyCaches||(this.itemkeyCaches={}),this.itemCaches[v]=w,this.itemkeyCaches[this.grid.getItemId(w.parentItem)]=w,this.grid._loadPage(0,w)}}),ut.prototype.getCacheAndIndexByKey=r(function(v){for(let x in this.items)if(this.grid.getItemId(this.items[x])===v)return{cache:this,scaledIndex:x};const w=Object.keys(this.itemkeyCaches);for(let x=0;x<w.length;x++){const A=w[x];let N=this.itemkeyCaches[A].getCacheAndIndexByKey(v);if(N)return N}}),ut.prototype.getLevel=r(function(){let v=this,w=0;for(;v.parentCache;)v=v.parentCache,w++;return w}));const n={},s={},o={},a=50,l=20;let h=[],u,c=[],d;const f=150;let p,_={};const m="null";_[m]=[0,0];const g=["SINGLE","NONE","MULTI"];let y={},b="SINGLE",C=!1;i.size=0,i.itemIdPath="key",i.$connector={},i.$connector.hasEnsureSubCacheQueue=r(()=>c.length>0),i.$connector.hasParentRequestQueue=r(()=>h.length>0),i.$connector.hasRootRequestQueue=r(()=>Object.keys(n).length>0||p&&p.isActive()),i.$connector.beforeEnsureSubCacheForScaledIndex=r(function(v,w){c.push({cache:v,scaledIndex:w,itemkey:i.getItemId(v.items[w]),level:v.getLevel()}),d=Pt.debounce(d,pr,()=>{for(;c.length;)i.$connector.flushEnsureSubCache()})}),i.$connector.doSelection=r(function(v,w){if(b==="NONE"||!v.length||w&&i.hasAttribute("disabled"))return;b==="SINGLE"&&(i.selectedItems=[],y={});const x=v.filter(A=>A!==null);i.selectedItems=i.selectedItems.concat(x),v.forEach(A=>{A&&(y[A.key]=A,w&&(A.selected=!0,i.$server.select(A.key)));const O=!i.activeItem||!A||A.key!=i.activeItem.key;!w&&b==="SINGLE"&&O&&(i.activeItem=A)})}),i.$connector.doDeselection=r(function(v,w){if(b==="NONE"||!v.length||w&&i.hasAttribute("disabled"))return;const x=i.selectedItems.slice();for(;v.length;){const A=v.shift();for(let O=0;O<x.length;O++){const N=x[O];if(A&&A.key===N.key){x.splice(O,1);break}}A&&(delete y[A.key],w&&(delete A.selected,i.$server.deselect(A.key)))}i.selectedItems=x}),i.__activeItemChanged=r(function(v,w){b=="SINGLE"&&(v?y[v.key]||i.$connector.doSelection([v],!0):w&&y[w.key]&&(i.__deselectDisallowed?i.activeItem=w:i.$connector.doDeselection([w],!0)))}),i._createPropertyObserver("activeItem","__activeItemChanged",!0),i.__activeItemChangedDetails=r(function(v,w){i.__disallowDetailsOnClick||v==null&&w===void 0||(v&&!v.detailsOpened?i.$server.setDetailsVisible(v.key):i.$server.setDetailsVisible(null))}),i._createPropertyObserver("activeItem","__activeItemChangedDetails",!0),i.$connector._getPageIfSameLevel=r(function(v,w,x){let A=i._cache.getCacheAndIndex(w),O=A.cache.parentItem,N=O?i.getItemId(O):m;return v!==N?x:i._getPageForIndex(A.scaledIndex)}),i.$connector.getCacheByKey=r(function(v){let w=i._cache.getCacheAndIndexByKey(v);if(w)return w.cache}),i.$connector.flushEnsureSubCache=r(function(){let v=c.splice(0,1)[0],w=v.itemkey;const x=i._getVisibleRows();let A=x[0].index,O=x[x.length-1].index,N=O-A,S=Math.max(0,A-N),K=Math.min(O+N,i._effectiveSize);for(let F=S;F<=K;F++){let Q=i._cache.getItemForIndex(F);if(i.getItemId(Q)===w){if(i._isExpanded(Q))return v.cache.doEnsureSubCacheForScaledIndex(v.scaledIndex),!0;break}}return!1}),i.$connector.flushParentRequests=r(function(){let v=h.splice(0,l);return v.length?(i.$server.setParentRequestedRanges(v),!0):!1}),i.$connector.beforeParentRequest=r(function(v,w,x){h.push({firstIndex:v,size:w,parentKey:x}),u=Pt.debounce(u,kt.after(a),()=>{for(;h.length;)i.$connector.flushParentRequests()})}),i.$connector.fetchPage=r(function(v,w,x){const A=i._getVisibleRows();let O=A.length>0?A[0].index:0,N=A.length>0?A[A.length-1].index:0,S=N-O,K=Math.max(0,O-S),F=Math.min(N+S,i._effectiveSize),Q=w,ne=w;for(let ve=K;ve<=F;ve++)Q=Math.min(Q,i.$connector._getPageIfSameLevel(x,ve,Q)),ne=Math.max(ne,i.$connector._getPageIfSameLevel(x,ve,ne));let me=Math.max(0,Q),te=x!==m?ne:Math.min(ne,Math.floor(i.size/i.pageSize)),X=_[x];if(X||(X=[-1,-1]),X[0]!=me||X[1]!=te){X=[me,te],_[x]=X;let ve=te-me+1;v(me*i.pageSize,ve*i.pageSize)}}),i.dataProvider=r(function(v,w){if(v.pageSize!=i.pageSize)throw"Invalid pageSize";let x=v.page;if(v.parentItem){let A=i.getItemId(v.parentItem);s[A]||(s[A]={});let O=i.$connector.getCacheByKey(A),N=O&&O.itemkeyCaches?O.itemkeyCaches[A]:void 0;o[A]&&o[A][x]&&N?(x=Math.min(x,Math.floor(o[A].size/i.pageSize)),c=[],w(o[A][x],o[A].size),L(),c=[],i.requestContentUpdate()):(s[A][x]=w,i.$connector.fetchPage((S,K)=>i.$connector.beforeParentRequest(S,K,v.parentItem.key),x,A))}else x=Math.min(x,Math.floor(i.size/i.pageSize)),o[m]&&o[m][x]?w(o[m][x]):(n[x]=w,p=Pt.debounce(p,kt.after(i._hasData?f:0),()=>{i.$connector.fetchPage((A,O)=>i.$server.setRequestedRange(A,O),x,m)}))});const E=r(function(v,w){w!==void 0&&!C&&i.$server.sortersChanged(i._sorters.map(function(x){return{path:x.path,direction:x.direction}}))});i.$connector.setSorterDirections=r(function(v){C=!0,setTimeout(r(()=>{try{const w=Array.from(i.querySelectorAll("vaadin-grid-sorter"));i._sorters.forEach(x=>{w.includes(x)||w.push(x)}),w.forEach(x=>{v.filter(A=>A.column===x.getAttribute("path"))[0]||(x.direction=null)}),i.multiSortPriority!=="append"&&(v=v.reverse()),v.forEach(({column:x,direction:A})=>{w.forEach(O=>{O.getAttribute("path")===x&&O.direction!==A&&(O.direction=A)})})}finally{C=!1}}))}),i._createPropertyObserver("_previousSorters",E),i._updateItem=r(function(v,w){Sn.prototype._updateItem.call(i,v,w),v.hidden||Array.from(v.children).forEach(x=>{x._content&&x._content.__templateInstance&&x._content.__templateInstance.children&&Array.from(x._content.__templateInstance.children).forEach(A=>{A._attachRenderedComponentIfAble&&A._attachRenderedComponentIfAble(),A.children&&Array.from(A.children).forEach(O=>{O._attachRenderedComponentIfAble&&O._attachRenderedComponentIfAble()})})}),b===g[1]&&(v.removeAttribute("aria-selected"),Array.from(v.children).forEach(x=>x.removeAttribute("aria-selected")))});const I=r(function(v,w){if(v==null||i.$server.updateExpandedState==null)return;let x=i.getItemId(v);if(i.$server.updateExpandedState(x,w),!w){delete o[x];let A=i.$connector.getCacheByKey(x);A&&A.itemkeyCaches&&A.itemkeyCaches[x]&&delete A.itemkeyCaches[x],A&&A.itemkeyCaches&&Object.keys(A.itemCaches).filter(O=>A.items[O].key===x).forEach(O=>delete A.itemCaches[O]),delete _[x]}});i.expandItem=r(function(v){I(v,!0),Sn.prototype.expandItem.call(i,v)}),i.collapseItem=r(function(v){I(v,!1),Sn.prototype.collapseItem.call(i,v)});const M=function(v){if(!v||!Array.isArray(v))throw"Attempted to call itemsUpdated with an invalid value: "+JSON.stringify(v);let w=Array.from(i.detailsOpenedItems),x=!1;for(let A=0;A<v.length;++A){const O=v[A];!O||(O.detailsOpened?i._getItemIndexInArray(O,w)<0&&w.push(O):i._getItemIndexInArray(O,w)>=0&&w.splice(i._getItemIndexInArray(O,w),1),y[O.key]&&(y[O.key]=O,O.selected=!0,x=!0))}i.detailsOpenedItems=w,x&&(i.selectedItems=Object.keys(y).map(function(A){return y[A]}))},T=function(v,w){let x;if((w||m)!==m){x=o[w][v];let A=i.$connector.getCacheByKey(w);if(A&&A.itemkeyCaches){let O=A.itemkeyCaches[w];const N=s[w],S=N&&N[v];D(v,x,S,O)}}else x=o[m][v],D(v,x,n[v],i._cache);return x},D=function(v,w,x,A){if(!x){let O=v*i.pageSize,N=O+i.pageSize;if(w){if(A&&A.items)for(let S=O;S<N;S++)A.items[S]&&(A.items[S]=w[S-O])}else if(A&&A.items)for(let S=O;S<N;S++)delete A.items[S]}},L=function(){i._cache.updateSize(),i._effectiveSize=i._cache.effectiveSize,i.__updateVisibleRows()},z=function(v){if(!v||!i.$||i.$.items.childElementCount===0)return;const w=v.map(A=>A.key),x=i._getVisibleRows().filter(A=>A._item&&w.includes(A._item.key)).map(A=>A.index);x.length>0&&i.__updateVisibleRows(x[0],x[x.length-1])};i.$connector.set=r(function(v,w,x){if(v%i.pageSize!=0)throw"Got new data to index "+v+" which is not aligned with the page size of "+i.pageSize;let A=x||m;const O=v/i.pageSize,N=Math.ceil(w.length/i.pageSize);for(let S=0;S<N;S++){let K=O+S,F=w.slice(S*i.pageSize,(S+1)*i.pageSize);o[A]||(o[A]={}),o[A][K]=F,i.$connector.doSelection(F.filter(ne=>ne.selected)),i.$connector.doDeselection(F.filter(ne=>!ne.selected&&y[ne.key]));const Q=T(K,A);Q&&(M(Q),z(Q))}});const U=function(v){let w=v.parentUniqueKey||m;if(o[w]){for(let x in o[w])for(let A in o[w][x])if(i.getItemId(o[w][x][A])===i.getItemId(v))return{page:x,index:A,parentKey:w}}return null};i.$connector.updateHierarchicalData=r(function(v){let w=[];for(let A=0;A<v.length;A++){let O=U(v[A]);if(O){o[O.parentKey][O.page][O.index]=v[A];let N=O.parentKey+":"+O.page;w[N]||(w[N]={parentKey:O.parentKey,page:O.page})}}let x=Object.keys(w);for(let A=0;A<x.length;A++){let O=w[x[A]];const N=T(O.page,O.parentKey);N&&(M(N),z(N))}}),i.$connector.updateFlatData=r(function(v){for(let w=0;w<v.length;w++){let x=U(v[w]);if(x){o[x.parentKey][x.page][x.index]=v[w];const A=parseInt(x.page)*i.pageSize+parseInt(x.index);i._cache.items[A]&&(i._cache.items[A]=v[w])}}M(v),z(v)}),i.$connector.clearExpanded=r(function(){i.expandedItems=[],c=[],h=[]}),i.$connector.clear=r(function(v,w,x){let A=x||m;if(!o[A]||Object.keys(o[A]).length===0)return;if(v%i.pageSize!=0)throw"Got cleared data for index "+v+" which is not aligned with the page size of "+i.pageSize;let O=Math.floor(v/i.pageSize),N=Math.ceil(w/i.pageSize);for(let F=0;F<N;F++){let Q=O+F,ne=o[A][Q];i.$connector.doDeselection(ne.filter(te=>y[te.key])),delete o[A][Q];const me=T(Q,x);me&&M(me),z(ne)}let S=i._cache;if(x){const F=i._cache.getCacheAndIndexByKey(A);S=F.cache.itemCaches[F.scaledIndex]}const K=v+N*i.pageSize;for(let F=v;F<K;F++){delete S.items[F];const Q=S.itemCaches[F];delete S.itemCaches[F];const ne=Q&&Q.parentItem.key;ne&&delete S.itemkeyCaches[ne]}i._cache.updateSize()}),i.$connector.reset=r(function(){i.size=0,V(o),V(i._cache.items),V(_),d&&d.cancel(),u&&u.cancel(),p&&p.cancel(),d=void 0,u=void 0,c=[],h=[],L()});const V=v=>Object.keys(v).forEach(w=>delete v[w]);i.$connector.updateSize=v=>i.size=v,i.$connector.updateUniqueItemIdPath=v=>i.itemIdPath=v,i.$connector.expandItems=r(function(v){let w=Array.from(i.expandedItems);v.filter(x=>!i._isExpanded(x)).forEach(x=>w.push(x)),i.expandedItems=w}),i.$connector.collapseItems=r(function(v){let w=Array.from(i.expandedItems);v.forEach(x=>{let A=i._getItemIndexInArray(x,w);A>=0&&w.splice(A,1)}),i.expandedItems=w,v.forEach(x=>i.$connector.removeFromQueue(x))}),i.$connector.removeFromQueue=r(function(v){let w=i.getItemId(v);delete s[w],i.$connector.removeFromArray(c,x=>x.itemkey===w),i.$connector.removeFromArray(h,x=>x.parentKey===w)}),i.$connector.removeFromArray=r(function(v,w){if(v.length)for(let x=v.length-1;x--;)w(v[x])&&v.splice(x,1)}),i.$connector.confirmParent=r(function(v,w,x){o[w]||(o[w]={}),o[w].size=x,x===0&&(o[w][0]=[]);let A=Object.getOwnPropertyNames(s[w]||{});for(let O=0;O<A.length;O++){let N=A[O],S=_[w]||[0,0];const K=s[w][N];if(o[w]&&o[w][N]||N<S[0]||N>S[1]){delete s[w][N];let F=o[w][N]||new Array(x);K(F,x)}else K&&x===0&&(delete s[w][N],K([],x))}i.$server.confirmParentUpdate(v,w),i.loading||i.__updateVisibleRows()}),i.$connector.confirm=r(function(v){let w=Object.getOwnPropertyNames(n);for(let x=0;x<w.length;x++){let A=w[x],O=_[m]||[0,0];const N=i.size?Math.ceil(i.size/i.pageSize)-1:0,S=Math.min(O[1],N),K=n[A];o[m]&&o[m][A]||A<O[0]||+A>S?(delete n[A],o[m][A]?K(o[m][A]):(K(new Array(i.pageSize)),i.requestContentUpdate()),i._debounceIncreasePool&&i._debounceIncreasePool.flush()):K&&i.size===0&&(delete n[A],K([]))}i.$server.confirmUpdate(v)}),i.$connector.ensureHierarchy=r(function(){for(let v in o)v!==m&&delete o[v];V(_),i._cache.itemCaches={},i._cache.itemkeyCaches={},L()}),i.$connector.setSelectionMode=r(function(v){if((typeof v=="string"||v instanceof String)&&g.indexOf(v)>=0)b=v,y={},i.$connector.updateMultiSelectable();else throw"Attempted to set an invalid selection mode"}),i.$connector.updateMultiSelectable=r(function(){!i.$||(b===g[0]?i.$.table.setAttribute("aria-multiselectable",!1):b===g[1]?i.$.table.removeAttribute("aria-multiselectable"):i.$.table.setAttribute("aria-multiselectable",!0))}),i._createPropertyObserver("isAttached",()=>i.$connector.updateMultiSelectable()),i.$connector.setVerticalScrollingEnabled=r(function(v){q(i.$.table,v)});const q=function(v,w){v.style.overflowY=w?"":"hidden",v.removeEventListener("wheel",v.__wheelListener),!w&&v.addEventListener("wheel",v.__wheelListener=r(x=>{x.deltaX?Object.defineProperty(x,"deltaY",{value:0}):x.stopImmediatePropagation()}))};i.addEventListener("vaadin-context-menu-before-open",r(function(v){const{key:w,columnId:x}=v.detail;i.$server.updateContextMenuTargetItem(w,x)})),i.getContextMenuBeforeOpenDetail=r(function(v){const w=v.detail.sourceEvent||v,x=i.getEventContext(w),A=x.item&&x.item.key||"",O=x.column&&x.column.id||"";return{key:A,columnId:O}}),i.addEventListener("click",r(v=>B(v,"item-click"))),i.addEventListener("dblclick",r(v=>B(v,"item-double-click"))),i.addEventListener("column-resize",r(v=>{i._getColumnsInOrder().filter(x=>!x.hidden).forEach(x=>{x.dispatchEvent(new CustomEvent("column-drag-resize"))}),i.dispatchEvent(new CustomEvent("column-drag-resize",{detail:{resizedColumnKey:v.detail.resizedColumn._flowId}}))})),i.addEventListener("column-reorder",r(v=>{const w=i._columnTree.slice(0).pop().filter(x=>x._flowId).sort((x,A)=>x._order-A._order).map(x=>x._flowId);i.dispatchEvent(new CustomEvent("column-reorder-all-columns",{detail:{columns:w}}))})),i.addEventListener("cell-focus",r(v=>{const w=i.getEventContext(v);["header","body","footer"].indexOf(w.section)!==-1&&i.dispatchEvent(new CustomEvent("grid-cell-focus",{detail:{itemKey:w.item?w.item.key:null,internalColumnId:w.column?w.column._flowId:null,section:w.section}}))}));function B(v,w){if(v.defaultPrevented)return;const x=v.target,A=i.getEventContext(v),O=A.section;ic(x)||x instanceof HTMLLabelElement||A.item&&O!=="details"&&(v.itemKey=A.item.key,A.column&&(v.internalColumnId=A.column._flowId),i.dispatchEvent(new CustomEvent(w,{detail:v})))}i.cellClassNameGenerator=r(function(v,w){const x=w.item.style;if(!!x)return(x.row||"")+" "+(v&&x[v._flowId]||"")}),i.dropFilter=r(v=>!v.item.dropDisabled),i.dragFilter=r(v=>!v.item.dragDisabled),i.addEventListener("grid-dragstart",r(v=>{i._isSelected(v.detail.draggedItems[0])?(i.__selectionDragData?Object.keys(i.__selectionDragData).forEach(w=>{v.detail.setDragData(w,i.__selectionDragData[w])}):(i.__dragDataTypes||[]).forEach(w=>{v.detail.setDragData(w,v.detail.draggedItems.map(x=>x.dragData[w]).join(`
`))}),i.__selectionDraggedItemsCount>1&&v.detail.setDraggedItemsCount(i.__selectionDraggedItemsCount)):(i.__dragDataTypes||[]).forEach(w=>{v.detail.setDragData(w,v.detail.draggedItems[0].dragData[w])})}))})(e)}})();(function(){const r=function(e){return window.Vaadin.Flow.tryCatchWrapper(e,"Vaadin Grid Pro")};function t(e,i){return e.__edited&&e.__edited.model.item.key===i.item.key}window.Vaadin.Flow.gridProConnector={selectAll:e=>{e instanceof HTMLInputElement?e.select():e.focusElement&&e.focusElement instanceof HTMLInputElement&&e.focusElement.select()},setEditModeRenderer:(e,i)=>r(function(n,s){n.editModeRenderer=r(function(a,l,h){if(!t(this._grid,h)){this._grid._stopEdit();return}s.parentNode!==a&&(a.appendChild(s),this._grid._cancelStopEdit(),s.focus())}),n._setEditorValue=function(o,a){},n._getEditorValue=function(o){}})(e,i),patchEditModeRenderer:e=>r(function(i){i.__editModeRenderer=r(function(s,o,a){const l=s.assignedSlot.parentNode,h=o._grid;if(!t(h,a)){h._stopEdit();return}const u=o._getEditorTagName(l);(!s.firstElementChild||s.firstElementChild.localName.toLowerCase()!==u)&&(s.innerHTML=`<${u}></${u}>`)})})(e)}})();window.Vaadin.Flow.ironListConnector={initLazy:function(r){if(r.$connector)return;const t=20;let e=[0,0];r.$connector={},r.$connector.placeholderItem={__placeholder:!0};const i=function(){let a=r._virtualStart,l=r._virtualEnd,h=Math.max(0,a-t),u=Math.min(l+t,r.items.length);if(e[0]!=h||e[1]!=u){e=[h,u];const c=1+u-h;r.$server.setRequestedRange(h,c)}};let n;const s=function(){n=Pt.debounce(n,kt.after(10),i)},o=r._assignModels;r._assignModels=function(){const a=[],l=r._virtualStart,h=Math.min(r.items.length,r._physicalCount);for(let u=0;u<h;u++)r.items[l+u]===void 0&&(a.push(u),r.items[l+u]=r.$connector.placeholderItem);o.apply(r,arguments);for(let u=0;u<a.length;u++)delete r.items[l+a[u]];s()},r.items=[],r.$connector.set=function(a,l){for(let h=0;h<l.length;h++){const u=a+h;r.items[u]=l[h]}r._render()},r.$connector.updateData=function(a){const l=r.items,h={};let u=a.length;for(let c=0;c<a.length;c++){const d=a[c];h[d.key]=d}for(let c=0;c<l.length;c++){const d=l[c],f=h[d.key];if(f&&(r.items[c]=f,r.notifyPath("items."+c),u--,u==0))break}},r.$connector.clear=function(a,l){for(let h=0;h<l;h++){const u=a+h;delete r.items[u],r.notifyPath("items."+u)}},r.$connector.updateSize=function(a){const l=a-r.items.length;if(l>0)r.items.length=a,r.notifySplices("items",[{index:a-l,removed:[],addedCount:l,object:r.items,type:"splice"}]);else if(l<0){const h=r.items.slice(a,r.items.length);r.items.splice(a),r.notifySplices("items",[{index:a,removed:h,addedCount:0,object:r.items,type:"splice"}])}},r.$connector.setPlaceholderItem=function(a){a||(a={}),a.__placeholder=!0,r.$connector.placeholderItem=a}}};const bg=document.createElement("template");bg.innerHTML=`<style>
/* Fixes zero width in flex layouts */
iron-list {
  flex: auto;
  align-self: stretch;
}
</style>`;document.head.appendChild(bg.content);const Ra=window;Ra.Vaadin=Ra.Vaadin||{};Ra.Vaadin.setLitRenderer=(r,t,e,i,n,s)=>{const o=Function(`
    "use strict";

    const [render, html, returnChannel] = arguments;

    return (root, {item, index}, itemKey) => {
      ${n.map(l=>`
          const ${l} = (...args) => {
            if (itemKey !== undefined) {
              returnChannel('${l}', itemKey, args[0] instanceof Event ? [] : [...args]);
            }
          }`).join("")}

      render(html\`${e}\`, root)
    }
  `)(_b,mb,i),a=(l,h,{index:u,item:c})=>{l.__litRenderer!==a&&(l.innerHTML="",delete l._$litPart$,l.__litRenderer=a);const d={};for(const f in c)f.startsWith(s)&&(d[f.replace(s,"")]=c[f]);o(l,{index:u,item:d},c.key)};a.__rendererId=s,r[t]=a};Ra.Vaadin.unsetLitRenderer=(r,t,e)=>{var i;((i=r[t])==null?void 0:i.__rendererId)===e&&(r[t]=void 0)};(function(){function r(e){const i=e.$.vaadinLoginOverlayWrapper;i&&(i.className=e.className)}const t=new MutationObserver(e=>{e.forEach(i=>{i.type==="attributes"&&i.attributeName==="class"&&r(i.target)})});window.Vaadin.Flow.loginOverlayConnector={initLazy:function(e){e.$connector||(e.$connector={},e.addEventListener("opened-changed",i=>{i.detail.value&&r(e)}),t.observe(e,{attributes:!0,attributeFilter:["class"]}),r(e))}}})();(function(){const r=function(e){return window.Vaadin.Flow.tryCatchWrapper(e,"Vaadin Menu Bar")};function t(e,i){if(e.$connector)return;const n=new MutationObserver(s=>{s.some(a=>{const l=a.oldValue,h=a.target.getAttribute(a.attributeName);return l!==h})&&e.$connector.generateItems()});e.$connector={generateItems:r(s=>{if(!e.shadowRoot){setTimeout(()=>e.$connector.generateItems(s));return}s&&(e.__generatedItems=window.Vaadin.Flow.contextMenuConnector.generateItemsTree(i,s));let o=e.__generatedItems||[];o.forEach(a=>a.disabled=a.component.disabled),o=o.filter(a=>!a.component.hidden),o.forEach(a=>{n.observe(a.component,{attributeFilter:["hidden","disabled"],attributeOldValue:!0})}),e.items=o,e._buttons.forEach(a=>{a.item&&a.item.component&&a.addEventListener("click",l=>{l.composedPath().indexOf(a.item.component)===-1&&(a.item.component.click(),l.stopPropagation())})})})}}window.Vaadin.Flow.menubarConnector={initLazy(...e){return r(t)(...e)}}})();(function(){const r=function(t){return window.Vaadin.Flow.tryCatchWrapper(t,"Vaadin Message List")};window.Vaadin.Flow.messageListConnector={setItems:(t,e,i)=>r(function(n,s,o){const a=new Intl.DateTimeFormat(o,{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"});n.items=s.map(l=>l.time?Object.assign(l,{time:a.format(new Date(l.time))}):l)})(t,e,i)}})();(function(){const r=function(t){return window.Vaadin.Flow.tryCatchWrapper(t,"Vaadin Select")};window.Vaadin.Flow.selectConnector={initLazy:t=>r(function(e){const i=r(function(){for(let n=0;n<e.childElementCount;n++){const s=e.children[n];if(s.tagName.toUpperCase()==="VAADIN-SELECT-LIST-BOX")return s}});e.$connector||(e.$connector={},e.renderer=r(function(n){const s=i();s&&(n.firstChild&&n.removeChild(n.firstChild),n.appendChild(s))}))})(t)}})();const Bn=window;Bn.Vaadin=Bn.Vaadin||{};Bn.Vaadin.Flow=Bn.Vaadin.Flow||{};Bn.Vaadin.Flow.tooltip={setDefaultHideDelay:r=>Il.setDefaultHideDelay(r),setDefaultFocusDelay:r=>Il.setDefaultFocusDelay(r),setDefaultHoverDelay:r=>Il.setDefaultHoverDelay(r)};(function(){let r;customElements.whenDefined("vaadin-text-field").then(()=>{class t extends customElements.get("vaadin-text-field"){static get template(){return r||(r=super.template.cloneNode(!0),r.innerHTML+=`<style>
                  :host {
                    width: 8em;
                  }

                  :host([dir="rtl"]) [part="input-field"] {
                    direction: ltr;
                  }

                  :host([dir="rtl"]) [part="input-field"] ::slotted(input) {
                    --_lumo-text-field-overflow-mask-image: linear-gradient(to left, transparent, #000 1.25em) !important;
                  }
            </style>`),r}static get is(){return"vaadin-big-decimal-field"}static get properties(){return{_decimalSeparator:{type:String,value:".",observer:"__decimalSeparatorChanged"}}}ready(){super.ready(),this.inputElement.setAttribute("inputmode","decimal")}__decimalSeparatorChanged(i,n){this.allowedCharPattern="[\\d-+"+i+"]",this.value&&n&&(this.value=this.value.split(n).join(i))}}customElements.define(t.is,t)})})();{class r extends Jl{static get is(){return"vaadin-grid-flow-selection-column"}static get properties(){return{autoWidth:{type:Boolean,value:!0},width:{type:String,value:"56px"},flexGrow:{type:Number,value:0},selectAll:{type:Boolean,value:!1,notify:!0},indeterminate:{type:Boolean,value:!1,notify:!0},selectAllHidden:Boolean}}constructor(){super(),this._boundOnSelectEvent=this._onSelectEvent.bind(this),this._boundOnDeselectEvent=this._onDeselectEvent.bind(this)}static get observers(){return["_onHeaderRendererOrBindingChanged(_headerRenderer, _headerCell, path, header, selectAll, indeterminate, selectAllHidden)"]}connectedCallback(){super.connectedCallback(),this._grid&&(this._grid.addEventListener("select",this._boundOnSelectEvent),this._grid.addEventListener("deselect",this._boundOnDeselectEvent))}disconnectedCallback(){super.disconnectedCallback(),this._grid&&(this._grid.removeEventListener("select",this._boundOnSelectEvent),this._grid.removeEventListener("deselect",this._boundOnDeselectEvent))}_defaultHeaderRenderer(e,i){let n=e.firstElementChild;n||(n=document.createElement("vaadin-checkbox"),n.id="selectAllCheckbox",n.setAttribute("aria-label","Select All"),n.classList.add("vaadin-grid-select-all-checkbox"),n.addEventListener("click",this._onSelectAllClick.bind(this)),e.appendChild(n));const s=this.selectAll;n.hidden=this.selectAllHidden,n.checked=s,n.indeterminate=this.indeterminate}_defaultRenderer(e,i,{item:n,selected:s}){let o=e.firstElementChild;o||(o=document.createElement("vaadin-checkbox"),o.setAttribute("aria-label","Select Row"),o.addEventListener("click",this._onSelectClick.bind(this)),e.appendChild(o)),o.__item=n,o.checked=s}_onSelectClick(e){e.currentTarget.checked?this._grid.$connector.doDeselection([e.currentTarget.__item],!0):this._grid.$connector.doSelection([e.currentTarget.__item],!0)}_onSelectAllClick(e){if(e.preventDefault(),this._grid.hasAttribute("disabled")){e.currentTarget.checked=!e.currentTarget.checked;return}this.selectAll?this.$server.deselectAll():this.$server.selectAll()}_onSelectEvent(e){}_onDeselectEvent(e){e.detail.userOriginated&&(this.selectAll=!1)}}customElements.define(r.is,r),Vaadin.GridFlowSelectionColumnElement=r}var qr={RADIANS:"radians",DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},pt={};pt[qr.RADIANS]=6370997/(2*Math.PI);pt[qr.DEGREES]=2*Math.PI*6370997/360;pt[qr.FEET]=.3048;pt[qr.METERS]=1;pt[qr.USFEET]=1200/3937;const Yt=qr;var RS=function(){function r(t){this.code_=t.code,this.units_=t.units,this.extent_=t.extent!==void 0?t.extent:null,this.worldExtent_=t.worldExtent!==void 0?t.worldExtent:null,this.axisOrientation_=t.axisOrientation!==void 0?t.axisOrientation:"enu",this.global_=t.global!==void 0?t.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}return r.prototype.canWrapX=function(){return this.canWrapX_},r.prototype.getCode=function(){return this.code_},r.prototype.getExtent=function(){return this.extent_},r.prototype.getUnits=function(){return this.units_},r.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||pt[this.units_]},r.prototype.getWorldExtent=function(){return this.worldExtent_},r.prototype.getAxisOrientation=function(){return this.axisOrientation_},r.prototype.isGlobal=function(){return this.global_},r.prototype.setGlobal=function(t){this.global_=t,this.canWrapX_=!!(t&&this.extent_)},r.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},r.prototype.setDefaultTileGrid=function(t){this.defaultTileGrid_=t},r.prototype.setExtent=function(t){this.extent_=t,this.canWrapX_=!!(this.global_&&t)},r.prototype.setWorldExtent=function(t){this.worldExtent_=t},r.prototype.setGetPointResolution=function(t){this.getPointResolutionFunc_=t},r.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},r}();const bc=RS;function Te(r,t,e){return Math.min(Math.max(r,t),e)}var PS=function(){var r;return"cosh"in Math?r=Math.cosh:r=function(t){var e=Math.exp(t);return(e+1/e)/2},r}(),kS=function(){var r;return"log2"in Math?r=Math.log2:r=function(t){return Math.log(t)*Math.LOG2E},r}();function DS(r,t,e,i,n,s){var o=n-e,a=s-i;if(o!==0||a!==0){var l=((r-e)*o+(t-i)*a)/(o*o+a*a);l>1?(e=n,i=s):l>0&&(e+=o*l,i+=a*l)}return Tr(r,t,e,i)}function Tr(r,t,e,i){var n=e-r,s=i-t;return n*n+s*s}function LS(r){for(var t=r.length,e=0;e<t;e++){for(var i=e,n=Math.abs(r[e][e]),s=e+1;s<t;s++){var o=Math.abs(r[s][e]);o>n&&(n=o,i=s)}if(n===0)return null;var a=r[i];r[i]=r[e],r[e]=a;for(var l=e+1;l<t;l++)for(var h=-r[l][e]/r[e][e],u=e;u<t+1;u++)e==u?r[l][u]=0:r[l][u]+=h*r[e][u]}for(var c=new Array(t),d=t-1;d>=0;d--){c[d]=r[d][t]/r[d][d];for(var f=d-1;f>=0;f--)r[f][t]-=r[f][d]*c[d]}return c}function Mo(r){return r*Math.PI/180}function Wi(r,t){var e=r%t;return e*t<0?e+t:e}function Fi(r,t,e){return r+e*(t-r)}function wc(r,t){var e=Math.pow(10,t);return Math.round(r*e)/e}function w_(r,t){return Math.round(wc(r,t))}function yr(r,t){return Math.floor(wc(r,t))}function di(r,t){return Math.ceil(wc(r,t))}var FS=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),ss=6378137,br=Math.PI*ss,$S=[-br,-br,br,br],NS=[-180,-85,180,85],ks=ss*Math.log(Math.tan(Math.PI/2)),ur=function(r){FS(t,r);function t(e){return r.call(this,{code:e,units:Yt.METERS,extent:$S,global:!0,worldExtent:NS,getPointResolution:function(i,n){return i/PS(n[1]/ss)}})||this}return t}(bc),x_=[new ur("EPSG:3857"),new ur("EPSG:102100"),new ur("EPSG:102113"),new ur("EPSG:900913"),new ur("http://www.opengis.net/def/crs/EPSG/0/3857"),new ur("http://www.opengis.net/gml/srs/epsg.xml#3857")];function zS(r,t,e){var i=r.length,n=e>1?e:2,s=t;s===void 0&&(n>2?s=r.slice():s=new Array(i));for(var o=0;o<i;o+=n){s[o]=br*r[o]/180;var a=ss*Math.log(Math.tan(Math.PI*(+r[o+1]+90)/360));a>ks?a=ks:a<-ks&&(a=-ks),s[o+1]=a}return s}function BS(r,t,e){var i=r.length,n=e>1?e:2,s=t;s===void 0&&(n>2?s=r.slice():s=new Array(i));for(var o=0;o<i;o+=n)s[o]=180*r[o]/br,s[o+1]=360*Math.atan(Math.exp(r[o+1]/ss))/Math.PI-90;return s}var VS=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),GS=6378137,C_=[-180,-90,180,90],HS=Math.PI*GS/180,Di=function(r){VS(t,r);function t(e,i){return r.call(this,{code:e,units:Yt.DEGREES,extent:C_,axisOrientation:i,global:!0,metersPerUnit:HS,worldExtent:C_})||this}return t}(bc),A_=[new Di("CRS:84"),new Di("EPSG:4326","neu"),new Di("urn:ogc:def:crs:OGC:1.3:CRS84"),new Di("urn:ogc:def:crs:OGC:2:84"),new Di("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new Di("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Di("http://www.opengis.net/def/crs/EPSG/0/4326","neu")],Pu={};function US(r){return Pu[r]||Pu[r.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function WS(r,t){Pu[r]=t}var ge=typeof Object.assign=="function"?Object.assign:function(r,t){if(r==null)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(r),i=1,n=arguments.length;i<n;++i){var s=arguments[i];if(s!=null)for(var o in s)s.hasOwnProperty(o)&&(e[o]=s[o])}return e};function xc(r){for(var t in r)delete r[t]}var YS=typeof Object.values=="function"?Object.values:function(r){var t=[];for(var e in r)t.push(r[e]);return t};function Vn(r){var t;for(t in r)return!1;return!t}var Or={};function Fr(r,t,e){var i=r.getCode(),n=t.getCode();i in Or||(Or[i]={}),Or[i][n]=e}function wg(r,t){var e;return r in Or&&t in Or[r]&&(e=Or[r][t]),e}const bn={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"},Pe={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function se(){return function(){throw new Error("Unimplemented abstract method.")}()}var jS=0;function pe(r){return r.ol_uid||(r.ol_uid=String(++jS))}var qS="6.13.0",XS=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),KS=function(r){XS(t,r);function t(e){var i=this,n="v"+qS.split("-")[0],s="Assertion failed. See https://openlayers.org/en/"+n+"/doc/errors/#"+e+" for details.";return i=r.call(this,s)||this,i.code=e,i.name="AssertionError",i.message=s,i}return t}(Error);const xg=KS;function oe(r,t){if(!r)throw new xg(t)}function E_(r){for(var t=_t(),e=0,i=r.length;e<i;++e)kn(t,r[e]);return t}function ZS(r,t,e){var i=Math.min.apply(null,r),n=Math.min.apply(null,t),s=Math.max.apply(null,r),o=Math.max.apply(null,t);return Lt(i,n,s,o,e)}function Gn(r,t,e){return e?(e[0]=r[0]-t,e[1]=r[1]-t,e[2]=r[2]+t,e[3]=r[3]+t,e):[r[0]-t,r[1]-t,r[2]+t,r[3]+t]}function QS(r,t){return t?(t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t):r.slice()}function Cg(r,t,e){var i,n;return t<r[0]?i=r[0]-t:r[2]<t?i=t-r[2]:i=0,e<r[1]?n=r[1]-e:r[3]<e?n=e-r[3]:n=0,i*i+n*n}function Xr(r,t){return Ag(r,t[0],t[1])}function fi(r,t){return r[0]<=t[0]&&t[2]<=r[2]&&r[1]<=t[1]&&t[3]<=r[3]}function Ag(r,t,e){return r[0]<=t&&t<=r[2]&&r[1]<=e&&e<=r[3]}function ku(r,t){var e=r[0],i=r[1],n=r[2],s=r[3],o=t[0],a=t[1],l=Pe.UNKNOWN;return o<e?l=l|Pe.LEFT:o>n&&(l=l|Pe.RIGHT),a<i?l=l|Pe.BELOW:a>s&&(l=l|Pe.ABOVE),l===Pe.UNKNOWN&&(l=Pe.INTERSECTING),l}function _t(){return[1/0,1/0,-1/0,-1/0]}function Lt(r,t,e,i,n){return n?(n[0]=r,n[1]=t,n[2]=e,n[3]=i,n):[r,t,e,i]}function Cc(r){return Lt(1/0,1/0,-1/0,-1/0,r)}function JS(r,t){var e=r[0],i=r[1];return Lt(e,i,e,i,t)}function eT(r,t,e,i,n){var s=Cc(n);return Eg(s,r,t,e,i)}function ll(r,t){return r[0]==t[0]&&r[2]==t[2]&&r[1]==t[1]&&r[3]==t[3]}function tT(r,t){return t[0]<r[0]&&(r[0]=t[0]),t[2]>r[2]&&(r[2]=t[2]),t[1]<r[1]&&(r[1]=t[1]),t[3]>r[3]&&(r[3]=t[3]),r}function kn(r,t){t[0]<r[0]&&(r[0]=t[0]),t[0]>r[2]&&(r[2]=t[0]),t[1]<r[1]&&(r[1]=t[1]),t[1]>r[3]&&(r[3]=t[1])}function Eg(r,t,e,i,n){for(;e<i;e+=n)iT(r,t[e],t[e+1]);return r}function iT(r,t,e){r[0]=Math.min(r[0],t),r[1]=Math.min(r[1],e),r[2]=Math.max(r[2],t),r[3]=Math.max(r[3],e)}function Ig(r,t){var e;return e=t(hl(r)),e||(e=t(ul(r)),e)||(e=t(cl(r)),e)||(e=t(tr(r)),e)?e:!1}function Du(r){var t=0;return Ac(r)||(t=_e(r)*Ve(r)),t}function hl(r){return[r[0],r[1]]}function ul(r){return[r[2],r[1]]}function Ci(r){return[(r[0]+r[2])/2,(r[1]+r[3])/2]}function rT(r,t){var e;return t===bn.BOTTOM_LEFT?e=hl(r):t===bn.BOTTOM_RIGHT?e=ul(r):t===bn.TOP_LEFT?e=tr(r):t===bn.TOP_RIGHT?e=cl(r):oe(!1,13),e}function Ro(r,t,e,i,n){var s=t*i[0]/2,o=t*i[1]/2,a=Math.cos(e),l=Math.sin(e),h=s*a,u=s*l,c=o*a,d=o*l,f=r[0],p=r[1],_=f-h+d,m=f-h-d,g=f+h-d,y=f+h+d,b=p-u-c,C=p-u+c,E=p+u+c,I=p+u-c;return Lt(Math.min(_,m,g,y),Math.min(b,C,E,I),Math.max(_,m,g,y),Math.max(b,C,E,I),n)}function Ve(r){return r[3]-r[1]}function Mr(r,t,e){var i=e||_t();return je(r,t)?(r[0]>t[0]?i[0]=r[0]:i[0]=t[0],r[1]>t[1]?i[1]=r[1]:i[1]=t[1],r[2]<t[2]?i[2]=r[2]:i[2]=t[2],r[3]<t[3]?i[3]=r[3]:i[3]=t[3]):Cc(i),i}function tr(r){return[r[0],r[3]]}function cl(r){return[r[2],r[3]]}function _e(r){return r[2]-r[0]}function je(r,t){return r[0]<=t[2]&&r[2]>=t[0]&&r[1]<=t[3]&&r[3]>=t[1]}function Ac(r){return r[2]<r[0]||r[3]<r[1]}function nT(r,t){return t?(t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t):r}function sT(r,t,e){var i=!1,n=ku(r,t),s=ku(r,e);if(n===Pe.INTERSECTING||s===Pe.INTERSECTING)i=!0;else{var o=r[0],a=r[1],l=r[2],h=r[3],u=t[0],c=t[1],d=e[0],f=e[1],p=(f-c)/(d-u),_=void 0,m=void 0;!!(s&Pe.ABOVE)&&!(n&Pe.ABOVE)&&(_=d-(f-h)/p,i=_>=o&&_<=l),!i&&!!(s&Pe.RIGHT)&&!(n&Pe.RIGHT)&&(m=f-(d-l)*p,i=m>=a&&m<=h),!i&&!!(s&Pe.BELOW)&&!(n&Pe.BELOW)&&(_=d-(f-a)/p,i=_>=o&&_<=l),!i&&!!(s&Pe.LEFT)&&!(n&Pe.LEFT)&&(m=f-(d-o)*p,i=m>=a&&m<=h)}return i}function oT(r,t,e,i){var n=[];if(i>1)for(var s=r[2]-r[0],o=r[3]-r[1],a=0;a<i;++a)n.push(r[0]+s*a/i,r[1],r[2],r[1]+o*a/i,r[2]-s*a/i,r[3],r[0],r[3]-o*a/i);else n=[r[0],r[1],r[2],r[1],r[2],r[3],r[0],r[3]];t(n,n,2);for(var l=[],h=[],a=0,u=n.length;a<u;a+=2)l.push(n[a]),h.push(n[a+1]);return ZS(l,h,e)}function aT(r,t){var e=t.getExtent(),i=Ci(r);if(t.canWrapX()&&(i[0]<e[0]||i[0]>=e[2])){var n=_e(e),s=Math.floor((i[0]-e[0])/n),o=s*n;r[0]-=o,r[2]-=o}return r}function Sg(r,t){for(var e=(""+r).split("."),i=(""+t).split("."),n=0;n<Math.max(e.length,i.length);n++){var s=parseInt(e[n]||"0",10),o=parseInt(i[n]||"0",10);if(s>o)return 1;if(o>s)return-1}return 0}function lT(r,t){return r[0]+=+t[0],r[1]+=+t[1],r}function Pa(r,t){for(var e=!0,i=r.length-1;i>=0;--i)if(r[i]!=t[i]){e=!1;break}return e}function hT(r,t){var e=Math.cos(t),i=Math.sin(t),n=r[0]*e-r[1]*i,s=r[1]*e+r[0]*i;return r[0]=n,r[1]=s,r}function uT(r,t){if(t.canWrapX()){var e=_e(t.getExtent()),i=Tg(r,t,e);i&&(r[0]-=i*e)}return r}function Tg(r,t,e){var i=t.getExtent(),n=0;if(t.canWrapX()&&(r[0]<i[0]||r[0]>i[2])){var s=e||_e(i);n=Math.floor((r[0]-i[0])/s)}return n}const ee={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"};var cT=63710088e-1;function I_(r,t,e){var i=e||cT,n=Mo(r[1]),s=Mo(t[1]),o=(s-n)/2,a=Mo(t[0]-r[0])/2,l=Math.sin(o)*Math.sin(o)+Math.sin(a)*Math.sin(a)*Math.cos(n)*Math.cos(s);return 2*i*Math.atan2(Math.sqrt(l),Math.sqrt(1-l))}var Lu=!0;function dT(r){var t=r===void 0?!0:r;Lu=!t}function Ec(r,t,e){var i;if(t!==void 0){for(var n=0,s=r.length;n<s;++n)t[n]=r[n];i=t}else i=r.slice();return i}function Og(r,t,e){if(t!==void 0&&r!==t){for(var i=0,n=r.length;i<n;++i)t[i]=r[i];r=t}return r}function Mg(r){WS(r.getCode(),r),Fr(r,r,Ec)}function fT(r){r.forEach(Mg)}function Oe(r){return typeof r=="string"?US(r):r||null}function S_(r,t,e,i){r=Oe(r);var n,s=r.getPointResolutionFunc();if(s){if(n=s(t,e),i&&i!==r.getUnits()){var o=r.getMetersPerUnit();o&&(n=n*o/pt[i])}}else{var a=r.getUnits();if(a==Yt.DEGREES&&!i||i==Yt.DEGREES)n=t;else{var l=dl(r,Oe("EPSG:4326"));if(l===Og&&a!==Yt.DEGREES)n=t*r.getMetersPerUnit();else{var h=[e[0]-t/2,e[1],e[0]+t/2,e[1],e[0],e[1]-t/2,e[0],e[1]+t/2];h=l(h,h,2);var u=I_(h.slice(0,2),h.slice(2,4)),c=I_(h.slice(4,6),h.slice(6,8));n=(u+c)/2}var o=i?pt[i]:r.getMetersPerUnit();o!==void 0&&(n/=o)}}return n}function Fu(r){fT(r),r.forEach(function(t){r.forEach(function(e){t!==e&&Fr(t,e,Ec)})})}function pT(r,t,e,i){r.forEach(function(n){t.forEach(function(s){Fr(n,s,e),Fr(s,n,i)})})}function Ic(r,t){return r?typeof r=="string"?Oe(r):r:Oe(t)}function T_(r){return function(t,e,i){for(var n=t.length,s=i!==void 0?i:2,o=e!==void 0?e:new Array(n),a=0;a<n;a+=s){var l=r([t[a],t[a+1]]);o[a]=l[0],o[a+1]=l[1];for(var h=s-1;h>=2;--h)o[a+h]=t[a+h]}return o}}function _T(r,t,e,i){var n=Oe(r),s=Oe(t);Fr(n,s,T_(e)),Fr(s,n,T_(i))}function ui(r,t){if(r===t)return!0;var e=r.getUnits()===t.getUnits();if(r.getCode()===t.getCode())return e;var i=dl(r,t);return i===Ec&&e}function dl(r,t){var e=r.getCode(),i=t.getCode(),n=wg(e,i);return n||(n=Og),n}function Hn(r,t){var e=Oe(r),i=Oe(t);return dl(e,i)}function os(r,t,e){var i=Hn(t,e);return i(r,void 0,r.length)}function Sc(r,t,e,i){var n=Hn(t,e);return oT(r,n,void 0,i)}var mt=null;function Rg(r){mt=Oe(r)}function Pg(){return mt}function O_(r,t){return mt?os(r,t,mt):r}function ii(r,t){return mt?os(r,mt,t):(Lu&&!Pa(r,[0,0])&&r[0]>=-180&&r[0]<=180&&r[1]>=-90&&r[1]<=90&&(Lu=!1,console.warn("Call useGeographic() ol/proj once to work with [longitude, latitude] coordinates.")),r)}function $u(r,t){return mt?Sc(r,t,mt):r}function Ut(r,t){return mt?Sc(r,mt,t):r}function mT(r,t){if(!mt)return r;var e=Oe(t).getUnits(),i=mt.getUnits();return e&&i?r*pt[e]/pt[i]:r}function M_(r,t,e){return function(i){var n=i[0],s=i[1],o,a;if(r.canWrapX()){var l=r.getExtent(),h=_e(l);a=Tg(i,r,h),a&&(n=n-a*h),n=Te(n,l[0],l[2]),s=Te(s,l[1],l[3]),o=e([n,s])}else o=e(i);return a&&t.canWrapX()&&(o[0]+=a*_e(t.getExtent())),o}}function vT(){Fu(x_),Fu(A_),pT(A_,x_,zS,BS)}vT();function gT(r){var t=Object.keys(r.defs),e=t.length,i,n;for(i=0;i<e;++i){var s=t[i];if(!Oe(s)){var o=r.defs(s),a=o.units;!a&&o.projName==="longlat"&&(a=Yt.DEGREES),Mg(new bc({code:s,axisOrientation:o.axis,metersPerUnit:o.to_meter,units:a}))}}for(i=0;i<e;++i){var l=t[i],h=Oe(l);for(n=0;n<e;++n){var u=t[n],c=Oe(u);if(!wg(l,u))if(r.defs[l]===r.defs[u])Fu([h,c]);else{var d=r(l,u);_T(h,c,M_(h,c,d.forward),M_(c,h,d.inverse))}}}}function yT(r){r("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),r("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),r("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),r.WGS84=r["EPSG:4326"],r["EPSG:3785"]=r["EPSG:3857"],r.GOOGLE=r["EPSG:3857"],r["EPSG:900913"]=r["EPSG:3857"],r["EPSG:102113"]=r["EPSG:3857"]}var Xi=1,Ki=2,Rr=3,bT=4,Nu=5,R_=6378137,wT=6356752314e-3,P_=.0066943799901413165,Dn=484813681109536e-20,P=Math.PI/2,xT=.16666666666666666,CT=.04722222222222222,AT=.022156084656084655,$=1e-10,Fe=.017453292519943295,Mt=57.29577951308232,le=Math.PI/4,Un=Math.PI*2,Ee=3.14159265359,rt={};rt.greenwich=0;rt.lisbon=-9.131906111111;rt.paris=2.337229166667;rt.bogota=-74.080916666667;rt.madrid=-3.687938888889;rt.rome=12.452333333333;rt.bern=7.439583333333;rt.jakarta=106.807719444444;rt.ferro=-17.666666666667;rt.brussels=4.367975;rt.stockholm=18.058277777778;rt.athens=23.7163375;rt.oslo=10.722916666667;const ET={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}};var k_=/[\s_\-\/\(\)]/g;function Ai(r,t){if(r[t])return r[t];for(var e=Object.keys(r),i=t.toLowerCase().replace(k_,""),n=-1,s,o;++n<e.length;)if(s=e[n],o=s.toLowerCase().replace(k_,""),o===i)return r[s]}function zu(r){var t={},e=r.split("+").map(function(a){return a.trim()}).filter(function(a){return a}).reduce(function(a,l){var h=l.split("=");return h.push(!0),a[h[0].toLowerCase()]=h[1],a},{}),i,n,s,o={proj:"projName",datum:"datumCode",rf:function(a){t.rf=parseFloat(a)},lat_0:function(a){t.lat0=a*Fe},lat_1:function(a){t.lat1=a*Fe},lat_2:function(a){t.lat2=a*Fe},lat_ts:function(a){t.lat_ts=a*Fe},lon_0:function(a){t.long0=a*Fe},lon_1:function(a){t.long1=a*Fe},lon_2:function(a){t.long2=a*Fe},alpha:function(a){t.alpha=parseFloat(a)*Fe},gamma:function(a){t.rectified_grid_angle=parseFloat(a)},lonc:function(a){t.longc=a*Fe},x_0:function(a){t.x0=parseFloat(a)},y_0:function(a){t.y0=parseFloat(a)},k_0:function(a){t.k0=parseFloat(a)},k:function(a){t.k0=parseFloat(a)},a:function(a){t.a=parseFloat(a)},b:function(a){t.b=parseFloat(a)},r_a:function(){t.R_A=!0},zone:function(a){t.zone=parseInt(a,10)},south:function(){t.utmSouth=!0},towgs84:function(a){t.datum_params=a.split(",").map(function(l){return parseFloat(l)})},to_meter:function(a){t.to_meter=parseFloat(a)},units:function(a){t.units=a;var l=Ai(ET,a);l&&(t.to_meter=l.to_meter)},from_greenwich:function(a){t.from_greenwich=a*Fe},pm:function(a){var l=Ai(rt,a);t.from_greenwich=(l||parseFloat(a))*Fe},nadgrids:function(a){a==="@null"?t.datumCode="none":t.nadgrids=a},axis:function(a){var l="ewnsud";a.length===3&&l.indexOf(a.substr(0,1))!==-1&&l.indexOf(a.substr(1,1))!==-1&&l.indexOf(a.substr(2,1))!==-1&&(t.axis=a)},approx:function(){t.approx=!0}};for(i in e)n=e[i],i in o?(s=o[i],typeof s=="function"?s(n):t[s]=n):t[i]=n;return typeof t.datumCode=="string"&&t.datumCode!=="WGS84"&&(t.datumCode=t.datumCode.toLowerCase()),t}var Wn=1,kg=2,Dg=3,ka=4,Lg=5,Tc=-1,IT=/\s/,ST=/[A-Za-z]/,TT=/[A-Za-z84_]/,fl=/[,\]]/,Fg=/[\d\.E\-\+]/;function Kt(r){if(typeof r!="string")throw new Error("not a string");this.text=r.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=Wn}Kt.prototype.readCharicter=function(){var r=this.text[this.place++];if(this.state!==ka)for(;IT.test(r);){if(this.place>=this.text.length)return;r=this.text[this.place++]}switch(this.state){case Wn:return this.neutral(r);case kg:return this.keyword(r);case ka:return this.quoted(r);case Lg:return this.afterquote(r);case Dg:return this.number(r);case Tc:return}};Kt.prototype.afterquote=function(r){if(r==='"'){this.word+='"',this.state=ka;return}if(fl.test(r)){this.word=this.word.trim(),this.afterItem(r);return}throw new Error(`havn't handled "`+r+'" in afterquote yet, index '+this.place)};Kt.prototype.afterItem=function(r){if(r===","){this.word!==null&&this.currentObject.push(this.word),this.word=null,this.state=Wn;return}if(r==="]"){this.level--,this.word!==null&&(this.currentObject.push(this.word),this.word=null),this.state=Wn,this.currentObject=this.stack.pop(),this.currentObject||(this.state=Tc);return}};Kt.prototype.number=function(r){if(Fg.test(r)){this.word+=r;return}if(fl.test(r)){this.word=parseFloat(this.word),this.afterItem(r);return}throw new Error(`havn't handled "`+r+'" in number yet, index '+this.place)};Kt.prototype.quoted=function(r){if(r==='"'){this.state=Lg;return}this.word+=r};Kt.prototype.keyword=function(r){if(TT.test(r)){this.word+=r;return}if(r==="["){var t=[];t.push(this.word),this.level++,this.root===null?this.root=t:this.currentObject.push(t),this.stack.push(this.currentObject),this.currentObject=t,this.state=Wn;return}if(fl.test(r)){this.afterItem(r);return}throw new Error(`havn't handled "`+r+'" in keyword yet, index '+this.place)};Kt.prototype.neutral=function(r){if(ST.test(r)){this.word=r,this.state=kg;return}if(r==='"'){this.word="",this.state=ka;return}if(Fg.test(r)){this.word=r,this.state=Dg;return}if(fl.test(r)){this.afterItem(r);return}throw new Error(`havn't handled "`+r+'" in neutral yet, index '+this.place)};Kt.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(this.state===Tc)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};function OT(r){var t=new Kt(r);return t.output()}function D_(r,t,e){Array.isArray(t)&&(e.unshift(t),t=null);var i=t?{}:r,n=e.reduce(function(s,o){return wr(o,s),s},i);t&&(r[t]=n)}function wr(r,t){if(!Array.isArray(r)){t[r]=!0;return}var e=r.shift();if(e==="PARAMETER"&&(e=r.shift()),r.length===1){if(Array.isArray(r[0])){t[e]={},wr(r[0],t[e]);return}t[e]=r[0];return}if(!r.length){t[e]=!0;return}if(e==="TOWGS84"){t[e]=r;return}if(e==="AXIS"){e in t||(t[e]=[]),t[e].push(r);return}Array.isArray(e)||(t[e]={});var i;switch(e){case"UNIT":case"PRIMEM":case"VERT_DATUM":t[e]={name:r[0].toLowerCase(),convert:r[1]},r.length===3&&wr(r[2],t[e]);return;case"SPHEROID":case"ELLIPSOID":t[e]={name:r[0],a:r[1],rf:r[2]},r.length===4&&wr(r[3],t[e]);return;case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":r[0]=["name",r[0]],D_(t,e,r);return;default:for(i=-1;++i<r.length;)if(!Array.isArray(r[i]))return wr(r,t[e]);return D_(t,e,r)}}var MT=.017453292519943295;function RT(r,t){var e=t[0],i=t[1];!(e in r)&&i in r&&(r[e]=r[i],t.length===3&&(r[e]=t[2](r[e])))}function Bt(r){return r*MT}function PT(r){if(r.type==="GEOGCS"?r.projName="longlat":r.type==="LOCAL_CS"?(r.projName="identity",r.local=!0):typeof r.PROJECTION=="object"?r.projName=Object.keys(r.PROJECTION)[0]:r.projName=r.PROJECTION,r.AXIS){for(var t="",e=0,i=r.AXIS.length;e<i;++e){var n=[r.AXIS[e][0].toLowerCase(),r.AXIS[e][1].toLowerCase()];n[0].indexOf("north")!==-1||(n[0]==="y"||n[0]==="lat")&&n[1]==="north"?t+="n":n[0].indexOf("south")!==-1||(n[0]==="y"||n[0]==="lat")&&n[1]==="south"?t+="s":n[0].indexOf("east")!==-1||(n[0]==="x"||n[0]==="lon")&&n[1]==="east"?t+="e":(n[0].indexOf("west")!==-1||(n[0]==="x"||n[0]==="lon")&&n[1]==="west")&&(t+="w")}t.length===2&&(t+="u"),t.length===3&&(r.axis=t)}r.UNIT&&(r.units=r.UNIT.name.toLowerCase(),r.units==="metre"&&(r.units="meter"),r.UNIT.convert&&(r.type==="GEOGCS"?r.DATUM&&r.DATUM.SPHEROID&&(r.to_meter=r.UNIT.convert*r.DATUM.SPHEROID.a):r.to_meter=r.UNIT.convert));var s=r.GEOGCS;r.type==="GEOGCS"&&(s=r),s&&(s.DATUM?r.datumCode=s.DATUM.name.toLowerCase():r.datumCode=s.name.toLowerCase(),r.datumCode.slice(0,2)==="d_"&&(r.datumCode=r.datumCode.slice(2)),(r.datumCode==="new_zealand_geodetic_datum_1949"||r.datumCode==="new_zealand_1949")&&(r.datumCode="nzgd49"),(r.datumCode==="wgs_1984"||r.datumCode==="world_geodetic_system_1984")&&(r.PROJECTION==="Mercator_Auxiliary_Sphere"&&(r.sphere=!0),r.datumCode="wgs84"),r.datumCode.slice(-6)==="_ferro"&&(r.datumCode=r.datumCode.slice(0,-6)),r.datumCode.slice(-8)==="_jakarta"&&(r.datumCode=r.datumCode.slice(0,-8)),~r.datumCode.indexOf("belge")&&(r.datumCode="rnb72"),s.DATUM&&s.DATUM.SPHEROID&&(r.ellps=s.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),r.ellps.toLowerCase().slice(0,13)==="international"&&(r.ellps="intl"),r.a=s.DATUM.SPHEROID.a,r.rf=parseFloat(s.DATUM.SPHEROID.rf,10)),s.DATUM&&s.DATUM.TOWGS84&&(r.datum_params=s.DATUM.TOWGS84),~r.datumCode.indexOf("osgb_1936")&&(r.datumCode="osgb36"),~r.datumCode.indexOf("osni_1952")&&(r.datumCode="osni52"),(~r.datumCode.indexOf("tm65")||~r.datumCode.indexOf("geodetic_datum_of_1965"))&&(r.datumCode="ire65"),r.datumCode==="ch1903+"&&(r.datumCode="ch1903"),~r.datumCode.indexOf("israel")&&(r.datumCode="isr93")),r.b&&!isFinite(r.b)&&(r.b=r.a);function o(h){var u=r.to_meter||1;return h*u}var a=function(h){return RT(r,h)},l=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",Bt],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",Bt],["x0","false_easting",o],["y0","false_northing",o],["long0","central_meridian",Bt],["lat0","latitude_of_origin",Bt],["lat0","standard_parallel_1",Bt],["lat1","standard_parallel_1",Bt],["lat2","standard_parallel_2",Bt],["azimuth","Azimuth"],["alpha","azimuth",Bt],["srsCode","name"]];l.forEach(a),!r.long0&&r.longc&&(r.projName==="Albers_Conic_Equal_Area"||r.projName==="Lambert_Azimuthal_Equal_Area")&&(r.long0=r.longc),!r.lat_ts&&r.lat1&&(r.projName==="Stereographic_South_Pole"||r.projName==="Polar Stereographic (variant B)")&&(r.lat0=Bt(r.lat1>0?90:-90),r.lat_ts=r.lat1)}function $g(r){var t=OT(r),e=t.shift(),i=t.shift();t.unshift(["name",i]),t.unshift(["type",e]);var n={};return wr(t,n),PT(n),n}function We(r){var t=this;if(arguments.length===2){var e=arguments[1];typeof e=="string"?e.charAt(0)==="+"?We[r]=zu(arguments[1]):We[r]=$g(arguments[1]):We[r]=e}else if(arguments.length===1){if(Array.isArray(r))return r.map(function(i){Array.isArray(i)?We.apply(t,i):We(i)});if(typeof r=="string"){if(r in We)return We[r]}else"EPSG"in r?We["EPSG:"+r.EPSG]=r:"ESRI"in r?We["ESRI:"+r.ESRI]=r:"IAU2000"in r?We["IAU2000:"+r.IAU2000]=r:console.log(r);return}}yT(We);function kT(r){return typeof r=="string"}function DT(r){return r in We}var LT=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function FT(r){return LT.some(function(t){return r.indexOf(t)>-1})}var $T=["3857","900913","3785","102113"];function NT(r){var t=Ai(r,"authority");if(!!t){var e=Ai(t,"epsg");return e&&$T.indexOf(e)>-1}}function zT(r){var t=Ai(r,"extension");if(!!t)return Ai(t,"proj4")}function BT(r){return r[0]==="+"}function VT(r){if(kT(r)){if(DT(r))return We[r];if(FT(r)){var t=$g(r);if(NT(t))return We["EPSG:3857"];var e=zT(t);return e?zu(e):t}if(BT(r))return zu(r)}else return r}function L_(r,t){r=r||{};var e,i;if(!t)return r;for(i in t)e=t[i],e!==void 0&&(r[i]=e);return r}function Ft(r,t,e){var i=r*t;return e/Math.sqrt(1-i*i)}function as(r){return r<0?-1:1}function G(r){return Math.abs(r)<=Ee?r:r-as(r)*Un}function Ct(r,t,e){var i=r*e,n=.5*r;return i=Math.pow((1-i)/(1+i),n),Math.tan(.5*(P-t))/i}function Yn(r,t){for(var e=.5*r,i,n,s=P-2*Math.atan(t),o=0;o<=15;o++)if(i=r*Math.sin(s),n=P-2*Math.atan(t*Math.pow((1-i)/(1+i),e))-s,s+=n,Math.abs(n)<=1e-10)return s;return-9999}function GT(){var r=this.b/this.a;this.es=1-r*r,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=Ft(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function HT(r){var t=r.x,e=r.y;if(e*Mt>90&&e*Mt<-90&&t*Mt>180&&t*Mt<-180)return null;var i,n;if(Math.abs(Math.abs(e)-P)<=$)return null;if(this.sphere)i=this.x0+this.a*this.k0*G(t-this.long0),n=this.y0+this.a*this.k0*Math.log(Math.tan(le+.5*e));else{var s=Math.sin(e),o=Ct(this.e,e,s);i=this.x0+this.a*this.k0*G(t-this.long0),n=this.y0-this.a*this.k0*Math.log(o)}return r.x=i,r.y=n,r}function UT(r){var t=r.x-this.x0,e=r.y-this.y0,i,n;if(this.sphere)n=P-2*Math.atan(Math.exp(-e/(this.a*this.k0)));else{var s=Math.exp(-e/(this.a*this.k0));if(n=Yn(this.e,s),n===-9999)return null}return i=G(this.long0+t/(this.a*this.k0)),r.x=i,r.y=n,r}var WT=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"];const YT={init:GT,forward:HT,inverse:UT,names:WT};function jT(){}function F_(r){return r}var qT=["longlat","identity"];const XT={init:jT,forward:F_,inverse:F_,names:qT};var KT=[YT,XT],Po={},Da=[];function Ng(r,t){var e=Da.length;return r.names?(Da[e]=r,r.names.forEach(function(i){Po[i.toLowerCase()]=e}),this):(console.log(t),!0)}function ZT(r){if(!r)return!1;var t=r.toLowerCase();if(typeof Po[t]<"u"&&Da[Po[t]])return Da[Po[t]]}function QT(){KT.forEach(Ng)}const JT={start:QT,add:Ng,get:ZT};var J={};J.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"};J.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"};J.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"};J.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"};J.airy={a:6377563396e-3,b:635625691e-2,ellipseName:"Airy 1830"};J.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"};J.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"};J.mod_airy={a:6377340189e-3,b:6356034446e-3,ellipseName:"Modified Airy"};J.andrae={a:637710443e-2,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"};J.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"};J.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"};J.bessel={a:6377397155e-3,rf:299.1528128,ellipseName:"Bessel 1841"};J.bess_nam={a:6377483865e-3,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"};J.clrk66={a:63782064e-1,b:63565838e-1,ellipseName:"Clarke 1866"};J.clrk80={a:6378249145e-3,rf:293.4663,ellipseName:"Clarke 1880 mod."};J.clrk58={a:6378293645208759e-9,rf:294.2606763692654,ellipseName:"Clarke 1858"};J.CPM={a:63757387e-1,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"};J.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"};J.engelis={a:637813605e-2,rf:298.2566,ellipseName:"Engelis 1985"};J.evrst30={a:6377276345e-3,rf:300.8017,ellipseName:"Everest 1830"};J.evrst48={a:6377304063e-3,rf:300.8017,ellipseName:"Everest 1948"};J.evrst56={a:6377301243e-3,rf:300.8017,ellipseName:"Everest 1956"};J.evrst69={a:6377295664e-3,rf:300.8017,ellipseName:"Everest 1969"};J.evrstSS={a:6377298556e-3,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"};J.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"};J.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"};J.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"};J.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"};J.hough={a:6378270,rf:297,ellipseName:"Hough"};J.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"};J.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"};J.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"};J.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"};J.new_intl={a:63781575e-1,b:63567722e-1,ellipseName:"New International 1967"};J.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"};J.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"};J.SEasia={a:6378155,b:63567733205e-4,ellipseName:"Southeast Asia"};J.walbeck={a:6376896,b:63558348467e-4,ellipseName:"Walbeck"};J.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"};J.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"};J.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"};var eO=J.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};J.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};function tO(r,t,e,i){var n=r*r,s=t*t,o=(n-s)/n,a=0;i?(r*=1-o*(xT+o*(CT+o*AT)),n=r*r,o=0):a=Math.sqrt(o);var l=(n-s)/s;return{es:o,e:a,ep2:l}}function iO(r,t,e,i,n){if(!r){var s=Ai(J,i);s||(s=eO),r=s.a,t=s.b,e=s.rf}return e&&!t&&(t=(1-1/e)*r),(e===0||Math.abs(r-t)<$)&&(n=!0,t=r),{a:r,b:t,rf:e,sphere:n}}var De={};De.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"};De.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"};De.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"};De.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"};De.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"};De.potsdam={towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"};De.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"};De.hermannskogel={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"};De.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"};De.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"};De.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"};De.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"};De.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"};De.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"};De.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"};De.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"};De.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"};function rO(r,t,e,i,n,s,o){var a={};return r===void 0||r==="none"?a.datum_type=Nu:a.datum_type=bT,t&&(a.datum_params=t.map(parseFloat),(a.datum_params[0]!==0||a.datum_params[1]!==0||a.datum_params[2]!==0)&&(a.datum_type=Xi),a.datum_params.length>3&&(a.datum_params[3]!==0||a.datum_params[4]!==0||a.datum_params[5]!==0||a.datum_params[6]!==0)&&(a.datum_type=Ki,a.datum_params[3]*=Dn,a.datum_params[4]*=Dn,a.datum_params[5]*=Dn,a.datum_params[6]=a.datum_params[6]/1e6+1)),o&&(a.datum_type=Rr,a.grids=o),a.a=e,a.b=i,a.es=n,a.ep2=s,a}var zg={};function nO(r,t){var e=new DataView(t),i=aO(e),n=lO(e,i);n.nSubgrids>1&&console.log("Only single NTv2 subgrids are currently supported, subsequent sub grids are ignored");var s=hO(e,n,i),o={header:n,subgrids:s};return zg[r]=o,o}function sO(r){if(r===void 0)return null;var t=r.split(",");return t.map(oO)}function oO(r){if(r.length===0)return null;var t=r[0]==="@";return t&&(r=r.slice(1)),r==="null"?{name:"null",mandatory:!t,grid:null,isNull:!0}:{name:r,mandatory:!t,grid:zg[r]||null,isNull:!1}}function xr(r){return r/3600*Math.PI/180}function aO(r){var t=r.getInt32(8,!1);return t===11?!1:(t=r.getInt32(8,!0),t!==11&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}function lO(r,t){return{nFields:r.getInt32(8,t),nSubgridFields:r.getInt32(24,t),nSubgrids:r.getInt32(40,t),shiftType:Bu(r,56,56+8).trim(),fromSemiMajorAxis:r.getFloat64(120,t),fromSemiMinorAxis:r.getFloat64(136,t),toSemiMajorAxis:r.getFloat64(152,t),toSemiMinorAxis:r.getFloat64(168,t)}}function Bu(r,t,e){return String.fromCharCode.apply(null,new Uint8Array(r.buffer.slice(t,e)))}function hO(r,t,e){for(var i=176,n=[],s=0;s<t.nSubgrids;s++){var o=cO(r,i,e),a=dO(r,i,o,e),l=Math.round(1+(o.upperLongitude-o.lowerLongitude)/o.longitudeInterval),h=Math.round(1+(o.upperLatitude-o.lowerLatitude)/o.latitudeInterval);n.push({ll:[xr(o.lowerLongitude),xr(o.lowerLatitude)],del:[xr(o.longitudeInterval),xr(o.latitudeInterval)],lim:[l,h],count:o.gridNodeCount,cvs:uO(a)})}return n}function uO(r){return r.map(function(t){return[xr(t.longitudeShift),xr(t.latitudeShift)]})}function cO(r,t,e){return{name:Bu(r,t+8,t+16).trim(),parent:Bu(r,t+24,t+24+8).trim(),lowerLatitude:r.getFloat64(t+72,e),upperLatitude:r.getFloat64(t+88,e),lowerLongitude:r.getFloat64(t+104,e),upperLongitude:r.getFloat64(t+120,e),latitudeInterval:r.getFloat64(t+136,e),longitudeInterval:r.getFloat64(t+152,e),gridNodeCount:r.getInt32(t+168,e)}}function dO(r,t,e,i){for(var n=t+176,s=16,o=[],a=0;a<e.gridNodeCount;a++){var l={latitudeShift:r.getFloat32(n+a*s,i),longitudeShift:r.getFloat32(n+a*s+4,i),latitudeAccuracy:r.getFloat32(n+a*s+8,i),longitudeAccuracy:r.getFloat32(n+a*s+12,i)};o.push(l)}return o}function Dt(r,t){if(!(this instanceof Dt))return new Dt(r);t=t||function(h){if(h)throw h};var e=VT(r);if(typeof e!="object"){t(r);return}var i=Dt.projections.get(e.projName);if(!i){t(r);return}if(e.datumCode&&e.datumCode!=="none"){var n=Ai(De,e.datumCode);n&&(e.datum_params=e.datum_params||(n.towgs84?n.towgs84.split(","):null),e.ellps=n.ellipse,e.datumName=n.datumName?n.datumName:e.datumCode)}e.k0=e.k0||1,e.axis=e.axis||"enu",e.ellps=e.ellps||"wgs84",e.lat1=e.lat1||e.lat0;var s=iO(e.a,e.b,e.rf,e.ellps,e.sphere),o=tO(s.a,s.b,s.rf,e.R_A),a=sO(e.nadgrids),l=e.datum||rO(e.datumCode,e.datum_params,s.a,s.b,o.es,o.ep2,a);L_(this,e),L_(this,i),this.a=s.a,this.b=s.b,this.rf=s.rf,this.sphere=s.sphere,this.es=o.es,this.e=o.e,this.ep2=o.ep2,this.datum=l,this.init(),t(null,this)}Dt.projections=JT;Dt.projections.start();function fO(r,t){return r.datum_type!==t.datum_type||r.a!==t.a||Math.abs(r.es-t.es)>5e-11?!1:r.datum_type===Xi?r.datum_params[0]===t.datum_params[0]&&r.datum_params[1]===t.datum_params[1]&&r.datum_params[2]===t.datum_params[2]:r.datum_type===Ki?r.datum_params[0]===t.datum_params[0]&&r.datum_params[1]===t.datum_params[1]&&r.datum_params[2]===t.datum_params[2]&&r.datum_params[3]===t.datum_params[3]&&r.datum_params[4]===t.datum_params[4]&&r.datum_params[5]===t.datum_params[5]&&r.datum_params[6]===t.datum_params[6]:!0}function Bg(r,t,e){var i=r.x,n=r.y,s=r.z?r.z:0,o,a,l,h;if(n<-P&&n>-1.001*P)n=-P;else if(n>P&&n<1.001*P)n=P;else{if(n<-P)return{x:-1/0,y:-1/0,z:r.z};if(n>P)return{x:1/0,y:1/0,z:r.z}}return i>Math.PI&&(i-=2*Math.PI),a=Math.sin(n),h=Math.cos(n),l=a*a,o=e/Math.sqrt(1-t*l),{x:(o+s)*h*Math.cos(i),y:(o+s)*h*Math.sin(i),z:(o*(1-t)+s)*a}}function Vg(r,t,e,i){var n=1e-12,s=n*n,o=30,a,l,h,u,c,d,f,p,_,m,g,y,b,C=r.x,E=r.y,I=r.z?r.z:0,M,T,D;if(a=Math.sqrt(C*C+E*E),l=Math.sqrt(C*C+E*E+I*I),a/e<n){if(M=0,l/e<n)return T=P,D=-i,{x:r.x,y:r.y,z:r.z}}else M=Math.atan2(E,C);h=I/l,u=a/l,c=1/Math.sqrt(1-t*(2-t)*u*u),p=u*(1-t)*c,_=h*c,b=0;do b++,f=e/Math.sqrt(1-t*_*_),D=a*p+I*_-f*(1-t*_*_),d=t*f/(f+D),c=1/Math.sqrt(1-d*(2-d)*u*u),m=u*(1-d)*c,g=h*c,y=g*p-m*_,p=m,_=g;while(y*y>s&&b<o);return T=Math.atan(g/Math.abs(m)),{x:M,y:T,z:D}}function pO(r,t,e){if(t===Xi)return{x:r.x+e[0],y:r.y+e[1],z:r.z+e[2]};if(t===Ki){var i=e[0],n=e[1],s=e[2],o=e[3],a=e[4],l=e[5],h=e[6];return{x:h*(r.x-l*r.y+a*r.z)+i,y:h*(l*r.x+r.y-o*r.z)+n,z:h*(-a*r.x+o*r.y+r.z)+s}}}function _O(r,t,e){if(t===Xi)return{x:r.x-e[0],y:r.y-e[1],z:r.z-e[2]};if(t===Ki){var i=e[0],n=e[1],s=e[2],o=e[3],a=e[4],l=e[5],h=e[6],u=(r.x-i)/h,c=(r.y-n)/h,d=(r.z-s)/h;return{x:u+l*c-a*d,y:-l*u+c+o*d,z:a*u-o*c+d}}}function Ds(r){return r===Xi||r===Ki}function mO(r,t,e){if(fO(r,t)||r.datum_type===Nu||t.datum_type===Nu)return e;var i=r.a,n=r.es;if(r.datum_type===Rr){var s=$_(r,!1,e);if(s!==0)return;i=R_,n=P_}var o=t.a,a=t.b,l=t.es;if(t.datum_type===Rr&&(o=R_,a=wT,l=P_),n===l&&i===o&&!Ds(r.datum_type)&&!Ds(t.datum_type))return e;if(e=Bg(e,n,i),Ds(r.datum_type)&&(e=pO(e,r.datum_type,r.datum_params)),Ds(t.datum_type)&&(e=_O(e,t.datum_type,t.datum_params)),e=Vg(e,l,o,a),t.datum_type===Rr){var h=$_(t,!0,e);if(h!==0)return}return e}function $_(r,t,e){if(r.grids===null||r.grids.length===0)return console.log("Grid shift grids not found"),-1;for(var i={x:-e.x,y:e.y},n={x:Number.NaN,y:Number.NaN},s=[],o=0;o<r.grids.length;o++){var a=r.grids[o];if(s.push(a.name),a.isNull){n=i;break}if(a.mandatory,a.grid===null){if(a.mandatory)return console.log("Unable to find mandatory grid '"+a.name+"'"),-1;continue}var l=a.grid.subgrids[0],h=(Math.abs(l.del[1])+Math.abs(l.del[0]))/1e4,u=l.ll[0]-h,c=l.ll[1]-h,d=l.ll[0]+(l.lim[0]-1)*l.del[0]+h,f=l.ll[1]+(l.lim[1]-1)*l.del[1]+h;if(!(c>i.y||u>i.x||f<i.y||d<i.x)&&(n=vO(i,t,l),!isNaN(n.x)))break}return isNaN(n.x)?(console.log("Failed to find a grid shift table for location '"+-i.x*Mt+" "+i.y*Mt+" tried: '"+s+"'"),-1):(e.x=-n.x,e.y=n.y,0)}function vO(r,t,e){var i={x:Number.NaN,y:Number.NaN};if(isNaN(r.x))return i;var n={x:r.x,y:r.y};n.x-=e.ll[0],n.y-=e.ll[1],n.x=G(n.x-Math.PI)+Math.PI;var s=N_(n,e);if(t){if(isNaN(s.x))return i;s.x=n.x-s.x,s.y=n.y-s.y;var o=9,a=1e-12,l,h;do{if(h=N_(s,e),isNaN(h.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}l={x:n.x-(h.x+s.x),y:n.y-(h.y+s.y)},s.x+=l.x,s.y+=l.y}while(o--&&Math.abs(l.x)>a&&Math.abs(l.y)>a);if(o<0)return console.log("Inverse grid shift iterator failed to converge."),i;i.x=G(s.x+e.ll[0]),i.y=s.y+e.ll[1]}else isNaN(s.x)||(i.x=r.x+s.x,i.y=r.y+s.y);return i}function N_(r,t){var e={x:r.x/t.del[0],y:r.y/t.del[1]},i={x:Math.floor(e.x),y:Math.floor(e.y)},n={x:e.x-1*i.x,y:e.y-1*i.y},s={x:Number.NaN,y:Number.NaN},o;if(i.x<0||i.x>=t.lim[0]||i.y<0||i.y>=t.lim[1])return s;o=i.y*t.lim[0]+i.x;var a={x:t.cvs[o][0],y:t.cvs[o][1]};o++;var l={x:t.cvs[o][0],y:t.cvs[o][1]};o+=t.lim[0];var h={x:t.cvs[o][0],y:t.cvs[o][1]};o--;var u={x:t.cvs[o][0],y:t.cvs[o][1]},c=n.x*n.y,d=n.x*(1-n.y),f=(1-n.x)*(1-n.y),p=(1-n.x)*n.y;return s.x=f*a.x+d*l.x+p*u.x+c*h.x,s.y=f*a.y+d*l.y+p*u.y+c*h.y,s}function z_(r,t,e){var i=e.x,n=e.y,s=e.z||0,o,a,l,h={};for(l=0;l<3;l++)if(!(t&&l===2&&e.z===void 0))switch(l===0?(o=i,"ew".indexOf(r.axis[l])!==-1?a="x":a="y"):l===1?(o=n,"ns".indexOf(r.axis[l])!==-1?a="y":a="x"):(o=s,a="z"),r.axis[l]){case"e":h[a]=o;break;case"w":h[a]=-o;break;case"n":h[a]=o;break;case"s":h[a]=-o;break;case"u":e[a]!==void 0&&(h.z=o);break;case"d":e[a]!==void 0&&(h.z=-o);break;default:return null}return h}function Gg(r){var t={x:r[0],y:r[1]};return r.length>2&&(t.z=r[2]),r.length>3&&(t.m=r[3]),t}function gO(r){B_(r.x),B_(r.y)}function B_(r){if(typeof Number.isFinite=="function"){if(Number.isFinite(r))return;throw new TypeError("coordinates must be finite numbers")}if(typeof r!="number"||r!==r||!isFinite(r))throw new TypeError("coordinates must be finite numbers")}function yO(r,t){return(r.datum.datum_type===Xi||r.datum.datum_type===Ki||r.datum.datum_type===Rr)&&t.datumCode!=="WGS84"||(t.datum.datum_type===Xi||t.datum.datum_type===Ki||t.datum.datum_type===Rr)&&r.datumCode!=="WGS84"}function La(r,t,e,i){var n;Array.isArray(e)?e=Gg(e):e={x:e.x,y:e.y,z:e.z,m:e.m};var s=e.z!==void 0;if(gO(e),r.datum&&t.datum&&yO(r,t)&&(n=new Dt("WGS84"),e=La(r,n,e,i),r=n),i&&r.axis!=="enu"&&(e=z_(r,!1,e)),r.projName==="longlat")e={x:e.x*Fe,y:e.y*Fe,z:e.z||0};else if(r.to_meter&&(e={x:e.x*r.to_meter,y:e.y*r.to_meter,z:e.z||0}),e=r.inverse(e),!e)return;if(r.from_greenwich&&(e.x+=r.from_greenwich),e=mO(r.datum,t.datum,e),!!e)return t.from_greenwich&&(e={x:e.x-t.from_greenwich,y:e.y,z:e.z||0}),t.projName==="longlat"?e={x:e.x*Mt,y:e.y*Mt,z:e.z||0}:(e=t.forward(e),t.to_meter&&(e={x:e.x/t.to_meter,y:e.y/t.to_meter,z:e.z||0})),i&&t.axis!=="enu"?z_(t,!0,e):(s||delete e.z,e)}var V_=Dt("WGS84");function Nl(r,t,e,i){var n,s,o;return Array.isArray(e)?(n=La(r,t,e,i)||{x:NaN,y:NaN},e.length>2?typeof r.name<"u"&&r.name==="geocent"||typeof t.name<"u"&&t.name==="geocent"?typeof n.z=="number"?[n.x,n.y,n.z].concat(e.splice(3)):[n.x,n.y,e[2]].concat(e.splice(3)):[n.x,n.y].concat(e.splice(2)):[n.x,n.y]):(s=La(r,t,e,i),o=Object.keys(e),o.length===2||o.forEach(function(a){if(typeof r.name<"u"&&r.name==="geocent"||typeof t.name<"u"&&t.name==="geocent"){if(a==="x"||a==="y"||a==="z")return}else if(a==="x"||a==="y")return;s[a]=e[a]}),s)}function G_(r){return r instanceof Dt?r:r.oProj?r.oProj:Dt(r)}function it(r,t,e){r=G_(r);var i=!1,n;return typeof t>"u"?(t=r,r=V_,i=!0):(typeof t.x<"u"||Array.isArray(t))&&(e=t,t=r,r=V_,i=!0),t=G_(t),e?Nl(r,t,e):(n={forward:function(s,o){return Nl(r,t,s,o)},inverse:function(s,o){return Nl(t,r,s,o)}},i&&(n.oProj=t),n)}var H_=6,Hg="AJSAJS",Ug="AFAFAF",Cr=65,Je=73,ct=79,wn=86,xn=90;const bO={forward:Wg,inverse:wO,toPoint:Yg};function Wg(r,t){return t=t||5,AO(xO({lat:r[1],lon:r[0]}),t)}function wO(r){var t=Oc(qg(r.toUpperCase()));return t.lat&&t.lon?[t.lon,t.lat,t.lon,t.lat]:[t.left,t.bottom,t.right,t.top]}function Yg(r){var t=Oc(qg(r.toUpperCase()));return t.lat&&t.lon?[t.lon,t.lat]:[(t.left+t.right)/2,(t.top+t.bottom)/2]}function zl(r){return r*(Math.PI/180)}function U_(r){return 180*(r/Math.PI)}function xO(r){var t=r.lat,e=r.lon,i=6378137,n=.00669438,s=.9996,o,a,l,h,u,c,d,f=zl(t),p=zl(e),_,m;m=Math.floor((e+180)/6)+1,e===180&&(m=60),t>=56&&t<64&&e>=3&&e<12&&(m=32),t>=72&&t<84&&(e>=0&&e<9?m=31:e>=9&&e<21?m=33:e>=21&&e<33?m=35:e>=33&&e<42&&(m=37)),o=(m-1)*6-180+3,_=zl(o),a=n/(1-n),l=i/Math.sqrt(1-n*Math.sin(f)*Math.sin(f)),h=Math.tan(f)*Math.tan(f),u=a*Math.cos(f)*Math.cos(f),c=Math.cos(f)*(p-_),d=i*((1-n/4-3*n*n/64-5*n*n*n/256)*f-(3*n/8+3*n*n/32+45*n*n*n/1024)*Math.sin(2*f)+(15*n*n/256+45*n*n*n/1024)*Math.sin(4*f)-35*n*n*n/3072*Math.sin(6*f));var g=s*l*(c+(1-h+u)*c*c*c/6+(5-18*h+h*h+72*u-58*a)*c*c*c*c*c/120)+5e5,y=s*(d+l*Math.tan(f)*(c*c/2+(5-h+9*u+4*u*u)*c*c*c*c/24+(61-58*h+h*h+600*u-330*a)*c*c*c*c*c*c/720));return t<0&&(y+=1e7),{northing:Math.round(y),easting:Math.round(g),zoneNumber:m,zoneLetter:CO(t)}}function Oc(r){var t=r.northing,e=r.easting,i=r.zoneLetter,n=r.zoneNumber;if(n<0||n>60)return null;var s=.9996,o=6378137,a=.00669438,l,h=(1-Math.sqrt(1-a))/(1+Math.sqrt(1-a)),u,c,d,f,p,_,m,g,y,b=e-5e5,C=t;i<"N"&&(C-=1e7),m=(n-1)*6-180+3,l=a/(1-a),_=C/s,g=_/(o*(1-a/4-3*a*a/64-5*a*a*a/256)),y=g+(3*h/2-27*h*h*h/32)*Math.sin(2*g)+(21*h*h/16-55*h*h*h*h/32)*Math.sin(4*g)+151*h*h*h/96*Math.sin(6*g),u=o/Math.sqrt(1-a*Math.sin(y)*Math.sin(y)),c=Math.tan(y)*Math.tan(y),d=l*Math.cos(y)*Math.cos(y),f=o*(1-a)/Math.pow(1-a*Math.sin(y)*Math.sin(y),1.5),p=b/(u*s);var E=y-u*Math.tan(y)/f*(p*p/2-(5+3*c+10*d-4*d*d-9*l)*p*p*p*p/24+(61+90*c+298*d+45*c*c-252*l-3*d*d)*p*p*p*p*p*p/720);E=U_(E);var I=(p-(1+2*c+d)*p*p*p/6+(5-2*d+28*c-3*d*d+8*l+24*c*c)*p*p*p*p*p/120)/Math.cos(y);I=m+U_(I);var M;if(r.accuracy){var T=Oc({northing:r.northing+r.accuracy,easting:r.easting+r.accuracy,zoneLetter:r.zoneLetter,zoneNumber:r.zoneNumber});M={top:T.lat,right:T.lon,bottom:E,left:I}}else M={lat:E,lon:I};return M}function CO(r){var t="Z";return 84>=r&&r>=72?t="X":72>r&&r>=64?t="W":64>r&&r>=56?t="V":56>r&&r>=48?t="U":48>r&&r>=40?t="T":40>r&&r>=32?t="S":32>r&&r>=24?t="R":24>r&&r>=16?t="Q":16>r&&r>=8?t="P":8>r&&r>=0?t="N":0>r&&r>=-8?t="M":-8>r&&r>=-16?t="L":-16>r&&r>=-24?t="K":-24>r&&r>=-32?t="J":-32>r&&r>=-40?t="H":-40>r&&r>=-48?t="G":-48>r&&r>=-56?t="F":-56>r&&r>=-64?t="E":-64>r&&r>=-72?t="D":-72>r&&r>=-80&&(t="C"),t}function AO(r,t){var e="00000"+r.easting,i="00000"+r.northing;return r.zoneNumber+r.zoneLetter+EO(r.easting,r.northing,r.zoneNumber)+e.substr(e.length-5,t)+i.substr(i.length-5,t)}function EO(r,t,e){var i=jg(e),n=Math.floor(r/1e5),s=Math.floor(t/1e5)%20;return IO(n,s,i)}function jg(r){var t=r%H_;return t===0&&(t=H_),t}function IO(r,t,e){var i=e-1,n=Hg.charCodeAt(i),s=Ug.charCodeAt(i),o=n+r-1,a=s+t,l=!1;o>xn&&(o=o-xn+Cr-1,l=!0),(o===Je||n<Je&&o>Je||(o>Je||n<Je)&&l)&&o++,(o===ct||n<ct&&o>ct||(o>ct||n<ct)&&l)&&(o++,o===Je&&o++),o>xn&&(o=o-xn+Cr-1),a>wn?(a=a-wn+Cr-1,l=!0):l=!1,(a===Je||s<Je&&a>Je||(a>Je||s<Je)&&l)&&a++,(a===ct||s<ct&&a>ct||(a>ct||s<ct)&&l)&&(a++,a===Je&&a++),a>wn&&(a=a-wn+Cr-1);var h=String.fromCharCode(o)+String.fromCharCode(a);return h}function qg(r){if(r&&r.length===0)throw"MGRSPoint coverting from nothing";for(var t=r.length,e=null,i="",n,s=0;!/[A-Z]/.test(n=r.charAt(s));){if(s>=2)throw"MGRSPoint bad conversion from: "+r;i+=n,s++}var o=parseInt(i,10);if(s===0||s+3>t)throw"MGRSPoint bad conversion from: "+r;var a=r.charAt(s++);if(a<="A"||a==="B"||a==="Y"||a>="Z"||a==="I"||a==="O")throw"MGRSPoint zone letter "+a+" not handled: "+r;e=r.substring(s,s+=2);for(var l=jg(o),h=SO(e.charAt(0),l),u=TO(e.charAt(1),l);u<OO(a);)u+=2e6;var c=t-s;if(c%2!==0)throw`MGRSPoint has to have an even number 
of digits after the zone letter and two 100km letters - front 
half for easting meters, second half for 
northing meters`+r;var d=c/2,f=0,p=0,_,m,g,y,b;return d>0&&(_=1e5/Math.pow(10,d),m=r.substring(s,s+d),f=parseFloat(m)*_,g=r.substring(s+d),p=parseFloat(g)*_),y=f+h,b=p+u,{easting:y,northing:b,zoneLetter:a,zoneNumber:o,accuracy:_}}function SO(r,t){for(var e=Hg.charCodeAt(t-1),i=1e5,n=!1;e!==r.charCodeAt(0);){if(e++,e===Je&&e++,e===ct&&e++,e>xn){if(n)throw"Bad character: "+r;e=Cr,n=!0}i+=1e5}return i}function TO(r,t){if(r>"V")throw"MGRSPoint given invalid Northing "+r;for(var e=Ug.charCodeAt(t-1),i=0,n=!1;e!==r.charCodeAt(0);){if(e++,e===Je&&e++,e===ct&&e++,e>wn){if(n)throw"Bad character: "+r;e=Cr,n=!0}i+=1e5}return i}function OO(r){var t;switch(r){case"C":t=11e5;break;case"D":t=2e6;break;case"E":t=28e5;break;case"F":t=37e5;break;case"G":t=46e5;break;case"H":t=55e5;break;case"J":t=64e5;break;case"K":t=73e5;break;case"L":t=82e5;break;case"M":t=91e5;break;case"N":t=0;break;case"P":t=8e5;break;case"Q":t=17e5;break;case"R":t=26e5;break;case"S":t=35e5;break;case"T":t=44e5;break;case"U":t=53e5;break;case"V":t=62e5;break;case"W":t=7e6;break;case"X":t=79e5;break;default:t=-1}if(t>=0)return t;throw"Invalid zone letter: "+r}function $r(r,t,e){if(!(this instanceof $r))return new $r(r,t,e);if(Array.isArray(r))this.x=r[0],this.y=r[1],this.z=r[2]||0;else if(typeof r=="object")this.x=r.x,this.y=r.y,this.z=r.z||0;else if(typeof r=="string"&&typeof t>"u"){var i=r.split(",");this.x=parseFloat(i[0],10),this.y=parseFloat(i[1],10),this.z=parseFloat(i[2],10)||0}else this.x=r,this.y=t,this.z=e||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}$r.fromMGRS=function(r){return new $r(Yg(r))};$r.prototype.toMGRS=function(r){return Wg([this.x,this.y],r)};var MO=1,RO=.25,W_=.046875,Y_=.01953125,j_=.01068115234375,PO=.75,kO=.46875,DO=.013020833333333334,LO=.007120768229166667,FO=.3645833333333333,$O=.005696614583333333,NO=.3076171875;function Xg(r){var t=[];t[0]=MO-r*(RO+r*(W_+r*(Y_+r*j_))),t[1]=r*(PO-r*(W_+r*(Y_+r*j_)));var e=r*r;return t[2]=e*(kO-r*(DO+r*LO)),e*=r,t[3]=e*(FO-r*$O),t[4]=e*r*NO,t}function pl(r,t,e,i){return e*=t,t*=t,i[0]*r-e*(i[1]+t*(i[2]+t*(i[3]+t*i[4])))}var zO=20;function Kg(r,t,e){for(var i=1/(1-t),n=r,s=zO;s;--s){var o=Math.sin(n),a=1-t*o*o;if(a=(pl(n,o,Math.cos(n),e)-r)*(a*Math.sqrt(a))*i,n-=a,Math.abs(a)<$)return n}return n}function BO(){this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.es&&(this.en=Xg(this.es),this.ml0=pl(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function VO(r){var t=r.x,e=r.y,i=G(t-this.long0),n,s,o,a=Math.sin(e),l=Math.cos(e);if(this.es){var u=l*i,c=Math.pow(u,2),d=this.ep2*Math.pow(l,2),f=Math.pow(d,2),p=Math.abs(l)>$?Math.tan(e):0,_=Math.pow(p,2),m=Math.pow(_,2);n=1-this.es*Math.pow(a,2),u=u/Math.sqrt(n);var g=pl(e,a,l,this.en);s=this.a*(this.k0*u*(1+c/6*(1-_+d+c/20*(5-18*_+m+14*d-58*_*d+c/42*(61+179*m-m*_-479*_)))))+this.x0,o=this.a*(this.k0*(g-this.ml0+a*i*u/2*(1+c/12*(5-_+9*d+4*f+c/30*(61+m-58*_+270*d-330*_*d+c/56*(1385+543*m-m*_-3111*_))))))+this.y0}else{var h=l*Math.sin(i);if(Math.abs(Math.abs(h)-1)<$)return 93;if(s=.5*this.a*this.k0*Math.log((1+h)/(1-h))+this.x0,o=l*Math.cos(i)/Math.sqrt(1-Math.pow(h,2)),h=Math.abs(o),h>=1){if(h-1>$)return 93;o=0}else o=Math.acos(o);e<0&&(o=-o),o=this.a*this.k0*(o-this.lat0)+this.y0}return r.x=s,r.y=o,r}function GO(r){var t,e,i,n,s=(r.x-this.x0)*(1/this.a),o=(r.y-this.y0)*(1/this.a);if(this.es)if(t=this.ml0+o/this.k0,e=Kg(t,this.es,this.en),Math.abs(e)<P){var c=Math.sin(e),d=Math.cos(e),f=Math.abs(d)>$?Math.tan(e):0,p=this.ep2*Math.pow(d,2),_=Math.pow(p,2),m=Math.pow(f,2),g=Math.pow(m,2);t=1-this.es*Math.pow(c,2);var y=s*Math.sqrt(t)/this.k0,b=Math.pow(y,2);t=t*f,i=e-t*b/(1-this.es)*.5*(1-b/12*(5+3*m-9*p*m+p-4*_-b/30*(61+90*m-252*p*m+45*g+46*p-b/56*(1385+3633*m+4095*g+1574*g*m)))),n=G(this.long0+y*(1-b/6*(1+2*m+p-b/20*(5+28*m+24*g+8*p*m+6*p-b/42*(61+662*m+1320*g+720*g*m))))/d)}else i=P*as(o),n=0;else{var a=Math.exp(s/this.k0),l=.5*(a-1/a),h=this.lat0+o/this.k0,u=Math.cos(h);t=Math.sqrt((1-Math.pow(u,2))/(1+Math.pow(l,2))),i=Math.asin(t),o<0&&(i=-i),l===0&&u===0?n=0:n=G(Math.atan2(l,u)+this.long0)}return r.x=n,r.y=i,r}var HO=["Fast_Transverse_Mercator","Fast Transverse Mercator"];const ko={init:BO,forward:VO,inverse:GO,names:HO};function Zg(r){var t=Math.exp(r);return t=(t-1/t)/2,t}function xt(r,t){r=Math.abs(r),t=Math.abs(t);var e=Math.max(r,t),i=Math.min(r,t)/(e||1);return e*Math.sqrt(1+Math.pow(i,2))}function UO(r){var t=1+r,e=t-1;return e===0?r:r*Math.log(t)/e}function WO(r){var t=Math.abs(r);return t=UO(t*(1+t/(xt(1,t)+1))),r<0?-t:t}function Mc(r,t){for(var e=2*Math.cos(2*t),i=r.length-1,n=r[i],s=0,o;--i>=0;)o=-s+e*n+r[i],s=n,n=o;return t+o*Math.sin(2*t)}function YO(r,t){for(var e=2*Math.cos(t),i=r.length-1,n=r[i],s=0,o;--i>=0;)o=-s+e*n+r[i],s=n,n=o;return Math.sin(t)*o}function jO(r){var t=Math.exp(r);return t=(t+1/t)/2,t}function Qg(r,t,e){for(var i=Math.sin(t),n=Math.cos(t),s=Zg(e),o=jO(e),a=2*n*o,l=-2*i*s,h=r.length-1,u=r[h],c=0,d=0,f=0,p,_;--h>=0;)p=d,_=c,d=u,c=f,u=-p+a*d-l*c+r[h],f=-_+l*d+a*c;return a=i*o,l=n*s,[a*u-l*f,a*f+l*u]}function qO(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(ko.init.apply(this),this.forward=ko.forward,this.inverse=ko.inverse),this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var r=this.es/(1+Math.sqrt(1-this.es)),t=r/(2-r),e=t;this.cgb[0]=t*(2+t*(-2/3+t*(-2+t*(116/45+t*(26/45+t*(-2854/675)))))),this.cbg[0]=t*(-2+t*(2/3+t*(4/3+t*(-82/45+t*(32/45+t*(4642/4725)))))),e=e*t,this.cgb[1]=e*(7/3+t*(-8/5+t*(-227/45+t*(2704/315+t*(2323/945))))),this.cbg[1]=e*(5/3+t*(-16/15+t*(-13/9+t*(904/315+t*(-1522/945))))),e=e*t,this.cgb[2]=e*(56/15+t*(-136/35+t*(-1262/105+t*(73814/2835)))),this.cbg[2]=e*(-26/15+t*(34/21+t*(8/5+t*(-12686/2835)))),e=e*t,this.cgb[3]=e*(4279/630+t*(-332/35+t*(-399572/14175))),this.cbg[3]=e*(1237/630+t*(-12/5+t*(-24832/14175))),e=e*t,this.cgb[4]=e*(4174/315+t*(-144838/6237)),this.cbg[4]=e*(-734/315+t*(109598/31185)),e=e*t,this.cgb[5]=e*(601676/22275),this.cbg[5]=e*(444337/155925),e=Math.pow(t,2),this.Qn=this.k0/(1+t)*(1+e*(1/4+e*(1/64+e/256))),this.utg[0]=t*(-.5+t*(2/3+t*(-37/96+t*(1/360+t*(81/512+t*(-96199/604800)))))),this.gtu[0]=t*(.5+t*(-2/3+t*(5/16+t*(41/180+t*(-127/288+t*(7891/37800)))))),this.utg[1]=e*(-1/48+t*(-1/15+t*(437/1440+t*(-46/105+t*(1118711/3870720))))),this.gtu[1]=e*(13/48+t*(-3/5+t*(557/1440+t*(281/630+t*(-1983433/1935360))))),e=e*t,this.utg[2]=e*(-17/480+t*(37/840+t*(209/4480+t*(-5569/90720)))),this.gtu[2]=e*(61/240+t*(-103/140+t*(15061/26880+t*(167603/181440)))),e=e*t,this.utg[3]=e*(-4397/161280+t*(11/504+t*(830251/7257600))),this.gtu[3]=e*(49561/161280+t*(-179/168+t*(6601661/7257600))),e=e*t,this.utg[4]=e*(-4583/161280+t*(108847/3991680)),this.gtu[4]=e*(34729/80640+t*(-3418889/1995840)),e=e*t,this.utg[5]=e*(-20648693/638668800),this.gtu[5]=e*(212378941/319334400);var i=Mc(this.cbg,this.lat0);this.Zb=-this.Qn*(i+YO(this.gtu,2*i))}function XO(r){var t=G(r.x-this.long0),e=r.y;e=Mc(this.cbg,e);var i=Math.sin(e),n=Math.cos(e),s=Math.sin(t),o=Math.cos(t);e=Math.atan2(i,o*n),t=Math.atan2(s*n,xt(i,n*o)),t=WO(Math.tan(t));var a=Qg(this.gtu,2*e,2*t);e=e+a[0],t=t+a[1];var l,h;return Math.abs(t)<=2.623395162778?(l=this.a*(this.Qn*t)+this.x0,h=this.a*(this.Qn*e+this.Zb)+this.y0):(l=1/0,h=1/0),r.x=l,r.y=h,r}function KO(r){var t=(r.x-this.x0)*(1/this.a),e=(r.y-this.y0)*(1/this.a);e=(e-this.Zb)/this.Qn,t=t/this.Qn;var i,n;if(Math.abs(t)<=2.623395162778){var s=Qg(this.utg,2*e,2*t);e=e+s[0],t=t+s[1],t=Math.atan(Zg(t));var o=Math.sin(e),a=Math.cos(e),l=Math.sin(t),h=Math.cos(t);e=Math.atan2(o*h,xt(l,h*a)),t=Math.atan2(l,h*a),i=G(t+this.long0),n=Mc(this.cgb,e)}else i=1/0,n=1/0;return r.x=i,r.y=n,r}var ZO=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","tmerc"];const Do={init:qO,forward:XO,inverse:KO,names:ZO};function QO(r,t){if(r===void 0){if(r=Math.floor((G(t)+Math.PI)*30/Math.PI)+1,r<0)return 0;if(r>60)return 60}return r}var JO="etmerc";function eM(){var r=QO(this.zone,this.long0);if(r===void 0)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(r)-183)*Fe,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,Do.init.apply(this),this.forward=Do.forward,this.inverse=Do.inverse}var tM=["Universal Transverse Mercator System","utm"];const iM={init:eM,names:tM,dependsOn:JO};function Rc(r,t){return Math.pow((1-r)/(1+r),t)}var rM=20;function nM(){var r=Math.sin(this.lat0),t=Math.cos(this.lat0);t*=t,this.rc=Math.sqrt(1-this.es)/(1-this.es*r*r),this.C=Math.sqrt(1+this.es*t*t/(1-this.es)),this.phic0=Math.asin(r/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+le)/(Math.pow(Math.tan(.5*this.lat0+le),this.C)*Rc(this.e*r,this.ratexp))}function sM(r){var t=r.x,e=r.y;return r.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*e+le),this.C)*Rc(this.e*Math.sin(e),this.ratexp))-P,r.x=this.C*t,r}function oM(r){for(var t=1e-14,e=r.x/this.C,i=r.y,n=Math.pow(Math.tan(.5*i+le)/this.K,1/this.C),s=rM;s>0&&(i=2*Math.atan(n*Rc(this.e*Math.sin(r.y),-.5*this.e))-P,!(Math.abs(i-r.y)<t));--s)r.y=i;return s?(r.x=e,r.y=i,r):null}var aM=["gauss"];const Pc={init:nM,forward:sM,inverse:oM,names:aM};function lM(){Pc.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function hM(r){var t,e,i,n;return r.x=G(r.x-this.long0),Pc.forward.apply(this,[r]),t=Math.sin(r.y),e=Math.cos(r.y),i=Math.cos(r.x),n=this.k0*this.R2/(1+this.sinc0*t+this.cosc0*e*i),r.x=n*e*Math.sin(r.x),r.y=n*(this.cosc0*t-this.sinc0*e*i),r.x=this.a*r.x+this.x0,r.y=this.a*r.y+this.y0,r}function uM(r){var t,e,i,n,s;if(r.x=(r.x-this.x0)/this.a,r.y=(r.y-this.y0)/this.a,r.x/=this.k0,r.y/=this.k0,s=Math.sqrt(r.x*r.x+r.y*r.y)){var o=2*Math.atan2(s,this.R2);t=Math.sin(o),e=Math.cos(o),n=Math.asin(e*this.sinc0+r.y*t*this.cosc0/s),i=Math.atan2(r.x*t,s*this.cosc0*e-r.y*this.sinc0*t)}else n=this.phic0,i=0;return r.x=i,r.y=n,Pc.inverse.apply(this,[r]),r.x=G(r.x+this.long0),r}var cM=["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"];const dM={init:lM,forward:hM,inverse:uM,names:cM};function fM(r,t,e){return t*=e,Math.tan(.5*(P+r))*Math.pow((1-t)/(1+t),.5*e)}function pM(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=$&&(this.k0=.5*(1+as(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=$&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=$&&(this.k0=.5*this.cons*Ft(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/Ct(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=Ft(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-P,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function _M(r){var t=r.x,e=r.y,i=Math.sin(e),n=Math.cos(e),s,o,a,l,h,u,c=G(t-this.long0);return Math.abs(Math.abs(t-this.long0)-Math.PI)<=$&&Math.abs(e+this.lat0)<=$?(r.x=NaN,r.y=NaN,r):this.sphere?(s=2*this.k0/(1+this.sinlat0*i+this.coslat0*n*Math.cos(c)),r.x=this.a*s*n*Math.sin(c)+this.x0,r.y=this.a*s*(this.coslat0*i-this.sinlat0*n*Math.cos(c))+this.y0,r):(o=2*Math.atan(this.ssfn_(e,i,this.e))-P,l=Math.cos(o),a=Math.sin(o),Math.abs(this.coslat0)<=$?(h=Ct(this.e,e*this.con,this.con*i),u=2*this.a*this.k0*h/this.cons,r.x=this.x0+u*Math.sin(t-this.long0),r.y=this.y0-this.con*u*Math.cos(t-this.long0),r):(Math.abs(this.sinlat0)<$?(s=2*this.a*this.k0/(1+l*Math.cos(c)),r.y=s*a):(s=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*a+this.cosX0*l*Math.cos(c))),r.y=s*(this.cosX0*a-this.sinX0*l*Math.cos(c))+this.y0),r.x=s*l*Math.sin(c)+this.x0,r))}function mM(r){r.x-=this.x0,r.y-=this.y0;var t,e,i,n,s,o=Math.sqrt(r.x*r.x+r.y*r.y);if(this.sphere){var a=2*Math.atan(o/(2*this.a*this.k0));return t=this.long0,e=this.lat0,o<=$?(r.x=t,r.y=e,r):(e=Math.asin(Math.cos(a)*this.sinlat0+r.y*Math.sin(a)*this.coslat0/o),Math.abs(this.coslat0)<$?this.lat0>0?t=G(this.long0+Math.atan2(r.x,-1*r.y)):t=G(this.long0+Math.atan2(r.x,r.y)):t=G(this.long0+Math.atan2(r.x*Math.sin(a),o*this.coslat0*Math.cos(a)-r.y*this.sinlat0*Math.sin(a))),r.x=t,r.y=e,r)}else if(Math.abs(this.coslat0)<=$){if(o<=$)return e=this.lat0,t=this.long0,r.x=t,r.y=e,r;r.x*=this.con,r.y*=this.con,i=o*this.cons/(2*this.a*this.k0),e=this.con*Yn(this.e,i),t=this.con*G(this.con*this.long0+Math.atan2(r.x,-1*r.y))}else n=2*Math.atan(o*this.cosX0/(2*this.a*this.k0*this.ms1)),t=this.long0,o<=$?s=this.X0:(s=Math.asin(Math.cos(n)*this.sinX0+r.y*Math.sin(n)*this.cosX0/o),t=G(this.long0+Math.atan2(r.x*Math.sin(n),o*this.cosX0*Math.cos(n)-r.y*this.sinX0*Math.sin(n)))),e=-1*Yn(this.e,Math.tan(.5*(P+s)));return r.x=t,r.y=e,r}var vM=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"];const gM={init:pM,forward:_M,inverse:mM,names:vM,ssfn_:fM};function yM(){var r=this.lat0;this.lambda0=this.long0;var t=Math.sin(r),e=this.a,i=this.rf,n=1/i,s=2*n-Math.pow(n,2),o=this.e=Math.sqrt(s);this.R=this.k0*e*Math.sqrt(1-s)/(1-s*Math.pow(t,2)),this.alpha=Math.sqrt(1+s/(1-s)*Math.pow(Math.cos(r),4)),this.b0=Math.asin(t/this.alpha);var a=Math.log(Math.tan(Math.PI/4+this.b0/2)),l=Math.log(Math.tan(Math.PI/4+r/2)),h=Math.log((1+o*t)/(1-o*t));this.K=a-this.alpha*l+this.alpha*o/2*h}function bM(r){var t=Math.log(Math.tan(Math.PI/4-r.y/2)),e=this.e/2*Math.log((1+this.e*Math.sin(r.y))/(1-this.e*Math.sin(r.y))),i=-this.alpha*(t+e)+this.K,n=2*(Math.atan(Math.exp(i))-Math.PI/4),s=this.alpha*(r.x-this.lambda0),o=Math.atan(Math.sin(s)/(Math.sin(this.b0)*Math.tan(n)+Math.cos(this.b0)*Math.cos(s))),a=Math.asin(Math.cos(this.b0)*Math.sin(n)-Math.sin(this.b0)*Math.cos(n)*Math.cos(s));return r.y=this.R/2*Math.log((1+Math.sin(a))/(1-Math.sin(a)))+this.y0,r.x=this.R*o+this.x0,r}function wM(r){for(var t=r.x-this.x0,e=r.y-this.y0,i=t/this.R,n=2*(Math.atan(Math.exp(e/this.R))-Math.PI/4),s=Math.asin(Math.cos(this.b0)*Math.sin(n)+Math.sin(this.b0)*Math.cos(n)*Math.cos(i)),o=Math.atan(Math.sin(i)/(Math.cos(this.b0)*Math.cos(i)-Math.sin(this.b0)*Math.tan(n))),a=this.lambda0+o/this.alpha,l=0,h=s,u=-1e3,c=0;Math.abs(h-u)>1e-7;){if(++c>20)return;l=1/this.alpha*(Math.log(Math.tan(Math.PI/4+s/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(h))/2)),u=h,h=2*Math.atan(Math.exp(l))-Math.PI/2}return r.x=a,r.y=h,r}var xM=["somerc"];const CM={init:yM,forward:bM,inverse:wM,names:xM};var _r=1e-7;function AM(r){var t=["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"],e=typeof r.PROJECTION=="object"?Object.keys(r.PROJECTION)[0]:r.PROJECTION;return"no_uoff"in r||"no_off"in r||t.indexOf(e)!==-1}function EM(){var r,t,e,i,n,s,o,a,l,h,u=0,c,d=0,f=0,p=0,_=0,m=0,g=0;this.no_off=AM(this),this.no_rot="no_rot"in this;var y=!1;"alpha"in this&&(y=!0);var b=!1;if("rectified_grid_angle"in this&&(b=!0),y&&(g=this.alpha),b&&(u=this.rectified_grid_angle*Fe),y||b)d=this.longc;else if(f=this.long1,_=this.lat1,p=this.long2,m=this.lat2,Math.abs(_-m)<=_r||(r=Math.abs(_))<=_r||Math.abs(r-P)<=_r||Math.abs(Math.abs(this.lat0)-P)<=_r||Math.abs(Math.abs(m)-P)<=_r)throw new Error;var C=1-this.es;t=Math.sqrt(C),Math.abs(this.lat0)>$?(a=Math.sin(this.lat0),e=Math.cos(this.lat0),r=1-this.es*a*a,this.B=e*e,this.B=Math.sqrt(1+this.es*this.B*this.B/C),this.A=this.B*this.k0*t/r,i=this.B*t/(e*Math.sqrt(r)),n=i*i-1,n<=0?n=0:(n=Math.sqrt(n),this.lat0<0&&(n=-n)),this.E=n+=i,this.E*=Math.pow(Ct(this.e,this.lat0,a),this.B)):(this.B=1/t,this.A=this.k0,this.E=i=n=1),y||b?(y?(c=Math.asin(Math.sin(g)/i),b||(u=g)):(c=u,g=Math.asin(i*Math.sin(c))),this.lam0=d-Math.asin(.5*(n-1/n)*Math.tan(c))/this.B):(s=Math.pow(Ct(this.e,_,Math.sin(_)),this.B),o=Math.pow(Ct(this.e,m,Math.sin(m)),this.B),n=this.E/s,l=(o-s)/(o+s),h=this.E*this.E,h=(h-o*s)/(h+o*s),r=f-p,r<-Math.pi?p-=Un:r>Math.pi&&(p+=Un),this.lam0=G(.5*(f+p)-Math.atan(h*Math.tan(.5*this.B*(f-p))/l)/this.B),c=Math.atan(2*Math.sin(this.B*G(f-this.lam0))/(n-1/n)),u=g=Math.asin(i*Math.sin(c))),this.singam=Math.sin(c),this.cosgam=Math.cos(c),this.sinrot=Math.sin(u),this.cosrot=Math.cos(u),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.A*this.B,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(i*i-1)/Math.cos(g))),this.lat0<0&&(this.u_0=-this.u_0)),n=.5*c,this.v_pole_n=this.ArB*Math.log(Math.tan(le-n)),this.v_pole_s=this.ArB*Math.log(Math.tan(le+n))}function IM(r){var t={},e,i,n,s,o,a,l,h;if(r.x=r.x-this.lam0,Math.abs(Math.abs(r.y)-P)>$){if(o=this.E/Math.pow(Ct(this.e,r.y,Math.sin(r.y)),this.B),a=1/o,e=.5*(o-a),i=.5*(o+a),s=Math.sin(this.B*r.x),n=(e*this.singam-s*this.cosgam)/i,Math.abs(Math.abs(n)-1)<$)throw new Error;h=.5*this.ArB*Math.log((1-n)/(1+n)),a=Math.cos(this.B*r.x),Math.abs(a)<_r?l=this.A*r.x:l=this.ArB*Math.atan2(e*this.cosgam+s*this.singam,a)}else h=r.y>0?this.v_pole_n:this.v_pole_s,l=this.ArB*r.y;return this.no_rot?(t.x=l,t.y=h):(l-=this.u_0,t.x=h*this.cosrot+l*this.sinrot,t.y=l*this.cosrot-h*this.sinrot),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function SM(r){var t,e,i,n,s,o,a,l={};if(r.x=(r.x-this.x0)*(1/this.a),r.y=(r.y-this.y0)*(1/this.a),this.no_rot?(e=r.y,t=r.x):(e=r.x*this.cosrot-r.y*this.sinrot,t=r.y*this.cosrot+r.x*this.sinrot+this.u_0),i=Math.exp(-this.BrA*e),n=.5*(i-1/i),s=.5*(i+1/i),o=Math.sin(this.BrA*t),a=(o*this.cosgam+n*this.singam)/s,Math.abs(Math.abs(a)-1)<$)l.x=0,l.y=a<0?-P:P;else{if(l.y=this.E/Math.sqrt((1+a)/(1-a)),l.y=Yn(this.e,Math.pow(l.y,1/this.B)),l.y===1/0)throw new Error;l.x=-this.rB*Math.atan2(n*this.cosgam-o*this.singam,Math.cos(this.BrA*t))}return l.x+=this.lam0,l}var TM=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"];const OM={init:EM,forward:IM,inverse:SM,names:TM};function MM(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<$)){var r=this.b/this.a;this.e=Math.sqrt(1-r*r);var t=Math.sin(this.lat1),e=Math.cos(this.lat1),i=Ft(this.e,t,e),n=Ct(this.e,this.lat1,t),s=Math.sin(this.lat2),o=Math.cos(this.lat2),a=Ft(this.e,s,o),l=Ct(this.e,this.lat2,s),h=Ct(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>$?this.ns=Math.log(i/a)/Math.log(n/l):this.ns=t,isNaN(this.ns)&&(this.ns=t),this.f0=i/(this.ns*Math.pow(n,this.ns)),this.rh=this.a*this.f0*Math.pow(h,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function RM(r){var t=r.x,e=r.y;Math.abs(2*Math.abs(e)-Math.PI)<=$&&(e=as(e)*(P-2*$));var i=Math.abs(Math.abs(e)-P),n,s;if(i>$)n=Ct(this.e,e,Math.sin(e)),s=this.a*this.f0*Math.pow(n,this.ns);else{if(i=e*this.ns,i<=0)return null;s=0}var o=this.ns*G(t-this.long0);return r.x=this.k0*(s*Math.sin(o))+this.x0,r.y=this.k0*(this.rh-s*Math.cos(o))+this.y0,r}function PM(r){var t,e,i,n,s,o=(r.x-this.x0)/this.k0,a=this.rh-(r.y-this.y0)/this.k0;this.ns>0?(t=Math.sqrt(o*o+a*a),e=1):(t=-Math.sqrt(o*o+a*a),e=-1);var l=0;if(t!==0&&(l=Math.atan2(e*o,e*a)),t!==0||this.ns>0){if(e=1/this.ns,i=Math.pow(t/(this.a*this.f0),e),n=Yn(this.e,i),n===-9999)return null}else n=-P;return s=G(l/this.ns+this.long0),r.x=s,r.y=n,r}var kM=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"];const DM={init:MM,forward:RM,inverse:PM,names:kM};function LM(){this.a=6377397155e-3,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.7417649320975901-.308341501185665),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function FM(r){var t,e,i,n,s,o,a,l=r.x,h=r.y,u=G(l-this.long0);return t=Math.pow((1+this.e*Math.sin(h))/(1-this.e*Math.sin(h)),this.alfa*this.e/2),e=2*(Math.atan(this.k*Math.pow(Math.tan(h/2+this.s45),this.alfa)/t)-this.s45),i=-u*this.alfa,n=Math.asin(Math.cos(this.ad)*Math.sin(e)+Math.sin(this.ad)*Math.cos(e)*Math.cos(i)),s=Math.asin(Math.cos(e)*Math.sin(i)/Math.cos(n)),o=this.n*s,a=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(n/2+this.s45),this.n),r.y=a*Math.cos(o)/1,r.x=a*Math.sin(o)/1,this.czech||(r.y*=-1,r.x*=-1),r}function $M(r){var t,e,i,n,s,o,a,l,h=r.x;r.x=r.y,r.y=h,this.czech||(r.y*=-1,r.x*=-1),o=Math.sqrt(r.x*r.x+r.y*r.y),s=Math.atan2(r.y,r.x),n=s/Math.sin(this.s0),i=2*(Math.atan(Math.pow(this.ro0/o,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),t=Math.asin(Math.cos(this.ad)*Math.sin(i)-Math.sin(this.ad)*Math.cos(i)*Math.cos(n)),e=Math.asin(Math.cos(i)*Math.sin(n)/Math.cos(t)),r.x=this.long0-e/this.alfa,a=t,l=0;var u=0;do r.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(t/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(a))/(1-this.e*Math.sin(a)),this.e/2))-this.s45),Math.abs(a-r.y)<1e-10&&(l=1),a=r.y,u+=1;while(l===0&&u<15);return u>=15?null:r}var NM=["Krovak","krovak"];const zM={init:LM,forward:FM,inverse:$M,names:NM};function Xe(r,t,e,i,n){return r*n-t*Math.sin(2*n)+e*Math.sin(4*n)-i*Math.sin(6*n)}function ls(r){return 1-.25*r*(1+r/16*(3+1.25*r))}function hs(r){return .375*r*(1+.25*r*(1+.46875*r))}function us(r){return .05859375*r*r*(1+.75*r)}function cs(r){return r*r*r*(35/3072)}function Nr(r,t,e){var i=t*e;return r/Math.sqrt(1-i*i)}function Kr(r){return Math.abs(r)<P?r:r-as(r)*Math.PI}function Fa(r,t,e,i,n){var s,o;s=r/t;for(var a=0;a<15;a++)if(o=(r-(t*s-e*Math.sin(2*s)+i*Math.sin(4*s)-n*Math.sin(6*s)))/(t-2*e*Math.cos(2*s)+4*i*Math.cos(4*s)-6*n*Math.cos(6*s)),s+=o,Math.abs(o)<=1e-10)return s;return NaN}function BM(){this.sphere||(this.e0=ls(this.es),this.e1=hs(this.es),this.e2=us(this.es),this.e3=cs(this.es),this.ml0=this.a*Xe(this.e0,this.e1,this.e2,this.e3,this.lat0))}function VM(r){var t,e,i=r.x,n=r.y;if(i=G(i-this.long0),this.sphere)t=this.a*Math.asin(Math.cos(n)*Math.sin(i)),e=this.a*(Math.atan2(Math.tan(n),Math.cos(i))-this.lat0);else{var s=Math.sin(n),o=Math.cos(n),a=Nr(this.a,this.e,s),l=Math.tan(n)*Math.tan(n),h=i*Math.cos(n),u=h*h,c=this.es*o*o/(1-this.es),d=this.a*Xe(this.e0,this.e1,this.e2,this.e3,n);t=a*h*(1-u*l*(1/6-(8-l+8*c)*u/120)),e=d-this.ml0+a*s/o*u*(.5+(5-l+6*c)*u/24)}return r.x=t+this.x0,r.y=e+this.y0,r}function GM(r){r.x-=this.x0,r.y-=this.y0;var t=r.x/this.a,e=r.y/this.a,i,n;if(this.sphere){var s=e+this.lat0;i=Math.asin(Math.sin(s)*Math.cos(t)),n=Math.atan2(Math.tan(t),Math.cos(s))}else{var o=this.ml0/this.a+e,a=Fa(o,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(a)-P)<=$)return r.x=this.long0,r.y=P,e<0&&(r.y*=-1),r;var l=Nr(this.a,this.e,Math.sin(a)),h=l*l*l/this.a/this.a*(1-this.es),u=Math.pow(Math.tan(a),2),c=t*this.a/l,d=c*c;i=a-l*Math.tan(a)/h*c*c*(.5-(1+3*u)*c*c/24),n=c*(1-d*(u/3+(1+3*u)*u*d/15))/Math.cos(a)}return r.x=G(n+this.long0),r.y=Kr(i),r}var HM=["Cassini","Cassini_Soldner","cass"];const UM={init:BM,forward:VM,inverse:GM,names:HM};function gi(r,t){var e;return r>1e-7?(e=r*t,(1-r*r)*(t/(1-e*e)-.5/r*Math.log((1-e)/(1+e)))):2*t}var WM=1,YM=2,jM=3,qM=4;function XM(){var r=Math.abs(this.lat0);if(Math.abs(r-P)<$?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(r)<$?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0){var t;switch(this.qp=gi(this.e,1),this.mmf=.5/(1-this.es),this.apa=nR(this.es),this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),t=Math.sin(this.lat0),this.sinb1=gi(this.e,t)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*t*t)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd;break}}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function KM(r){var t,e,i,n,s,o,a,l,h,u,c=r.x,d=r.y;if(c=G(c-this.long0),this.sphere){if(s=Math.sin(d),u=Math.cos(d),i=Math.cos(c),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(e=this.mode===this.EQUIT?1+u*i:1+this.sinph0*s+this.cosph0*u*i,e<=$)return null;e=Math.sqrt(2/e),t=e*u*Math.sin(c),e*=this.mode===this.EQUIT?s:this.cosph0*s-this.sinph0*u*i}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(i=-i),Math.abs(d+this.lat0)<$)return null;e=le-d*.5,e=2*(this.mode===this.S_POLE?Math.cos(e):Math.sin(e)),t=e*Math.sin(c),e*=i}}else{switch(a=0,l=0,h=0,i=Math.cos(c),n=Math.sin(c),s=Math.sin(d),o=gi(this.e,s),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(a=o/this.qp,l=Math.sqrt(1-a*a)),this.mode){case this.OBLIQ:h=1+this.sinb1*a+this.cosb1*l*i;break;case this.EQUIT:h=1+l*i;break;case this.N_POLE:h=P+d,o=this.qp-o;break;case this.S_POLE:h=d-P,o=this.qp+o;break}if(Math.abs(h)<$)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:h=Math.sqrt(2/h),this.mode===this.OBLIQ?e=this.ymf*h*(this.cosb1*a-this.sinb1*l*i):e=(h=Math.sqrt(2/(1+l*i)))*a*this.ymf,t=this.xmf*h*l*n;break;case this.N_POLE:case this.S_POLE:o>=0?(t=(h=Math.sqrt(o))*n,e=i*(this.mode===this.S_POLE?h:-h)):t=e=0;break}}return r.x=this.a*t+this.x0,r.y=this.a*e+this.y0,r}function ZM(r){r.x-=this.x0,r.y-=this.y0;var t=r.x/this.a,e=r.y/this.a,i,n,s,o,a,l,h;if(this.sphere){var u=0,c,d=0;if(c=Math.sqrt(t*t+e*e),n=c*.5,n>1)return null;switch(n=2*Math.asin(n),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(d=Math.sin(n),u=Math.cos(n)),this.mode){case this.EQUIT:n=Math.abs(c)<=$?0:Math.asin(e*d/c),t*=d,e=u*c;break;case this.OBLIQ:n=Math.abs(c)<=$?this.lat0:Math.asin(u*this.sinph0+e*d*this.cosph0/c),t*=d*this.cosph0,e=(u-Math.sin(n)*this.sinph0)*c;break;case this.N_POLE:e=-e,n=P-n;break;case this.S_POLE:n-=P;break}i=e===0&&(this.mode===this.EQUIT||this.mode===this.OBLIQ)?0:Math.atan2(t,e)}else{if(h=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(t/=this.dd,e*=this.dd,l=Math.sqrt(t*t+e*e),l<$)return r.x=this.long0,r.y=this.lat0,r;o=2*Math.asin(.5*l/this.rq),s=Math.cos(o),t*=o=Math.sin(o),this.mode===this.OBLIQ?(h=s*this.sinb1+e*o*this.cosb1/l,a=this.qp*h,e=l*this.cosb1*s-e*this.sinb1*o):(h=e*o/l,a=this.qp*h,e=l*s)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(e=-e),a=t*t+e*e,!a)return r.x=this.long0,r.y=this.lat0,r;h=1-a/this.qp,this.mode===this.S_POLE&&(h=-h)}i=Math.atan2(t,e),n=sR(Math.asin(h),this.apa)}return r.x=G(this.long0+i),r.y=n,r}var QM=.3333333333333333,JM=.17222222222222222,eR=.10257936507936508,tR=.06388888888888888,iR=.0664021164021164,rR=.016415012942191543;function nR(r){var t,e=[];return e[0]=r*QM,t=r*r,e[0]+=t*JM,e[1]=t*tR,t*=r,e[0]+=t*eR,e[1]+=t*iR,e[2]=t*rR,e}function sR(r,t){var e=r+r;return r+t[0]*Math.sin(e)+t[1]*Math.sin(e+e)+t[2]*Math.sin(e+e+e)}var oR=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"];const aR={init:XM,forward:KM,inverse:ZM,names:oR,S_POLE:WM,N_POLE:YM,EQUIT:jM,OBLIQ:qM};function Ei(r){return Math.abs(r)>1&&(r=r>1?1:-1),Math.asin(r)}function lR(){Math.abs(this.lat1+this.lat2)<$||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=Ft(this.e3,this.sin_po,this.cos_po),this.qs1=gi(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=Ft(this.e3,this.sin_po,this.cos_po),this.qs2=gi(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=gi(this.e3,this.sin_po),Math.abs(this.lat1-this.lat2)>$?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function hR(r){var t=r.x,e=r.y;this.sin_phi=Math.sin(e),this.cos_phi=Math.cos(e);var i=gi(this.e3,this.sin_phi),n=this.a*Math.sqrt(this.c-this.ns0*i)/this.ns0,s=this.ns0*G(t-this.long0),o=n*Math.sin(s)+this.x0,a=this.rh-n*Math.cos(s)+this.y0;return r.x=o,r.y=a,r}function uR(r){var t,e,i,n,s,o;return r.x-=this.x0,r.y=this.rh-r.y+this.y0,this.ns0>=0?(t=Math.sqrt(r.x*r.x+r.y*r.y),i=1):(t=-Math.sqrt(r.x*r.x+r.y*r.y),i=-1),n=0,t!==0&&(n=Math.atan2(i*r.x,i*r.y)),i=t*this.ns0/this.a,this.sphere?o=Math.asin((this.c-i*i)/(2*this.ns0)):(e=(this.c-i*i)/this.ns0,o=this.phi1z(this.e3,e)),s=G(n/this.ns0+this.long0),r.x=s,r.y=o,r}function cR(r,t){var e,i,n,s,o,a=Ei(.5*t);if(r<$)return a;for(var l=r*r,h=1;h<=25;h++)if(e=Math.sin(a),i=Math.cos(a),n=r*e,s=1-n*n,o=.5*s*s/i*(t/(1-l)-e/s+.5/r*Math.log((1-n)/(1+n))),a=a+o,Math.abs(o)<=1e-7)return a;return null}var dR=["Albers_Conic_Equal_Area","Albers","aea"];const fR={init:lR,forward:hR,inverse:uR,names:dR,phi1z:cR};function pR(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function _R(r){var t,e,i,n,s,o,a,l,h=r.x,u=r.y;return i=G(h-this.long0),t=Math.sin(u),e=Math.cos(u),n=Math.cos(i),o=this.sin_p14*t+this.cos_p14*e*n,s=1,o>0||Math.abs(o)<=$?(a=this.x0+this.a*s*e*Math.sin(i)/o,l=this.y0+this.a*s*(this.cos_p14*t-this.sin_p14*e*n)/o):(a=this.x0+this.infinity_dist*e*Math.sin(i),l=this.y0+this.infinity_dist*(this.cos_p14*t-this.sin_p14*e*n)),r.x=a,r.y=l,r}function mR(r){var t,e,i,n,s,o;return r.x=(r.x-this.x0)/this.a,r.y=(r.y-this.y0)/this.a,r.x/=this.k0,r.y/=this.k0,(t=Math.sqrt(r.x*r.x+r.y*r.y))?(n=Math.atan2(t,this.rc),e=Math.sin(n),i=Math.cos(n),o=Ei(i*this.sin_p14+r.y*e*this.cos_p14/t),s=Math.atan2(r.x*e,t*this.cos_p14*i-r.y*this.sin_p14*e),s=G(this.long0+s)):(o=this.phic0,s=0),r.x=s,r.y=o,r}var vR=["gnom"];const gR={init:pR,forward:_R,inverse:mR,names:vR};function yR(r,t){var e=1-(1-r*r)/(2*r)*Math.log((1-r)/(1+r));if(Math.abs(Math.abs(t)-e)<1e-6)return t<0?-1*P:P;for(var i=Math.asin(.5*t),n,s,o,a,l=0;l<30;l++)if(s=Math.sin(i),o=Math.cos(i),a=r*s,n=Math.pow(1-a*a,2)/(2*o)*(t/(1-r*r)-s/(1-a*a)+.5/r*Math.log((1-a)/(1+a))),i+=n,Math.abs(n)<=1e-10)return i;return NaN}function bR(){this.sphere||(this.k0=Ft(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function wR(r){var t=r.x,e=r.y,i,n,s=G(t-this.long0);if(this.sphere)i=this.x0+this.a*s*Math.cos(this.lat_ts),n=this.y0+this.a*Math.sin(e)/Math.cos(this.lat_ts);else{var o=gi(this.e,Math.sin(e));i=this.x0+this.a*this.k0*s,n=this.y0+this.a*o*.5/this.k0}return r.x=i,r.y=n,r}function xR(r){r.x-=this.x0,r.y-=this.y0;var t,e;return this.sphere?(t=G(this.long0+r.x/this.a/Math.cos(this.lat_ts)),e=Math.asin(r.y/this.a*Math.cos(this.lat_ts))):(e=yR(this.e,2*r.y*this.k0/this.a),t=G(this.long0+r.x/(this.a*this.k0))),r.x=t,r.y=e,r}var CR=["cea"];const AR={init:bR,forward:wR,inverse:xR,names:CR};function ER(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function IR(r){var t=r.x,e=r.y,i=G(t-this.long0),n=Kr(e-this.lat0);return r.x=this.x0+this.a*i*this.rc,r.y=this.y0+this.a*n,r}function SR(r){var t=r.x,e=r.y;return r.x=G(this.long0+(t-this.x0)/(this.a*this.rc)),r.y=Kr(this.lat0+(e-this.y0)/this.a),r}var TR=["Equirectangular","Equidistant_Cylindrical","eqc"];const OR={init:ER,forward:IR,inverse:SR,names:TR};var q_=20;function MR(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=ls(this.es),this.e1=hs(this.es),this.e2=us(this.es),this.e3=cs(this.es),this.ml0=this.a*Xe(this.e0,this.e1,this.e2,this.e3,this.lat0)}function RR(r){var t=r.x,e=r.y,i,n,s,o=G(t-this.long0);if(s=o*Math.sin(e),this.sphere)Math.abs(e)<=$?(i=this.a*o,n=-1*this.a*this.lat0):(i=this.a*Math.sin(s)/Math.tan(e),n=this.a*(Kr(e-this.lat0)+(1-Math.cos(s))/Math.tan(e)));else if(Math.abs(e)<=$)i=this.a*o,n=-1*this.ml0;else{var a=Nr(this.a,this.e,Math.sin(e))/Math.tan(e);i=a*Math.sin(s),n=this.a*Xe(this.e0,this.e1,this.e2,this.e3,e)-this.ml0+a*(1-Math.cos(s))}return r.x=i+this.x0,r.y=n+this.y0,r}function PR(r){var t,e,i,n,s,o,a,l,h;if(i=r.x-this.x0,n=r.y-this.y0,this.sphere)if(Math.abs(n+this.a*this.lat0)<=$)t=G(i/this.a+this.long0),e=0;else{o=this.lat0+n/this.a,a=i*i/this.a/this.a+o*o,l=o;var u;for(s=q_;s;--s)if(u=Math.tan(l),h=-1*(o*(l*u+1)-l-.5*(l*l+a)*u)/((l-o)/u-1),l+=h,Math.abs(h)<=$){e=l;break}t=G(this.long0+Math.asin(i*Math.tan(l)/this.a)/Math.sin(e))}else if(Math.abs(n+this.ml0)<=$)e=0,t=G(this.long0+i/this.a);else{o=(this.ml0+n)/this.a,a=i*i/this.a/this.a+o*o,l=o;var c,d,f,p,_;for(s=q_;s;--s)if(_=this.e*Math.sin(l),c=Math.sqrt(1-_*_)*Math.tan(l),d=this.a*Xe(this.e0,this.e1,this.e2,this.e3,l),f=this.e0-2*this.e1*Math.cos(2*l)+4*this.e2*Math.cos(4*l)-6*this.e3*Math.cos(6*l),p=d/this.a,h=(o*(c*p+1)-p-.5*c*(p*p+a))/(this.es*Math.sin(2*l)*(p*p+a-2*o*p)/(4*c)+(o-p)*(c*f-2/Math.sin(2*l))-f),l-=h,Math.abs(h)<=$){e=l;break}c=Math.sqrt(1-this.es*Math.pow(Math.sin(e),2))*Math.tan(e),t=G(this.long0+Math.asin(i*c/this.a)/Math.sin(e))}return r.x=t,r.y=e,r}var kR=["Polyconic","poly"];const DR={init:MR,forward:RR,inverse:PR,names:kR};function LR(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function FR(r){var t,e=r.x,i=r.y,n=i-this.lat0,s=e-this.long0,o=n/Dn*1e-5,a=s,l=1,h=0;for(t=1;t<=10;t++)l=l*o,h=h+this.A[t]*l;var u=h,c=a,d=1,f=0,p,_,m=0,g=0;for(t=1;t<=6;t++)p=d*u-f*c,_=f*u+d*c,d=p,f=_,m=m+this.B_re[t]*d-this.B_im[t]*f,g=g+this.B_im[t]*d+this.B_re[t]*f;return r.x=g*this.a+this.x0,r.y=m*this.a+this.y0,r}function $R(r){var t,e=r.x,i=r.y,n=e-this.x0,s=i-this.y0,o=s/this.a,a=n/this.a,l=1,h=0,u,c,d=0,f=0;for(t=1;t<=6;t++)u=l*o-h*a,c=h*o+l*a,l=u,h=c,d=d+this.C_re[t]*l-this.C_im[t]*h,f=f+this.C_im[t]*l+this.C_re[t]*h;for(var p=0;p<this.iterations;p++){var _=d,m=f,g,y,b=o,C=a;for(t=2;t<=6;t++)g=_*d-m*f,y=m*d+_*f,_=g,m=y,b=b+(t-1)*(this.B_re[t]*_-this.B_im[t]*m),C=C+(t-1)*(this.B_im[t]*_+this.B_re[t]*m);_=1,m=0;var E=this.B_re[1],I=this.B_im[1];for(t=2;t<=6;t++)g=_*d-m*f,y=m*d+_*f,_=g,m=y,E=E+t*(this.B_re[t]*_-this.B_im[t]*m),I=I+t*(this.B_im[t]*_+this.B_re[t]*m);var M=E*E+I*I;d=(b*E+C*I)/M,f=(C*E-b*I)/M}var T=d,D=f,L=1,z=0;for(t=1;t<=9;t++)L=L*T,z=z+this.D[t]*L;var U=this.lat0+z*Dn*1e5,V=this.long0+D;return r.x=V,r.y=U,r}var NR=["New_Zealand_Map_Grid","nzmg"];const zR={init:LR,forward:FR,inverse:$R,names:NR};function BR(){}function VR(r){var t=r.x,e=r.y,i=G(t-this.long0),n=this.x0+this.a*i,s=this.y0+this.a*Math.log(Math.tan(Math.PI/4+e/2.5))*1.25;return r.x=n,r.y=s,r}function GR(r){r.x-=this.x0,r.y-=this.y0;var t=G(this.long0+r.x/this.a),e=2.5*(Math.atan(Math.exp(.8*r.y/this.a))-Math.PI/4);return r.x=t,r.y=e,r}var HR=["Miller_Cylindrical","mill"];const UR={init:BR,forward:VR,inverse:GR,names:HR};var WR=20;function YR(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=Xg(this.es)}function jR(r){var t,e,i=r.x,n=r.y;if(i=G(i-this.long0),this.sphere){if(!this.m)n=this.n!==1?Math.asin(this.n*Math.sin(n)):n;else for(var s=this.n*Math.sin(n),o=WR;o;--o){var a=(this.m*n+Math.sin(n)-s)/(this.m+Math.cos(n));if(n-=a,Math.abs(a)<$)break}t=this.a*this.C_x*i*(this.m+Math.cos(n)),e=this.a*this.C_y*n}else{var l=Math.sin(n),h=Math.cos(n);e=this.a*pl(n,l,h,this.en),t=this.a*i*h/Math.sqrt(1-this.es*l*l)}return r.x=t,r.y=e,r}function qR(r){var t,e,i,n;return r.x-=this.x0,i=r.x/this.a,r.y-=this.y0,t=r.y/this.a,this.sphere?(t/=this.C_y,i=i/(this.C_x*(this.m+Math.cos(t))),this.m?t=Ei((this.m*t+Math.sin(t))/this.n):this.n!==1&&(t=Ei(Math.sin(t)/this.n)),i=G(i+this.long0),t=Kr(t)):(t=Kg(r.y/this.a,this.es,this.en),n=Math.abs(t),n<P?(n=Math.sin(t),e=this.long0+r.x*Math.sqrt(1-this.es*n*n)/(this.a*Math.cos(t)),i=G(e)):n-$<P&&(i=this.long0)),r.x=i,r.y=t,r}var XR=["Sinusoidal","sinu"];const KR={init:YR,forward:jR,inverse:qR,names:XR};function ZR(){}function QR(r){for(var t=r.x,e=r.y,i=G(t-this.long0),n=e,s=Math.PI*Math.sin(e);;){var o=-(n+Math.sin(n)-s)/(1+Math.cos(n));if(n+=o,Math.abs(o)<$)break}n/=2,Math.PI/2-Math.abs(e)<$&&(i=0);var a=.900316316158*this.a*i*Math.cos(n)+this.x0,l=1.4142135623731*this.a*Math.sin(n)+this.y0;return r.x=a,r.y=l,r}function JR(r){var t,e;r.x-=this.x0,r.y-=this.y0,e=r.y/(1.4142135623731*this.a),Math.abs(e)>.999999999999&&(e=.999999999999),t=Math.asin(e);var i=G(this.long0+r.x/(.900316316158*this.a*Math.cos(t)));i<-Math.PI&&(i=-Math.PI),i>Math.PI&&(i=Math.PI),e=(2*t+Math.sin(2*t))/Math.PI,Math.abs(e)>1&&(e=1);var n=Math.asin(e);return r.x=i,r.y=n,r}var eP=["Mollweide","moll"];const tP={init:ZR,forward:QR,inverse:JR,names:eP};function iP(){Math.abs(this.lat1+this.lat2)<$||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=ls(this.es),this.e1=hs(this.es),this.e2=us(this.es),this.e3=cs(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=Ft(this.e,this.sinphi,this.cosphi),this.ml1=Xe(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<$?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=Ft(this.e,this.sinphi,this.cosphi),this.ml2=Xe(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=Xe(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function rP(r){var t=r.x,e=r.y,i;if(this.sphere)i=this.a*(this.g-e);else{var n=Xe(this.e0,this.e1,this.e2,this.e3,e);i=this.a*(this.g-n)}var s=this.ns*G(t-this.long0),o=this.x0+i*Math.sin(s),a=this.y0+this.rh-i*Math.cos(s);return r.x=o,r.y=a,r}function nP(r){r.x-=this.x0,r.y=this.rh-r.y+this.y0;var t,e,i,n;this.ns>=0?(e=Math.sqrt(r.x*r.x+r.y*r.y),t=1):(e=-Math.sqrt(r.x*r.x+r.y*r.y),t=-1);var s=0;if(e!==0&&(s=Math.atan2(t*r.x,t*r.y)),this.sphere)return n=G(this.long0+s/this.ns),i=Kr(this.g-e/this.a),r.x=n,r.y=i,r;var o=this.g-e/this.a;return i=Fa(o,this.e0,this.e1,this.e2,this.e3),n=G(this.long0+s/this.ns),r.x=n,r.y=i,r}var sP=["Equidistant_Conic","eqdc"];const oP={init:iP,forward:rP,inverse:nP,names:sP};function aP(){this.R=this.a}function lP(r){var t=r.x,e=r.y,i=G(t-this.long0),n,s;Math.abs(e)<=$&&(n=this.x0+this.R*i,s=this.y0);var o=Ei(2*Math.abs(e/Math.PI));(Math.abs(i)<=$||Math.abs(Math.abs(e)-P)<=$)&&(n=this.x0,e>=0?s=this.y0+Math.PI*this.R*Math.tan(.5*o):s=this.y0+Math.PI*this.R*-Math.tan(.5*o));var a=.5*Math.abs(Math.PI/i-i/Math.PI),l=a*a,h=Math.sin(o),u=Math.cos(o),c=u/(h+u-1),d=c*c,f=c*(2/h-1),p=f*f,_=Math.PI*this.R*(a*(c-p)+Math.sqrt(l*(c-p)*(c-p)-(p+l)*(d-p)))/(p+l);i<0&&(_=-_),n=this.x0+_;var m=l+c;return _=Math.PI*this.R*(f*m-a*Math.sqrt((p+l)*(l+1)-m*m))/(p+l),e>=0?s=this.y0+_:s=this.y0-_,r.x=n,r.y=s,r}function hP(r){var t,e,i,n,s,o,a,l,h,u,c,d,f;return r.x-=this.x0,r.y-=this.y0,c=Math.PI*this.R,i=r.x/c,n=r.y/c,s=i*i+n*n,o=-Math.abs(n)*(1+s),a=o-2*n*n+i*i,l=-2*o+1+2*n*n+s*s,f=n*n/l+(2*a*a*a/l/l/l-9*o*a/l/l)/27,h=(o-a*a/3/l)/l,u=2*Math.sqrt(-h/3),c=3*f/h/u,Math.abs(c)>1&&(c>=0?c=1:c=-1),d=Math.acos(c)/3,r.y>=0?e=(-u*Math.cos(d+Math.PI/3)-a/3/l)*Math.PI:e=-(-u*Math.cos(d+Math.PI/3)-a/3/l)*Math.PI,Math.abs(i)<$?t=this.long0:t=G(this.long0+Math.PI*(s-1+Math.sqrt(1+2*(i*i-n*n)+s*s))/2/i),r.x=t,r.y=e,r}var uP=["Van_der_Grinten_I","VanDerGrinten","vandg"];const cP={init:aP,forward:lP,inverse:hP,names:uP};function dP(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)}function fP(r){var t=r.x,e=r.y,i=Math.sin(r.y),n=Math.cos(r.y),s=G(t-this.long0),o,a,l,h,u,c,d,f,p,_,m,g,y,b,C,E,I,M,T,D,L,z,U;return this.sphere?Math.abs(this.sin_p12-1)<=$?(r.x=this.x0+this.a*(P-e)*Math.sin(s),r.y=this.y0-this.a*(P-e)*Math.cos(s),r):Math.abs(this.sin_p12+1)<=$?(r.x=this.x0+this.a*(P+e)*Math.sin(s),r.y=this.y0+this.a*(P+e)*Math.cos(s),r):(M=this.sin_p12*i+this.cos_p12*n*Math.cos(s),E=Math.acos(M),I=E?E/Math.sin(E):1,r.x=this.x0+this.a*I*n*Math.sin(s),r.y=this.y0+this.a*I*(this.cos_p12*i-this.sin_p12*n*Math.cos(s)),r):(o=ls(this.es),a=hs(this.es),l=us(this.es),h=cs(this.es),Math.abs(this.sin_p12-1)<=$?(u=this.a*Xe(o,a,l,h,P),c=this.a*Xe(o,a,l,h,e),r.x=this.x0+(u-c)*Math.sin(s),r.y=this.y0-(u-c)*Math.cos(s),r):Math.abs(this.sin_p12+1)<=$?(u=this.a*Xe(o,a,l,h,P),c=this.a*Xe(o,a,l,h,e),r.x=this.x0+(u+c)*Math.sin(s),r.y=this.y0+(u+c)*Math.cos(s),r):(d=i/n,f=Nr(this.a,this.e,this.sin_p12),p=Nr(this.a,this.e,i),_=Math.atan((1-this.es)*d+this.es*f*this.sin_p12/(p*n)),m=Math.atan2(Math.sin(s),this.cos_p12*Math.tan(_)-this.sin_p12*Math.cos(s)),m===0?T=Math.asin(this.cos_p12*Math.sin(_)-this.sin_p12*Math.cos(_)):Math.abs(Math.abs(m)-Math.PI)<=$?T=-Math.asin(this.cos_p12*Math.sin(_)-this.sin_p12*Math.cos(_)):T=Math.asin(Math.sin(s)*Math.cos(_)/Math.sin(m)),g=this.e*this.sin_p12/Math.sqrt(1-this.es),y=this.e*this.cos_p12*Math.cos(m)/Math.sqrt(1-this.es),b=g*y,C=y*y,D=T*T,L=D*T,z=L*T,U=z*T,E=f*T*(1-D*C*(1-C)/6+L/8*b*(1-2*C)+z/120*(C*(4-7*C)-3*g*g*(1-7*C))-U/48*b),r.x=this.x0+E*Math.sin(m),r.y=this.y0+E*Math.cos(m),r))}function pP(r){r.x-=this.x0,r.y-=this.y0;var t,e,i,n,s,o,a,l,h,u,c,d,f,p,_,m,g,y,b,C,E,I,M,T;return this.sphere?(t=Math.sqrt(r.x*r.x+r.y*r.y),t>2*P*this.a?void 0:(e=t/this.a,i=Math.sin(e),n=Math.cos(e),s=this.long0,Math.abs(t)<=$?o=this.lat0:(o=Ei(n*this.sin_p12+r.y*i*this.cos_p12/t),a=Math.abs(this.lat0)-P,Math.abs(a)<=$?this.lat0>=0?s=G(this.long0+Math.atan2(r.x,-r.y)):s=G(this.long0-Math.atan2(-r.x,r.y)):s=G(this.long0+Math.atan2(r.x*i,t*this.cos_p12*n-r.y*this.sin_p12*i))),r.x=s,r.y=o,r)):(l=ls(this.es),h=hs(this.es),u=us(this.es),c=cs(this.es),Math.abs(this.sin_p12-1)<=$?(d=this.a*Xe(l,h,u,c,P),t=Math.sqrt(r.x*r.x+r.y*r.y),f=d-t,o=Fa(f/this.a,l,h,u,c),s=G(this.long0+Math.atan2(r.x,-1*r.y)),r.x=s,r.y=o,r):Math.abs(this.sin_p12+1)<=$?(d=this.a*Xe(l,h,u,c,P),t=Math.sqrt(r.x*r.x+r.y*r.y),f=t-d,o=Fa(f/this.a,l,h,u,c),s=G(this.long0+Math.atan2(r.x,r.y)),r.x=s,r.y=o,r):(t=Math.sqrt(r.x*r.x+r.y*r.y),m=Math.atan2(r.x,r.y),p=Nr(this.a,this.e,this.sin_p12),g=Math.cos(m),y=this.e*this.cos_p12*g,b=-y*y/(1-this.es),C=3*this.es*(1-b)*this.sin_p12*this.cos_p12*g/(1-this.es),E=t/p,I=E-b*(1+b)*Math.pow(E,3)/6-C*(1+3*b)*Math.pow(E,4)/24,M=1-b*I*I/2-E*I*I*I/6,_=Math.asin(this.sin_p12*Math.cos(I)+this.cos_p12*Math.sin(I)*g),s=G(this.long0+Math.asin(Math.sin(m)*Math.sin(I)/Math.cos(_))),T=Math.sin(_),o=Math.atan2((T-this.es*M*this.sin_p12)*Math.tan(_),T*(1-this.es)),r.x=s,r.y=o,r))}var _P=["Azimuthal_Equidistant","aeqd"];const mP={init:dP,forward:fP,inverse:pP,names:_P};function vP(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function gP(r){var t,e,i,n,s,o,a,l,h=r.x,u=r.y;return i=G(h-this.long0),t=Math.sin(u),e=Math.cos(u),n=Math.cos(i),o=this.sin_p14*t+this.cos_p14*e*n,s=1,(o>0||Math.abs(o)<=$)&&(a=this.a*s*e*Math.sin(i),l=this.y0+this.a*s*(this.cos_p14*t-this.sin_p14*e*n)),r.x=a,r.y=l,r}function yP(r){var t,e,i,n,s,o,a;return r.x-=this.x0,r.y-=this.y0,t=Math.sqrt(r.x*r.x+r.y*r.y),e=Ei(t/this.a),i=Math.sin(e),n=Math.cos(e),o=this.long0,Math.abs(t)<=$?(a=this.lat0,r.x=o,r.y=a,r):(a=Ei(n*this.sin_p14+r.y*i*this.cos_p14/t),s=Math.abs(this.lat0)-P,Math.abs(s)<=$?(this.lat0>=0?o=G(this.long0+Math.atan2(r.x,-r.y)):o=G(this.long0-Math.atan2(-r.x,r.y)),r.x=o,r.y=a,r):(o=G(this.long0+Math.atan2(r.x*i,t*this.cos_p14*n-r.y*this.sin_p14*i)),r.x=o,r.y=a,r))}var bP=["ortho"];const wP={init:vP,forward:gP,inverse:yP,names:bP};var be={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},he={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function xP(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=P-le/2?this.face=be.TOP:this.lat0<=-(P-le/2)?this.face=be.BOTTOM:Math.abs(this.long0)<=le?this.face=be.FRONT:Math.abs(this.long0)<=P+le?this.face=this.long0>0?be.RIGHT:be.LEFT:this.face=be.BACK,this.es!==0&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)}function CP(r){var t={x:0,y:0},e,i,n,s,o,a,l={value:0};if(r.x-=this.long0,this.es!==0?e=Math.atan(this.one_minus_f_squared*Math.tan(r.y)):e=r.y,i=r.x,this.face===be.TOP)s=P-e,i>=le&&i<=P+le?(l.value=he.AREA_0,n=i-P):i>P+le||i<=-(P+le)?(l.value=he.AREA_1,n=i>0?i-Ee:i+Ee):i>-(P+le)&&i<=-le?(l.value=he.AREA_2,n=i+P):(l.value=he.AREA_3,n=i);else if(this.face===be.BOTTOM)s=P+e,i>=le&&i<=P+le?(l.value=he.AREA_0,n=-i+P):i<le&&i>=-le?(l.value=he.AREA_1,n=-i):i<-le&&i>=-(P+le)?(l.value=he.AREA_2,n=-i-P):(l.value=he.AREA_3,n=i>0?-i+Ee:-i-Ee);else{var h,u,c,d,f,p,_;this.face===be.RIGHT?i=Pr(i,+P):this.face===be.BACK?i=Pr(i,+Ee):this.face===be.LEFT&&(i=Pr(i,-P)),d=Math.sin(e),f=Math.cos(e),p=Math.sin(i),_=Math.cos(i),h=f*_,u=f*p,c=d,this.face===be.FRONT?(s=Math.acos(h),n=Ls(s,c,u,l)):this.face===be.RIGHT?(s=Math.acos(u),n=Ls(s,c,-h,l)):this.face===be.BACK?(s=Math.acos(-h),n=Ls(s,c,-u,l)):this.face===be.LEFT?(s=Math.acos(-u),n=Ls(s,c,h,l)):(s=n=0,l.value=he.AREA_0)}return a=Math.atan(12/Ee*(n+Math.acos(Math.sin(n)*Math.cos(le))-P)),o=Math.sqrt((1-Math.cos(s))/(Math.cos(a)*Math.cos(a))/(1-Math.cos(Math.atan(1/Math.cos(n))))),l.value===he.AREA_1?a+=P:l.value===he.AREA_2?a+=Ee:l.value===he.AREA_3&&(a+=1.5*Ee),t.x=o*Math.cos(a),t.y=o*Math.sin(a),t.x=t.x*this.a+this.x0,t.y=t.y*this.a+this.y0,r.x=t.x,r.y=t.y,r}function AP(r){var t={lam:0,phi:0},e,i,n,s,o,a,l,h,u,c={value:0};if(r.x=(r.x-this.x0)/this.a,r.y=(r.y-this.y0)/this.a,i=Math.atan(Math.sqrt(r.x*r.x+r.y*r.y)),e=Math.atan2(r.y,r.x),r.x>=0&&r.x>=Math.abs(r.y)?c.value=he.AREA_0:r.y>=0&&r.y>=Math.abs(r.x)?(c.value=he.AREA_1,e-=P):r.x<0&&-r.x>=Math.abs(r.y)?(c.value=he.AREA_2,e=e<0?e+Ee:e-Ee):(c.value=he.AREA_3,e+=P),u=Ee/12*Math.tan(e),o=Math.sin(u)/(Math.cos(u)-1/Math.sqrt(2)),a=Math.atan(o),n=Math.cos(e),s=Math.tan(i),l=1-n*n*s*s*(1-Math.cos(Math.atan(1/Math.cos(a)))),l<-1?l=-1:l>1&&(l=1),this.face===be.TOP)h=Math.acos(l),t.phi=P-h,c.value===he.AREA_0?t.lam=a+P:c.value===he.AREA_1?t.lam=a<0?a+Ee:a-Ee:c.value===he.AREA_2?t.lam=a-P:t.lam=a;else if(this.face===be.BOTTOM)h=Math.acos(l),t.phi=h-P,c.value===he.AREA_0?t.lam=-a+P:c.value===he.AREA_1?t.lam=-a:c.value===he.AREA_2?t.lam=-a-P:t.lam=a<0?-a-Ee:-a+Ee;else{var d,f,p;d=l,u=d*d,u>=1?p=0:p=Math.sqrt(1-u)*Math.sin(a),u+=p*p,u>=1?f=0:f=Math.sqrt(1-u),c.value===he.AREA_1?(u=f,f=-p,p=u):c.value===he.AREA_2?(f=-f,p=-p):c.value===he.AREA_3&&(u=f,f=p,p=-u),this.face===be.RIGHT?(u=d,d=-f,f=u):this.face===be.BACK?(d=-d,f=-f):this.face===be.LEFT&&(u=d,d=f,f=-u),t.phi=Math.acos(-p)-P,t.lam=Math.atan2(f,d),this.face===be.RIGHT?t.lam=Pr(t.lam,-P):this.face===be.BACK?t.lam=Pr(t.lam,-Ee):this.face===be.LEFT&&(t.lam=Pr(t.lam,+P))}if(this.es!==0){var _,m,g;_=t.phi<0?1:0,m=Math.tan(t.phi),g=this.b/Math.sqrt(m*m+this.one_minus_f_squared),t.phi=Math.atan(Math.sqrt(this.a*this.a-g*g)/(this.one_minus_f*g)),_&&(t.phi=-t.phi)}return t.lam+=this.long0,r.x=t.lam,r.y=t.phi,r}function Ls(r,t,e,i){var n;return r<$?(i.value=he.AREA_0,n=0):(n=Math.atan2(t,e),Math.abs(n)<=le?i.value=he.AREA_0:n>le&&n<=P+le?(i.value=he.AREA_1,n-=P):n>P+le||n<=-(P+le)?(i.value=he.AREA_2,n=n>=0?n-Ee:n+Ee):(i.value=he.AREA_3,n+=P)),n}function Pr(r,t){var e=r+t;return e<-Ee?e+=Un:e>+Ee&&(e-=Un),e}var EP=["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"];const IP={init:xP,forward:CP,inverse:AP,names:EP};var Vu=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-986701e-12],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,18736e-12],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,934959e-12],[.7986,-.00755338,-500009e-10,935324e-12],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],Cn=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-126793e-14,422642e-15],[.124,.0124,507171e-14,-160604e-14],[.186,.0123999,-190189e-13,600152e-14],[.248,.0124002,710039e-13,-224e-10],[.31,.0123992,-264997e-12,835986e-13],[.372,.0124029,988983e-12,-311994e-12],[.434,.0123893,-369093e-11,-435621e-12],[.4958,.0123198,-102252e-10,-345523e-12],[.5571,.0121916,-154081e-10,-582288e-12],[.6176,.0119938,-241424e-10,-525327e-12],[.6769,.011713,-320223e-10,-516405e-12],[.7346,.0113541,-397684e-10,-609052e-12],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-140374e-14],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],Jg=.8487,ey=1.3523,ty=Mt/5,SP=1/ty,Ar=18,$a=function(r,t){return r[0]+t*(r[1]+t*(r[2]+t*r[3]))},TP=function(r,t){return r[1]+t*(2*r[2]+t*3*r[3])};function OP(r,t,e,i){for(var n=t;i;--i){var s=r(n);if(n-=s,Math.abs(s)<e)break}return n}function MP(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"}function RP(r){var t=G(r.x-this.long0),e=Math.abs(r.y),i=Math.floor(e*ty);i<0?i=0:i>=Ar&&(i=Ar-1),e=Mt*(e-SP*i);var n={x:$a(Vu[i],e)*t,y:$a(Cn[i],e)};return r.y<0&&(n.y=-n.y),n.x=n.x*this.a*Jg+this.x0,n.y=n.y*this.a*ey+this.y0,n}function PP(r){var t={x:(r.x-this.x0)/(this.a*Jg),y:Math.abs(r.y-this.y0)/(this.a*ey)};if(t.y>=1)t.x/=Vu[Ar][0],t.y=r.y<0?-P:P;else{var e=Math.floor(t.y*Ar);for(e<0?e=0:e>=Ar&&(e=Ar-1);;)if(Cn[e][0]>t.y)--e;else if(Cn[e+1][0]<=t.y)++e;else break;var i=Cn[e],n=5*(t.y-i[0])/(Cn[e+1][0]-i[0]);n=OP(function(s){return($a(i,s)-t.y)/TP(i,s)},n,$,100),t.x/=$a(Vu[e],n),t.y=(5*e+n)*Fe,r.y<0&&(t.y=-t.y)}return t.x=G(t.x+this.long0),t}var kP=["Robinson","robin"];const DP={init:MP,forward:RP,inverse:PP,names:kP};function LP(){this.name="geocent"}function FP(r){var t=Bg(r,this.es,this.a);return t}function $P(r){var t=Vg(r,this.es,this.a,this.b);return t}var NP=["Geocentric","geocentric","geocent","Geocent"];const zP={init:LP,forward:FP,inverse:$P,names:NP};var Ne={N_POLE:0,S_POLE:1,EQUIT:2,OBLIQ:3},pn={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};function BP(){if(Object.keys(pn).forEach(function(e){if(typeof this[e]>"u")this[e]=pn[e].def;else{if(pn[e].num&&isNaN(this[e]))throw new Error("Invalid parameter value, must be numeric "+e+" = "+this[e]);pn[e].num&&(this[e]=parseFloat(this[e]))}pn[e].degrees&&(this[e]=this[e]*Fe)}.bind(this)),Math.abs(Math.abs(this.lat0)-P)<$?this.mode=this.lat0<0?Ne.S_POLE:Ne.N_POLE:Math.abs(this.lat0)<$?this.mode=Ne.EQUIT:(this.mode=Ne.OBLIQ,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var r=this.tilt,t=this.azi;this.cg=Math.cos(t),this.sg=Math.sin(t),this.cw=Math.cos(r),this.sw=Math.sin(r)}function VP(r){r.x-=this.long0;var t=Math.sin(r.y),e=Math.cos(r.y),i=Math.cos(r.x),n,s;switch(this.mode){case Ne.OBLIQ:s=this.sinph0*t+this.cosph0*e*i;break;case Ne.EQUIT:s=e*i;break;case Ne.S_POLE:s=-t;break;case Ne.N_POLE:s=t;break}switch(s=this.pn1/(this.p-s),n=s*e*Math.sin(r.x),this.mode){case Ne.OBLIQ:s*=this.cosph0*t-this.sinph0*e*i;break;case Ne.EQUIT:s*=t;break;case Ne.N_POLE:s*=-(e*i);break;case Ne.S_POLE:s*=e*i;break}var o,a;return o=s*this.cg+n*this.sg,a=1/(o*this.sw*this.h1+this.cw),n=(n*this.cg-s*this.sg)*this.cw*a,s=o*a,r.x=n*this.a,r.y=s*this.a,r}function GP(r){r.x/=this.a,r.y/=this.a;var t={x:r.x,y:r.y},e,i,n;n=1/(this.pn1-r.y*this.sw),e=this.pn1*r.x*n,i=this.pn1*r.y*this.cw*n,r.x=e*this.cg+i*this.sg,r.y=i*this.cg-e*this.sg;var s=xt(r.x,r.y);if(Math.abs(s)<$)t.x=0,t.y=r.y;else{var o,a;switch(a=1-s*s*this.pfact,a=(this.p-Math.sqrt(a))/(this.pn1/s+s/this.pn1),o=Math.sqrt(1-a*a),this.mode){case Ne.OBLIQ:t.y=Math.asin(o*this.sinph0+r.y*a*this.cosph0/s),r.y=(o-this.sinph0*Math.sin(t.y))*s,r.x*=a*this.cosph0;break;case Ne.EQUIT:t.y=Math.asin(r.y*a/s),r.y=o*s,r.x*=a;break;case Ne.N_POLE:t.y=Math.asin(o),r.y=-r.y;break;case Ne.S_POLE:t.y=-Math.asin(o);break}t.x=Math.atan2(r.x,r.y)}return r.x=t.x+this.long0,r.y=t.y,r}var HP=["Tilted_Perspective","tpers"];const UP={init:BP,forward:VP,inverse:GP,names:HP};function WP(){if(this.flip_axis=this.sweep==="x"?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,this.es!==0){var r=1-this.es,t=1/r;this.radius_p=Math.sqrt(r),this.radius_p2=r,this.radius_p_inv2=t,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")}function YP(r){var t=r.x,e=r.y,i,n,s,o;if(t=t-this.long0,this.shape==="ellipse"){e=Math.atan(this.radius_p2*Math.tan(e));var a=this.radius_p/xt(this.radius_p*Math.cos(e),Math.sin(e));if(n=a*Math.cos(t)*Math.cos(e),s=a*Math.sin(t)*Math.cos(e),o=a*Math.sin(e),(this.radius_g-n)*n-s*s-o*o*this.radius_p_inv2<0)return r.x=Number.NaN,r.y=Number.NaN,r;i=this.radius_g-n,this.flip_axis?(r.x=this.radius_g_1*Math.atan(s/xt(o,i)),r.y=this.radius_g_1*Math.atan(o/i)):(r.x=this.radius_g_1*Math.atan(s/i),r.y=this.radius_g_1*Math.atan(o/xt(s,i)))}else this.shape==="sphere"&&(i=Math.cos(e),n=Math.cos(t)*i,s=Math.sin(t)*i,o=Math.sin(e),i=this.radius_g-n,this.flip_axis?(r.x=this.radius_g_1*Math.atan(s/xt(o,i)),r.y=this.radius_g_1*Math.atan(o/i)):(r.x=this.radius_g_1*Math.atan(s/i),r.y=this.radius_g_1*Math.atan(o/xt(s,i))));return r.x=r.x*this.a,r.y=r.y*this.a,r}function jP(r){var t=-1,e=0,i=0,n,s,o,a;if(r.x=r.x/this.a,r.y=r.y/this.a,this.shape==="ellipse"){this.flip_axis?(i=Math.tan(r.y/this.radius_g_1),e=Math.tan(r.x/this.radius_g_1)*xt(1,i)):(e=Math.tan(r.x/this.radius_g_1),i=Math.tan(r.y/this.radius_g_1)*xt(1,e));var l=i/this.radius_p;if(n=e*e+l*l+t*t,s=2*this.radius_g*t,o=s*s-4*n*this.C,o<0)return r.x=Number.NaN,r.y=Number.NaN,r;a=(-s-Math.sqrt(o))/(2*n),t=this.radius_g+a*t,e*=a,i*=a,r.x=Math.atan2(e,t),r.y=Math.atan(i*Math.cos(r.x)/t),r.y=Math.atan(this.radius_p_inv2*Math.tan(r.y))}else if(this.shape==="sphere"){if(this.flip_axis?(i=Math.tan(r.y/this.radius_g_1),e=Math.tan(r.x/this.radius_g_1)*Math.sqrt(1+i*i)):(e=Math.tan(r.x/this.radius_g_1),i=Math.tan(r.y/this.radius_g_1)*Math.sqrt(1+e*e)),n=e*e+i*i+t*t,s=2*this.radius_g*t,o=s*s-4*n*this.C,o<0)return r.x=Number.NaN,r.y=Number.NaN,r;a=(-s-Math.sqrt(o))/(2*n),t=this.radius_g+a*t,e*=a,i*=a,r.x=Math.atan2(e,t),r.y=Math.atan(i*Math.cos(r.x)/t)}return r.x=r.x+this.long0,r}var qP=["Geostationary Satellite View","Geostationary_Satellite","geos"];const XP={init:WP,forward:YP,inverse:jP,names:qP};function KP(r){r.Proj.projections.add(ko),r.Proj.projections.add(Do),r.Proj.projections.add(iM),r.Proj.projections.add(dM),r.Proj.projections.add(gM),r.Proj.projections.add(CM),r.Proj.projections.add(OM),r.Proj.projections.add(DM),r.Proj.projections.add(zM),r.Proj.projections.add(UM),r.Proj.projections.add(aR),r.Proj.projections.add(fR),r.Proj.projections.add(gR),r.Proj.projections.add(AR),r.Proj.projections.add(OR),r.Proj.projections.add(DR),r.Proj.projections.add(zR),r.Proj.projections.add(UR),r.Proj.projections.add(KR),r.Proj.projections.add(tP),r.Proj.projections.add(oP),r.Proj.projections.add(cP),r.Proj.projections.add(mP),r.Proj.projections.add(wP),r.Proj.projections.add(IP),r.Proj.projections.add(DP),r.Proj.projections.add(zP),r.Proj.projections.add(UP),r.Proj.projections.add(XP)}it.defaultDatum="WGS84";it.Proj=Dt;it.WGS84=new it.Proj("WGS84");it.Point=$r;it.toPoint=Gg;it.defs=We;it.nadgrid=nO;it.transform=La;it.mgrs=bO;it.version="__VERSION__";KP(it);var ZP=function(){function r(t){this.propagationStopped,this.defaultPrevented,this.type=t,this.target=null}return r.prototype.preventDefault=function(){this.defaultPrevented=!0},r.prototype.stopPropagation=function(){this.propagationStopped=!0},r}();const ir=ZP,iy={PROPERTYCHANGE:"propertychange"};var QP=function(){function r(){this.disposed=!1}return r.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposeInternal())},r.prototype.disposeInternal=function(){},r}();const JP=QP;function zr(r,t){return r>t?1:r<t?-1:0}function _l(r,t,e){var i=r.length;if(r[0]<=t)return 0;if(t<=r[i-1])return i-1;var n=void 0;if(e>0){for(n=1;n<i;++n)if(r[n]<t)return n-1}else if(e<0){for(n=1;n<i;++n)if(r[n]<=t)return n}else for(n=1;n<i;++n){if(r[n]==t)return n;if(r[n]<t)return typeof e=="function"?e(t,r[n-1],r[n])>0?n-1:n:r[n-1]-t<t-r[n]?n-1:n}return i-1}function ek(r,t,e){for(;t<e;){var i=r[t];r[t]=r[e],r[e]=i,++t,--e}}function ry(r,t){for(var e=Array.isArray(t)?t:[t],i=e.length,n=0;n<i;n++)r[r.length]=e[n]}function Zr(r,t){var e=r.length;if(e!==t.length)return!1;for(var i=0;i<e;i++)if(r[i]!==t[i])return!1;return!0}function tk(r,t,e){var i=t||zr;return r.every(function(n,s){if(s===0)return!0;var o=i(r[s-1],n);return!(o>0||e&&o===0)})}function ik(){return!0}function jn(){}function rk(r){var t=!1,e,i,n;return function(){var s=Array.prototype.slice.call(arguments);return(!t||this!==n||!Zr(s,i))&&(t=!0,n=this,i=s,e=r.apply(this,arguments)),e}}var nk=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),sk=function(r){nk(t,r);function t(e){var i=r.call(this)||this;return i.eventTarget_=e,i.pendingRemovals_=null,i.dispatching_=null,i.listeners_=null,i}return t.prototype.addEventListener=function(e,i){if(!(!e||!i)){var n=this.listeners_||(this.listeners_={}),s=n[e]||(n[e]=[]);s.indexOf(i)===-1&&s.push(i)}},t.prototype.dispatchEvent=function(e){var i=typeof e=="string",n=i?e:e.type,s=this.listeners_&&this.listeners_[n];if(!!s){var o=i?new ir(e):e;o.target||(o.target=this.eventTarget_||this);var a=this.dispatching_||(this.dispatching_={}),l=this.pendingRemovals_||(this.pendingRemovals_={});n in a||(a[n]=0,l[n]=0),++a[n];for(var h,u=0,c=s.length;u<c;++u)if("handleEvent"in s[u]?h=s[u].handleEvent(o):h=s[u].call(this,o),h===!1||o.propagationStopped){h=!1;break}if(--a[n]===0){var d=l[n];for(delete l[n];d--;)this.removeEventListener(n,jn);delete a[n]}return h}},t.prototype.disposeInternal=function(){this.listeners_&&xc(this.listeners_)},t.prototype.getListeners=function(e){return this.listeners_&&this.listeners_[e]||void 0},t.prototype.hasListener=function(e){return this.listeners_?e?e in this.listeners_:Object.keys(this.listeners_).length>0:!1},t.prototype.removeEventListener=function(e,i){var n=this.listeners_&&this.listeners_[e];if(n){var s=n.indexOf(i);s!==-1&&(this.pendingRemovals_&&e in this.pendingRemovals_?(n[s]=jn,++this.pendingRemovals_[e]):(n.splice(s,1),n.length===0&&delete this.listeners_[e]))}},t}(JP);const ds=sk,$e={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"};function At(r,t,e,i,n){if(i&&i!==r&&(e=e.bind(i)),n){var s=e;e=function(){r.removeEventListener(t,e),s.apply(this,arguments)}}var o={target:r,type:t,listener:e};return r.addEventListener(t,e),o}function Na(r,t,e,i){return At(r,t,e,i,!0)}function ft(r){r&&r.target&&(r.target.removeEventListener(r.type,r.listener),xc(r))}var ok=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),ml=function(r){ok(t,r);function t(){var e=r.call(this)||this;return e.on=e.onInternal,e.once=e.onceInternal,e.un=e.unInternal,e.revision_=0,e}return t.prototype.changed=function(){++this.revision_,this.dispatchEvent($e.CHANGE)},t.prototype.getRevision=function(){return this.revision_},t.prototype.onInternal=function(e,i){if(Array.isArray(e)){for(var n=e.length,s=new Array(n),o=0;o<n;++o)s[o]=At(this,e[o],i);return s}else return At(this,e,i)},t.prototype.onceInternal=function(e,i){var n;if(Array.isArray(e)){var s=e.length;n=new Array(s);for(var o=0;o<s;++o)n[o]=Na(this,e[o],i)}else n=Na(this,e,i);return i.ol_key=n,n},t.prototype.unInternal=function(e,i){var n=i.ol_key;if(n)ak(n);else if(Array.isArray(e))for(var s=0,o=e.length;s<o;++s)this.removeEventListener(e[s],i);else this.removeEventListener(e,i)},t}(ds);ml.prototype.on;ml.prototype.once;ml.prototype.un;function ak(r){if(Array.isArray(r))for(var t=0,e=r.length;t<e;++t)ft(r[t]);else ft(r)}const ny=ml;var sy=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),X_=function(r){sy(t,r);function t(e,i,n){var s=r.call(this,e)||this;return s.key=i,s.oldValue=n,s}return t}(ir),lk=function(r){sy(t,r);function t(e){var i=r.call(this)||this;return i.on,i.once,i.un,pe(i),i.values_=null,e!==void 0&&i.setProperties(e),i}return t.prototype.get=function(e){var i;return this.values_&&this.values_.hasOwnProperty(e)&&(i=this.values_[e]),i},t.prototype.getKeys=function(){return this.values_&&Object.keys(this.values_)||[]},t.prototype.getProperties=function(){return this.values_&&ge({},this.values_)||{}},t.prototype.hasProperties=function(){return!!this.values_},t.prototype.notify=function(e,i){var n;n="change:".concat(e),this.hasListener(n)&&this.dispatchEvent(new X_(n,e,i)),n=iy.PROPERTYCHANGE,this.hasListener(n)&&this.dispatchEvent(new X_(n,e,i))},t.prototype.addChangeListener=function(e,i){this.addEventListener("change:".concat(e),i)},t.prototype.removeChangeListener=function(e,i){this.removeEventListener("change:".concat(e),i)},t.prototype.set=function(e,i,n){var s=this.values_||(this.values_={});if(n)s[e]=i;else{var o=s[e];s[e]=i,o!==i&&this.notify(e,o)}},t.prototype.setProperties=function(e,i){for(var n in e)this.set(n,e[n],i)},t.prototype.applyProperties=function(e){!e.values_||ge(this.values_||(this.values_={}),e.values_)},t.prototype.unset=function(e,i){if(this.values_&&e in this.values_){var n=this.values_[e];delete this.values_[e],Vn(this.values_)&&(this.values_=null),i||this.notify(e,n)}},t}(ny);const rr=lk;var hk=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),uk=function(r){hk(t,r);function t(e){var i=r.call(this)||this;if(i.on,i.once,i.un,i.id_=void 0,i.geometryName_="geometry",i.style_=null,i.styleFunction_=void 0,i.geometryChangeKey_=null,i.addChangeListener(i.geometryName_,i.handleGeometryChanged_),e)if(typeof e.getSimplifiedGeometry=="function"){var n=e;i.setGeometry(n)}else{var s=e;i.setProperties(s)}return i}return t.prototype.clone=function(){var e=new t(this.hasProperties()?this.getProperties():null);e.setGeometryName(this.getGeometryName());var i=this.getGeometry();i&&e.setGeometry(i.clone());var n=this.getStyle();return n&&e.setStyle(n),e},t.prototype.getGeometry=function(){return this.get(this.geometryName_)},t.prototype.getId=function(){return this.id_},t.prototype.getGeometryName=function(){return this.geometryName_},t.prototype.getStyle=function(){return this.style_},t.prototype.getStyleFunction=function(){return this.styleFunction_},t.prototype.handleGeometryChange_=function(){this.changed()},t.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(ft(this.geometryChangeKey_),this.geometryChangeKey_=null);var e=this.getGeometry();e&&(this.geometryChangeKey_=At(e,$e.CHANGE,this.handleGeometryChange_,this)),this.changed()},t.prototype.setGeometry=function(e){this.set(this.geometryName_,e)},t.prototype.setStyle=function(e){this.style_=e,this.styleFunction_=e?ck(e):void 0,this.changed()},t.prototype.setId=function(e){this.id_=e,this.changed()},t.prototype.setGeometryName=function(e){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=e,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()},t}(rr);function ck(r){if(typeof r=="function")return r;var t;if(Array.isArray(r))t=r;else{oe(typeof r.getZIndex=="function",41);var e=r;t=[e]}return function(){return t}}const dk=uk;var Br=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"";Br.indexOf("firefox");Br.indexOf("safari")!==-1&&Br.indexOf("chrom")==-1;Br.indexOf("webkit")!==-1&&Br.indexOf("edge")==-1;Br.indexOf("macintosh");var vl=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,fk=typeof Image<"u"&&Image.prototype.decode;(function(){var r=!1;try{var t=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("_",null,t),window.removeEventListener("_",null,t)}catch{}return r})();new Array(6);function yi(){return[1,0,0,1,0,0]}function pk(r,t,e,i,n,s,o){return r[0]=t,r[1]=e,r[2]=i,r[3]=n,r[4]=s,r[5]=o,r}function _k(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r}function Re(r,t){var e=t[0],i=t[1];return t[0]=r[0]*e+r[2]*i+r[4],t[1]=r[1]*e+r[3]*i+r[5],t}function mk(r,t,e){return pk(r,t,0,0,e,0,0)}function $t(r,t,e,i,n,s,o,a){var l=Math.sin(s),h=Math.cos(s);return r[0]=i*h,r[1]=n*l,r[2]=-i*l,r[3]=n*h,r[4]=o*i*h-a*i*l+t,r[5]=o*n*l+a*n*h+e,r}function kc(r,t){var e=vk(t);oe(e!==0,32);var i=t[0],n=t[1],s=t[2],o=t[3],a=t[4],l=t[5];return r[0]=o/e,r[1]=-n/e,r[2]=-s/e,r[3]=i/e,r[4]=(s*l-o*a)/e,r[5]=-(i*l-n*a)/e,r}function vk(r){return r[0]*r[3]-r[1]*r[2]}var K_;function Dc(r){var t="matrix("+r.join(", ")+")";if(vl)return t;var e=K_||(K_=document.createElement("div"));return e.style.transform=t,e.style.transform}function Yi(r,t,e,i,n,s){for(var o=s||[],a=0,l=t;l<e;l+=i){var h=r[l],u=r[l+1];o[a++]=n[0]*h+n[2]*u+n[4],o[a++]=n[1]*h+n[3]*u+n[5]}return s&&o.length!=a&&(o.length=a),o}function oy(r,t,e,i,n,s,o){for(var a=o||[],l=Math.cos(n),h=Math.sin(n),u=s[0],c=s[1],d=0,f=t;f<e;f+=i){var p=r[f]-u,_=r[f+1]-c;a[d++]=u+p*l-_*h,a[d++]=c+p*h+_*l;for(var m=f+2;m<f+i;++m)a[d++]=r[m]}return o&&a.length!=d&&(a.length=d),a}function gk(r,t,e,i,n,s,o,a){for(var l=a||[],h=o[0],u=o[1],c=0,d=t;d<e;d+=i){var f=r[d]-h,p=r[d+1]-u;l[c++]=h+n*f,l[c++]=u+s*p;for(var _=d+2;_<d+i;++_)l[c++]=r[_]}return a&&l.length!=c&&(l.length=c),l}function yk(r,t,e,i,n,s,o){for(var a=o||[],l=0,h=t;h<e;h+=i){a[l++]=r[h]+n,a[l++]=r[h+1]+s;for(var u=h+2;u<h+i;++u)a[l++]=r[u]}return o&&a.length!=l&&(a.length=l),a}var bk=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),Z_=yi(),wk=function(r){bk(t,r);function t(){var e=r.call(this)||this;return e.extent_=_t(),e.extentRevision_=-1,e.simplifiedGeometryMaxMinSquaredTolerance=0,e.simplifiedGeometryRevision=0,e.simplifyTransformedInternal=rk(function(i,n,s){if(!s)return this.getSimplifiedGeometry(n);var o=this.clone();return o.applyTransform(s),o.getSimplifiedGeometry(n)}),e}return t.prototype.simplifyTransformed=function(e,i){return this.simplifyTransformedInternal(this.getRevision(),e,i)},t.prototype.clone=function(){return se()},t.prototype.closestPointXY=function(e,i,n,s){return se()},t.prototype.containsXY=function(e,i){var n=this.getClosestPoint([e,i]);return n[0]===e&&n[1]===i},t.prototype.getClosestPoint=function(e,i){var n=i||[NaN,NaN];return this.closestPointXY(e[0],e[1],n,1/0),n},t.prototype.intersectsCoordinate=function(e){return this.containsXY(e[0],e[1])},t.prototype.computeExtent=function(e){return se()},t.prototype.getExtent=function(e){if(this.extentRevision_!=this.getRevision()){var i=this.computeExtent(this.extent_);(isNaN(i[0])||isNaN(i[1]))&&Cc(i),this.extentRevision_=this.getRevision()}return nT(this.extent_,e)},t.prototype.rotate=function(e,i){se()},t.prototype.scale=function(e,i,n){se()},t.prototype.simplify=function(e){return this.getSimplifiedGeometry(e*e)},t.prototype.getSimplifiedGeometry=function(e){return se()},t.prototype.getType=function(){return se()},t.prototype.applyTransform=function(e){se()},t.prototype.intersectsExtent=function(e){return se()},t.prototype.translate=function(e,i){se()},t.prototype.transform=function(e,i){var n=Oe(e),s=n.getUnits()==Yt.TILE_PIXELS?function(o,a,l){var h=n.getExtent(),u=n.getWorldExtent(),c=Ve(u)/Ve(h);return $t(Z_,u[0],u[3],c,-c,0,0,0),Yi(o,0,o.length,l,Z_,a),Hn(n,i)(o,a,l)}:Hn(n,i);return this.applyTransform(s),this},t}(rr);const xk=wk,ot={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"};var Ck=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),Ak=function(r){Ck(t,r);function t(){var e=r.call(this)||this;return e.layout=ot.XY,e.stride=2,e.flatCoordinates=null,e}return t.prototype.computeExtent=function(e){return eT(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)},t.prototype.getCoordinates=function(){return se()},t.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},t.prototype.getFlatCoordinates=function(){return this.flatCoordinates},t.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},t.prototype.getLayout=function(){return this.layout},t.prototype.getSimplifiedGeometry=function(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var i=this.getSimplifiedGeometryInternal(e),n=i.getFlatCoordinates();return n.length<this.flatCoordinates.length?i:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)},t.prototype.getSimplifiedGeometryInternal=function(e){return this},t.prototype.getStride=function(){return this.stride},t.prototype.setFlatCoordinates=function(e,i){this.stride=Q_(e),this.layout=e,this.flatCoordinates=i},t.prototype.setCoordinates=function(e,i){se()},t.prototype.setLayout=function(e,i,n){var s;if(e)s=Q_(e);else{for(var o=0;o<n;++o)if(i.length===0){this.layout=ot.XY,this.stride=2;return}else i=i[0];s=i.length,e=Ek(s)}this.layout=e,this.stride=s},t.prototype.applyTransform=function(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},t.prototype.rotate=function(e,i){var n=this.getFlatCoordinates();if(n){var s=this.getStride();oy(n,0,n.length,s,e,i,n),this.changed()}},t.prototype.scale=function(e,i,n){var s=i;s===void 0&&(s=e);var o=n;o||(o=Ci(this.getExtent()));var a=this.getFlatCoordinates();if(a){var l=this.getStride();gk(a,0,a.length,l,e,s,o,a),this.changed()}},t.prototype.translate=function(e,i){var n=this.getFlatCoordinates();if(n){var s=this.getStride();yk(n,0,n.length,s,e,i,n),this.changed()}},t}(xk);function Ek(r){var t;return r==2?t=ot.XY:r==3?t=ot.XYZ:r==4&&(t=ot.XYZM),t}function Q_(r){var t;return r==ot.XY?t=2:r==ot.XYZ||r==ot.XYM?t=3:r==ot.XYZM&&(t=4),t}function Ik(r,t,e){var i=r.getFlatCoordinates();if(i){var n=r.getStride();return Yi(i,0,i.length,n,t,e)}else return null}const Lc=Ak;function Sk(r,t,e,i){for(var n=0,s=e.length;n<s;++n)r[t++]=e[n];return t}function ay(r,t,e,i){for(var n=0,s=e.length;n<s;++n)for(var o=e[n],a=0;a<i;++a)r[t++]=o[a];return t}function Tk(r,t,e,i,n){for(var s=n||[],o=0,a=0,l=e.length;a<l;++a){var h=ay(r,t,e[a],i);s[o++]=h,t=h}return s.length=o,s}var Ok=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),Mk=function(r){Ok(t,r);function t(e,i){var n=r.call(this)||this;return n.setCoordinates(e,i),n}return t.prototype.clone=function(){var e=new t(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e},t.prototype.closestPointXY=function(e,i,n,s){var o=this.flatCoordinates,a=Tr(e,i,o[0],o[1]);if(a<s){for(var l=this.stride,h=0;h<l;++h)n[h]=o[h];return n.length=l,a}else return s},t.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},t.prototype.computeExtent=function(e){return JS(this.flatCoordinates,e)},t.prototype.getType=function(){return ee.POINT},t.prototype.intersectsExtent=function(e){return Ag(e,this.flatCoordinates[0],this.flatCoordinates[1])},t.prototype.setCoordinates=function(e,i){this.setLayout(i,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Sk(this.flatCoordinates,0,e,this.stride),this.changed()},t}(Lc);const ly=Mk,et={ANIMATING:0,INTERACTING:1},gt={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};var Rk=42,Fc=256;function J_(r,t,e){return function(i,n,s,o,a){if(!!i){if(!n&&!t)return i;var l=t?0:s[0]*n,h=t?0:s[1]*n,u=a?a[0]:0,c=a?a[1]:0,d=r[0]+l/2+u,f=r[2]-l/2+u,p=r[1]+h/2+c,_=r[3]-h/2+c;d>f&&(d=(f+d)/2,f=d),p>_&&(p=(_+p)/2,_=p);var m=Te(i[0],d,f),g=Te(i[1],p,_);if(o&&e&&n){var y=30*n;m+=-y*Math.log(1+Math.max(0,d-i[0])/y)+y*Math.log(1+Math.max(0,i[0]-f)/y),g+=-y*Math.log(1+Math.max(0,p-i[1])/y)+y*Math.log(1+Math.max(0,i[1]-_)/y)}return[m,g]}}}function Pk(r){return r}function $c(r,t,e,i){var n=_e(t)/e[0],s=Ve(t)/e[1];return i?Math.min(r,Math.max(n,s)):Math.min(r,Math.min(n,s))}function Nc(r,t,e){var i=Math.min(r,t),n=50;return i*=Math.log(1+n*Math.max(0,r/t-1))/n+1,e&&(i=Math.max(i,e),i/=Math.log(1+n*Math.max(0,e/r-1))/n+1),Te(i,e/2,t*2)}function kk(r,t,e,i){return function(n,s,o,a){if(n!==void 0){var l=r[0],h=r[r.length-1],u=e?$c(l,e,o,i):l;if(a){var c=t!==void 0?t:!0;return c?Nc(n,u,h):Te(n,h,u)}var d=Math.min(u,n),f=Math.floor(_l(r,d,s));return r[f]>u&&f<r.length-1?r[f+1]:r[f]}else return}}function Dk(r,t,e,i,n,s){return function(o,a,l,h){if(o!==void 0){var u=n?$c(t,n,l,s):t,c=e!==void 0?e:0;if(h){var d=i!==void 0?i:!0;return d?Nc(o,u,c):Te(o,c,u)}var f=1e-9,p=Math.ceil(Math.log(t/u)/Math.log(r)-f),_=-a*(.5-f)+.5,m=Math.min(u,o),g=Math.floor(Math.log(t/m)/Math.log(r)+_),y=Math.max(p,g),b=t/Math.pow(r,y);return Te(b,c,u)}else return}}function em(r,t,e,i,n){return function(s,o,a,l){if(s!==void 0){var h=i?$c(r,i,a,n):r,u=e!==void 0?e:!0;return!u||!l?Te(s,t,h):Nc(s,h,t)}else return}}function Lk(r){if(r!==void 0)return 0}function tm(r){if(r!==void 0)return r}function Fk(r){var t=2*Math.PI/r;return function(e,i){if(i)return e;if(e!==void 0)return e=Math.floor(e/t+.5)*t,e}}function $k(r){var t=r||Mo(5);return function(e,i){if(i)return e;if(e!==void 0)return Math.abs(e)<=t?0:e}}function hy(r){return Math.pow(r,3)}function Nk(r){return 1-hy(1-r)}function zk(r){return 3*r*r-2*r*r*r}function im(r,t,e,i,n,s,o){var a=r[t],l=r[t+1],h=r[e]-a,u=r[e+1]-l,c;if(h===0&&u===0)c=t;else{var d=((n-a)*h+(s-l)*u)/(h*h+u*u);if(d>1)c=e;else if(d>0){for(var f=0;f<i;++f)o[f]=Fi(r[t+f],r[e+f],d);o.length=i;return}else c=t}for(var f=0;f<i;++f)o[f]=r[c+f];o.length=i}function uy(r,t,e,i,n){var s=r[t],o=r[t+1];for(t+=i;t<e;t+=i){var a=r[t],l=r[t+1],h=Tr(s,o,a,l);h>n&&(n=h),s=a,o=l}return n}function Bk(r,t,e,i,n){for(var s=0,o=e.length;s<o;++s){var a=e[s];n=uy(r,t,a,i,n),t=a}return n}function cy(r,t,e,i,n,s,o,a,l,h,u){if(t==e)return h;var c,d;if(n===0)if(d=Tr(o,a,r[t],r[t+1]),d<h){for(c=0;c<i;++c)l[c]=r[t+c];return l.length=i,d}else return h;for(var f=u||[NaN,NaN],p=t+i;p<e;)if(im(r,p-i,p,i,o,a,f),d=Tr(o,a,f[0],f[1]),d<h){for(h=d,c=0;c<i;++c)l[c]=f[c];l.length=i,p+=i}else p+=i*Math.max((Math.sqrt(d)-Math.sqrt(h))/n|0,1);if(s&&(im(r,e-i,t,i,o,a,f),d=Tr(o,a,f[0],f[1]),d<h)){for(h=d,c=0;c<i;++c)l[c]=f[c];l.length=i}return h}function Vk(r,t,e,i,n,s,o,a,l,h,u){for(var c=u||[NaN,NaN],d=0,f=e.length;d<f;++d){var p=e[d];h=cy(r,t,p,i,n,s,o,a,l,h,c),t=p}return h}function Gk(r,t,e,i,n,s,o){var a=(e-t)/i;if(a<3){for(;t<e;t+=i)s[o++]=r[t],s[o++]=r[t+1];return o}var l=new Array(a);l[0]=1,l[a-1]=1;for(var h=[t,e-i],u=0;h.length>0;){for(var c=h.pop(),d=h.pop(),f=0,p=r[d],_=r[d+1],m=r[c],g=r[c+1],y=d+i;y<c;y+=i){var b=r[y],C=r[y+1],E=DS(b,C,p,_,m,g);E>f&&(u=y,f=E)}f>n&&(l[(u-t)/i]=1,d+i<u&&h.push(d,u),u+i<c&&h.push(u,c))}for(var y=0;y<a;++y)l[y]&&(s[o++]=r[t+y*i],s[o++]=r[t+y*i+1]);return o}function $i(r,t){return t*Math.round(r/t)}function Hk(r,t,e,i,n,s,o){if(t==e)return o;var a=$i(r[t],n),l=$i(r[t+1],n);t+=i,s[o++]=a,s[o++]=l;var h,u;do if(h=$i(r[t],n),u=$i(r[t+1],n),t+=i,t==e)return s[o++]=h,s[o++]=u,o;while(h==a&&u==l);for(;t<e;){var c=$i(r[t],n),d=$i(r[t+1],n);if(t+=i,!(c==h&&d==u)){var f=h-a,p=u-l,_=c-a,m=d-l;if(f*m==p*_&&(f<0&&_<f||f==_||f>0&&_>f)&&(p<0&&m<p||p==m||p>0&&m>p)){h=c,u=d;continue}s[o++]=h,s[o++]=u,a=h,l=u,h=c,u=d}}return s[o++]=h,s[o++]=u,o}function Uk(r,t,e,i,n,s,o,a){for(var l=0,h=e.length;l<h;++l){var u=e[l];o=Hk(r,t,u,i,n,s,o),a.push(o),t=u}return o}function Er(r,t,e,i,n){for(var s=n!==void 0?n:[],o=0,a=t;a<e;a+=i)s[o++]=r.slice(a,a+i);return s.length=o,s}function za(r,t,e,i,n){for(var s=n!==void 0?n:[],o=0,a=0,l=e.length;a<l;++a){var h=e[a];s[o++]=Er(r,t,h,i,s[o]),t=h}return s.length=o,s}function rm(r,t,e,i,n){for(var s=n!==void 0?n:[],o=0,a=0,l=e.length;a<l;++a){var h=e[a];s[o++]=za(r,t,h,i,s[o]),t=h[h.length-1]}return s.length=o,s}function dy(r,t,e,i){for(var n=0,s=r[e-i],o=r[e-i+1];t<e;t+=i){var a=r[t],l=r[t+1];n+=o*a-s*l,s=a,o=l}return n/2}function Wk(r,t,e,i){for(var n=0,s=0,o=e.length;s<o;++s){var a=e[s];n+=dy(r,t,a,i),t=a}return n}var Yk=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),jk=function(r){Yk(t,r);function t(e,i){var n=r.call(this)||this;return n.maxDelta_=-1,n.maxDeltaRevision_=-1,i!==void 0&&!Array.isArray(e[0])?n.setFlatCoordinates(i,e):n.setCoordinates(e,i),n}return t.prototype.clone=function(){return new t(this.flatCoordinates.slice(),this.layout)},t.prototype.closestPointXY=function(e,i,n,s){return s<Cg(this.getExtent(),e,i)?s:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(uy(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),cy(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,i,n,s))},t.prototype.getArea=function(){return dy(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},t.prototype.getCoordinates=function(){return Er(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},t.prototype.getSimplifiedGeometryInternal=function(e){var i=[];return i.length=Gk(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,i,0),new t(i,ot.XY)},t.prototype.getType=function(){return ee.LINEAR_RING},t.prototype.intersectsExtent=function(e){return!1},t.prototype.setCoordinates=function(e,i){this.setLayout(i,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=ay(this.flatCoordinates,0,e,this.stride),this.changed()},t}(Lc);const nm=jk;function qk(r,t,e,i,n){var s=Ig(n,function(o){return!Bi(r,t,e,i,o[0],o[1])});return!s}function Bi(r,t,e,i,n,s){for(var o=0,a=r[e-i],l=r[e-i+1];t<e;t+=i){var h=r[t],u=r[t+1];l<=s?u>s&&(h-a)*(s-l)-(n-a)*(u-l)>0&&o++:u<=s&&(h-a)*(s-l)-(n-a)*(u-l)<0&&o--,a=h,l=u}return o!==0}function fy(r,t,e,i,n,s){if(e.length===0||!Bi(r,t,e[0],i,n,s))return!1;for(var o=1,a=e.length;o<a;++o)if(Bi(r,e[o-1],e[o],i,n,s))return!1;return!0}function Xk(r,t,e,i,n,s,o){for(var a,l,h,u,c,d,f,p=n[s+1],_=[],m=0,g=e.length;m<g;++m){var y=e[m];for(u=r[y-i],d=r[y-i+1],a=t;a<y;a+=i)c=r[a],f=r[a+1],(p<=d&&f<=p||d<=p&&p<=f)&&(h=(p-d)/(f-d)*(c-u)+u,_.push(h)),u=c,d=f}var b=NaN,C=-1/0;for(_.sort(zr),u=_[0],a=1,l=_.length;a<l;++a){c=_[a];var E=Math.abs(c-u);E>C&&(h=(u+c)/2,fy(r,t,e,i,h,p)&&(b=h,C=E)),u=c}return isNaN(b)&&(b=n[s]),o?(o.push(b,p,C),o):[b,p,C]}function Kk(r,t,e,i,n){var s;for(t+=i;t<e;t+=i)if(s=n(r.slice(t-i,t),r.slice(t,t+i)),s)return s;return!1}function py(r,t,e,i,n){var s=Eg(_t(),r,t,e,i);return je(n,s)?fi(n,s)||s[0]>=n[0]&&s[2]<=n[2]||s[1]>=n[1]&&s[3]<=n[3]?!0:Kk(r,t,e,i,function(o,a){return sT(n,o,a)}):!1}function Zk(r,t,e,i,n){return!!(py(r,t,e,i,n)||Bi(r,t,e,i,n[0],n[1])||Bi(r,t,e,i,n[0],n[3])||Bi(r,t,e,i,n[2],n[1])||Bi(r,t,e,i,n[2],n[3]))}function Qk(r,t,e,i,n){if(!Zk(r,t,e[0],i,n))return!1;if(e.length===1)return!0;for(var s=1,o=e.length;s<o;++s)if(qk(r,e[s-1],e[s],i,n)&&!py(r,e[s-1],e[s],i,n))return!1;return!0}function Jk(r,t,e,i){for(;t<e-i;){for(var n=0;n<i;++n){var s=r[t+n];r[t+n]=r[e-i+n],r[e-i+n]=s}t+=i,e-=i}}function _y(r,t,e,i){for(var n=0,s=r[e-i],o=r[e-i+1];t<e;t+=i){var a=r[t],l=r[t+1];n+=(a-s)*(l+o),s=a,o=l}return n===0?void 0:n>0}function eD(r,t,e,i,n){for(var s=n!==void 0?n:!1,o=0,a=e.length;o<a;++o){var l=e[o],h=_y(r,t,l,i);if(o===0){if(s&&h||!s&&!h)return!1}else if(s&&!h||!s&&h)return!1;t=l}return!0}function sm(r,t,e,i,n){for(var s=n!==void 0?n:!1,o=0,a=e.length;o<a;++o){var l=e[o],h=_y(r,t,l,i),u=o===0?s&&h||!s&&!h:s&&!h||!s&&h;u&&Jk(r,t,l,i),t=l}return t}var tD=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),iD=function(r){tD(t,r);function t(e,i,n){var s=r.call(this)||this;return s.ends_=[],s.flatInteriorPointRevision_=-1,s.flatInteriorPoint_=null,s.maxDelta_=-1,s.maxDeltaRevision_=-1,s.orientedRevision_=-1,s.orientedFlatCoordinates_=null,i!==void 0&&n?(s.setFlatCoordinates(i,e),s.ends_=n):s.setCoordinates(e,i),s}return t.prototype.appendLinearRing=function(e){this.flatCoordinates?ry(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},t.prototype.clone=function(){var e=new t(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e},t.prototype.closestPointXY=function(e,i,n,s){return s<Cg(this.getExtent(),e,i)?s:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Bk(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Vk(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,i,n,s))},t.prototype.containsXY=function(e,i){return fy(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,i)},t.prototype.getArea=function(){return Wk(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},t.prototype.getCoordinates=function(e){var i;return e!==void 0?(i=this.getOrientedFlatCoordinates().slice(),sm(i,0,this.ends_,this.stride,e)):i=this.flatCoordinates,za(i,0,this.ends_,this.stride)},t.prototype.getEnds=function(){return this.ends_},t.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var e=Ci(this.getExtent());this.flatInteriorPoint_=Xk(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},t.prototype.getInteriorPoint=function(){return new ly(this.getFlatInteriorPoint(),ot.XYM)},t.prototype.getLinearRingCount=function(){return this.ends_.length},t.prototype.getLinearRing=function(e){return e<0||this.ends_.length<=e?null:new nm(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)},t.prototype.getLinearRings=function(){for(var e=this.layout,i=this.flatCoordinates,n=this.ends_,s=[],o=0,a=0,l=n.length;a<l;++a){var h=n[a],u=new nm(i.slice(o,h),e);s.push(u),o=h}return s},t.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var e=this.flatCoordinates;eD(e,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=sm(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},t.prototype.getSimplifiedGeometryInternal=function(e){var i=[],n=[];return i.length=Uk(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),i,0,n),new t(i,ot.XY,n)},t.prototype.getType=function(){return ee.POLYGON},t.prototype.intersectsExtent=function(e){return Qk(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)},t.prototype.setCoordinates=function(e,i){this.setLayout(i,e,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=Tk(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=n.length===0?0:n[n.length-1],this.changed()},t}(Lc);function om(r){var t=r[0],e=r[1],i=r[2],n=r[3],s=[t,e,t,n,i,n,i,e,t,e];return new iD(s,ot.XY,[s.length])}var rD=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),Bl=0,nD=function(r){rD(t,r);function t(e){var i=r.call(this)||this;i.on,i.once,i.un;var n=ge({},e);return i.hints_=[0,0],i.animations_=[],i.updateAnimationKey_,i.projection_=Ic(n.projection,"EPSG:3857"),i.viewportSize_=[100,100],i.targetCenter_=null,i.targetResolution_,i.targetRotation_,i.nextCenter_=null,i.nextResolution_,i.nextRotation_,i.cancelAnchor_=void 0,n.center&&(n.center=ii(n.center,i.projection_)),n.extent&&(n.extent=Ut(n.extent,i.projection_)),n.projection&&dT(),i.applyOptions_(n),i}return t.prototype.applyOptions_=function(e){var i=ge({},e);for(var n in gt)delete i[n];this.setProperties(i,!0);var s=oD(e);this.maxResolution_=s.maxResolution,this.minResolution_=s.minResolution,this.zoomFactor_=s.zoomFactor,this.resolutions_=e.resolutions,this.padding_=e.padding,this.minZoom_=s.minZoom;var o=sD(e),a=s.constraint,l=aD(e);this.constraints_={center:o,resolution:a,rotation:l},this.setRotation(e.rotation!==void 0?e.rotation:0),this.setCenterInternal(e.center!==void 0?e.center:null),e.resolution!==void 0?this.setResolution(e.resolution):e.zoom!==void 0&&this.setZoom(e.zoom)},Object.defineProperty(t.prototype,"padding",{get:function(){return this.padding_},set:function(e){var i=this.padding_;this.padding_=e;var n=this.getCenter();if(n){var s=e||[0,0,0,0];i=i||[0,0,0,0];var o=this.getResolution(),a=o/2*(s[3]-i[3]+i[1]-s[1]),l=o/2*(s[0]-i[0]+i[2]-s[2]);this.setCenterInternal([n[0]+a,n[1]-l])}},enumerable:!1,configurable:!0}),t.prototype.getUpdatedOptions_=function(e){var i=this.getProperties();return i.resolution!==void 0?i.resolution=this.getResolution():i.zoom=this.getZoom(),i.center=this.getCenterInternal(),i.rotation=this.getRotation(),ge({},i,e)},t.prototype.animate=function(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var i=new Array(arguments.length),n=0;n<i.length;++n){var s=arguments[n];s.center&&(s=ge({},s),s.center=ii(s.center,this.getProjection())),s.anchor&&(s=ge({},s),s.anchor=ii(s.anchor,this.getProjection())),i[n]=s}this.animateInternal.apply(this,i)},t.prototype.animateInternal=function(e){var i=arguments.length,n;i>1&&typeof arguments[i-1]=="function"&&(n=arguments[i-1],--i);for(var s=0;s<i&&!this.isDef();++s){var o=arguments[s];o.center&&this.setCenterInternal(o.center),o.zoom!==void 0?this.setZoom(o.zoom):o.resolution&&this.setResolution(o.resolution),o.rotation!==void 0&&this.setRotation(o.rotation)}if(s===i){n&&Fs(n,!0);return}for(var a=Date.now(),l=this.targetCenter_.slice(),h=this.targetResolution_,u=this.targetRotation_,c=[];s<i;++s){var d=arguments[s],f={start:a,complete:!1,anchor:d.anchor,duration:d.duration!==void 0?d.duration:1e3,easing:d.easing||zk,callback:n};if(d.center&&(f.sourceCenter=l,f.targetCenter=d.center.slice(),l=f.targetCenter),d.zoom!==void 0?(f.sourceResolution=h,f.targetResolution=this.getResolutionForZoom(d.zoom),h=f.targetResolution):d.resolution&&(f.sourceResolution=h,f.targetResolution=d.resolution,h=f.targetResolution),d.rotation!==void 0){f.sourceRotation=u;var p=Wi(d.rotation-u+Math.PI,2*Math.PI)-Math.PI;f.targetRotation=u+p,u=f.targetRotation}lD(f)?f.complete=!0:a+=f.duration,c.push(f)}this.animations_.push(c),this.setHint(et.ANIMATING,1),this.updateAnimations_()},t.prototype.getAnimating=function(){return this.hints_[et.ANIMATING]>0},t.prototype.getInteracting=function(){return this.hints_[et.INTERACTING]>0},t.prototype.cancelAnimations=function(){this.setHint(et.ANIMATING,-this.hints_[et.ANIMATING]);for(var e,i=0,n=this.animations_.length;i<n;++i){var s=this.animations_[i];if(s[0].callback&&Fs(s[0].callback,!1),!e)for(var o=0,a=s.length;o<a;++o){var l=s[o];if(!l.complete){e=l.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN},t.prototype.updateAnimations_=function(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!!this.getAnimating()){for(var e=Date.now(),i=!1,n=this.animations_.length-1;n>=0;--n){for(var s=this.animations_[n],o=!0,a=0,l=s.length;a<l;++a){var h=s[a];if(!h.complete){var u=e-h.start,c=h.duration>0?u/h.duration:1;c>=1?(h.complete=!0,c=1):o=!1;var d=h.easing(c);if(h.sourceCenter){var f=h.sourceCenter[0],p=h.sourceCenter[1],_=h.targetCenter[0],m=h.targetCenter[1];this.nextCenter_=h.targetCenter;var g=f+d*(_-f),y=p+d*(m-p);this.targetCenter_=[g,y]}if(h.sourceResolution&&h.targetResolution){var b=d===1?h.targetResolution:h.sourceResolution+d*(h.targetResolution-h.sourceResolution);if(h.anchor){var C=this.getViewportSize_(this.getRotation()),E=this.constraints_.resolution(b,0,C,!0);this.targetCenter_=this.calculateCenterZoom(E,h.anchor)}this.nextResolution_=h.targetResolution,this.targetResolution_=b,this.applyTargetState_(!0)}if(h.sourceRotation!==void 0&&h.targetRotation!==void 0){var I=d===1?Wi(h.targetRotation+Math.PI,2*Math.PI)-Math.PI:h.sourceRotation+d*(h.targetRotation-h.sourceRotation);if(h.anchor){var M=this.constraints_.rotation(I,!0);this.targetCenter_=this.calculateCenterRotate(M,h.anchor)}this.nextRotation_=h.targetRotation,this.targetRotation_=I}if(this.applyTargetState_(!0),i=!0,!h.complete)break}}if(o){this.animations_[n]=null,this.setHint(et.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;var T=s[0].callback;T&&Fs(T,!0)}}this.animations_=this.animations_.filter(Boolean),i&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},t.prototype.calculateCenterRotate=function(e,i){var n,s=this.getCenterInternal();return s!==void 0&&(n=[s[0]-i[0],s[1]-i[1]],hT(n,e-this.getRotation()),lT(n,i)),n},t.prototype.calculateCenterZoom=function(e,i){var n,s=this.getCenterInternal(),o=this.getResolution();if(s!==void 0&&o!==void 0){var a=i[0]-e*(i[0]-s[0])/o,l=i[1]-e*(i[1]-s[1])/o;n=[a,l]}return n},t.prototype.getViewportSize_=function(e){var i=this.viewportSize_;if(e){var n=i[0],s=i[1];return[Math.abs(n*Math.cos(e))+Math.abs(s*Math.sin(e)),Math.abs(n*Math.sin(e))+Math.abs(s*Math.cos(e))]}else return i},t.prototype.setViewportSize=function(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)},t.prototype.getCenter=function(){var e=this.getCenterInternal();return e&&O_(e,this.getProjection())},t.prototype.getCenterInternal=function(){return this.get(gt.CENTER)},t.prototype.getConstraints=function(){return this.constraints_},t.prototype.getConstrainResolution=function(){return this.get("constrainResolution")},t.prototype.getHints=function(e){return e!==void 0?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()},t.prototype.calculateExtent=function(e){var i=this.calculateExtentInternal(e);return $u(i,this.getProjection())},t.prototype.calculateExtentInternal=function(e){var i=e||this.getViewportSizeMinusPadding_(),n=this.getCenterInternal();oe(n,1);var s=this.getResolution();oe(s!==void 0,2);var o=this.getRotation();return oe(o!==void 0,3),Ro(n,s,o,i)},t.prototype.getMaxResolution=function(){return this.maxResolution_},t.prototype.getMinResolution=function(){return this.minResolution_},t.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},t.prototype.setMaxZoom=function(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))},t.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},t.prototype.setMinZoom=function(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))},t.prototype.setConstrainResolution=function(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))},t.prototype.getProjection=function(){return this.projection_},t.prototype.getResolution=function(){return this.get(gt.RESOLUTION)},t.prototype.getResolutions=function(){return this.resolutions_},t.prototype.getResolutionForExtent=function(e,i){return this.getResolutionForExtentInternal(Ut(e,this.getProjection()),i)},t.prototype.getResolutionForExtentInternal=function(e,i){var n=i||this.getViewportSizeMinusPadding_(),s=_e(e)/n[0],o=Ve(e)/n[1];return Math.max(s,o)},t.prototype.getResolutionForValueFunction=function(e){var i=e||2,n=this.getConstrainedResolution(this.maxResolution_),s=this.minResolution_,o=Math.log(n/s)/Math.log(i);return function(a){var l=n/Math.pow(i,a*o);return l}},t.prototype.getRotation=function(){return this.get(gt.ROTATION)},t.prototype.getValueForResolutionFunction=function(e){var i=Math.log(e||2),n=this.getConstrainedResolution(this.maxResolution_),s=this.minResolution_,o=Math.log(n/s)/i;return function(a){var l=Math.log(n/a)/i/o;return l}},t.prototype.getViewportSizeMinusPadding_=function(e){var i=this.getViewportSize_(e),n=this.padding_;return n&&(i=[i[0]-n[1]-n[3],i[1]-n[0]-n[2]]),i},t.prototype.getState=function(){var e=this.getProjection(),i=this.getResolution(),n=this.getRotation(),s=this.getCenterInternal(),o=this.padding_;if(o){var a=this.getViewportSizeMinusPadding_();s=Vl(s,this.getViewportSize_(),[a[0]/2+o[3],a[1]/2+o[0]],i,n)}return{center:s.slice(0),projection:e!==void 0?e:null,resolution:i,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:n,zoom:this.getZoom()}},t.prototype.getZoom=function(){var e,i=this.getResolution();return i!==void 0&&(e=this.getZoomForResolution(i)),e},t.prototype.getZoomForResolution=function(e){var i=this.minZoom_||0,n,s;if(this.resolutions_){var o=_l(this.resolutions_,e,1);i=o,n=this.resolutions_[o],o==this.resolutions_.length-1?s=2:s=n/this.resolutions_[o+1]}else n=this.maxResolution_,s=this.zoomFactor_;return i+Math.log(n/e)/Math.log(s)},t.prototype.getResolutionForZoom=function(e){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var i=Te(Math.floor(e),0,this.resolutions_.length-2),n=this.resolutions_[i]/this.resolutions_[i+1];return this.resolutions_[i]/Math.pow(n,Te(e-i,0,1))}else return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)},t.prototype.fit=function(e,i){var n;if(oe(Array.isArray(e)||typeof e.getSimplifiedGeometry=="function",24),Array.isArray(e)){oe(!Ac(e),25);var s=Ut(e,this.getProjection());n=om(s)}else if(e.getType()===ee.CIRCLE){var s=Ut(e.getExtent(),this.getProjection());n=om(s),n.rotate(this.getRotation(),Ci(s))}else{var o=Pg();o?n=e.clone().transform(o,this.getProjection()):n=e}this.fitInternal(n,i)},t.prototype.rotatedExtentForGeometry=function(e){for(var i=this.getRotation(),n=Math.cos(i),s=Math.sin(-i),o=e.getFlatCoordinates(),a=e.getStride(),l=1/0,h=1/0,u=-1/0,c=-1/0,d=0,f=o.length;d<f;d+=a){var p=o[d]*n-o[d+1]*s,_=o[d]*s+o[d+1]*n;l=Math.min(l,p),h=Math.min(h,_),u=Math.max(u,p),c=Math.max(c,_)}return[l,h,u,c]},t.prototype.fitInternal=function(e,i){var n=i||{},s=n.size;s||(s=this.getViewportSizeMinusPadding_());var o=n.padding!==void 0?n.padding:[0,0,0,0],a=n.nearest!==void 0?n.nearest:!1,l;n.minResolution!==void 0?l=n.minResolution:n.maxZoom!==void 0?l=this.getResolutionForZoom(n.maxZoom):l=0;var h=this.rotatedExtentForGeometry(e),u=this.getResolutionForExtentInternal(h,[s[0]-o[1]-o[3],s[1]-o[0]-o[2]]);u=isNaN(u)?l:Math.max(u,l),u=this.getConstrainedResolution(u,a?0:1);var c=this.getRotation(),d=Math.sin(c),f=Math.cos(c),p=Ci(h);p[0]+=(o[1]-o[3])/2*u,p[1]+=(o[0]-o[2])/2*u;var _=p[0]*f-p[1]*d,m=p[1]*f+p[0]*d,g=this.getConstrainedCenter([_,m],u),y=n.callback?n.callback:jn;n.duration!==void 0?this.animateInternal({resolution:u,center:g,duration:n.duration,easing:n.easing},y):(this.targetResolution_=u,this.targetCenter_=g,this.applyTargetState_(!1,!0),Fs(y,!0))},t.prototype.centerOn=function(e,i,n){this.centerOnInternal(ii(e,this.getProjection()),i,n)},t.prototype.centerOnInternal=function(e,i,n){this.setCenterInternal(Vl(e,i,n,this.getResolution(),this.getRotation()))},t.prototype.calculateCenterShift=function(e,i,n,s){var o,a=this.padding_;if(a&&e){var l=this.getViewportSizeMinusPadding_(-n),h=Vl(e,s,[l[0]/2+a[3],l[1]/2+a[0]],i,n);o=[e[0]-h[0],e[1]-h[1]]}return o},t.prototype.isDef=function(){return!!this.getCenterInternal()&&this.getResolution()!==void 0},t.prototype.adjustCenter=function(e){var i=O_(this.targetCenter_,this.getProjection());this.setCenter([i[0]+e[0],i[1]+e[1]])},t.prototype.adjustCenterInternal=function(e){var i=this.targetCenter_;this.setCenterInternal([i[0]+e[0],i[1]+e[1]])},t.prototype.adjustResolution=function(e,i){var n=i&&ii(i,this.getProjection());this.adjustResolutionInternal(e,n)},t.prototype.adjustResolutionInternal=function(e,i){var n=this.getAnimating()||this.getInteracting(),s=this.getViewportSize_(this.getRotation()),o=this.constraints_.resolution(this.targetResolution_*e,0,s,n);i&&(this.targetCenter_=this.calculateCenterZoom(o,i)),this.targetResolution_*=e,this.applyTargetState_()},t.prototype.adjustZoom=function(e,i){this.adjustResolution(Math.pow(this.zoomFactor_,-e),i)},t.prototype.adjustRotation=function(e,i){i&&(i=ii(i,this.getProjection())),this.adjustRotationInternal(e,i)},t.prototype.adjustRotationInternal=function(e,i){var n=this.getAnimating()||this.getInteracting(),s=this.constraints_.rotation(this.targetRotation_+e,n);i&&(this.targetCenter_=this.calculateCenterRotate(s,i)),this.targetRotation_+=e,this.applyTargetState_()},t.prototype.setCenter=function(e){this.setCenterInternal(e&&ii(e,this.getProjection()))},t.prototype.setCenterInternal=function(e){this.targetCenter_=e,this.applyTargetState_()},t.prototype.setHint=function(e,i){return this.hints_[e]+=i,this.changed(),this.hints_[e]},t.prototype.setResolution=function(e){this.targetResolution_=e,this.applyTargetState_()},t.prototype.setRotation=function(e){this.targetRotation_=e,this.applyTargetState_()},t.prototype.setZoom=function(e){this.setResolution(this.getResolutionForZoom(e))},t.prototype.applyTargetState_=function(e,i){var n=this.getAnimating()||this.getInteracting()||i,s=this.constraints_.rotation(this.targetRotation_,n),o=this.getViewportSize_(s),a=this.constraints_.resolution(this.targetResolution_,0,o,n),l=this.constraints_.center(this.targetCenter_,a,o,n,this.calculateCenterShift(this.targetCenter_,a,s,o));this.get(gt.ROTATION)!==s&&this.set(gt.ROTATION,s),this.get(gt.RESOLUTION)!==a&&(this.set(gt.RESOLUTION,a),this.set("zoom",this.getZoom(),!0)),(!l||!this.get(gt.CENTER)||!Pa(this.get(gt.CENTER),l))&&this.set(gt.CENTER,l),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0},t.prototype.resolveConstraints=function(e,i,n){var s=e!==void 0?e:200,o=i||0,a=this.constraints_.rotation(this.targetRotation_),l=this.getViewportSize_(a),h=this.constraints_.resolution(this.targetResolution_,o,l),u=this.constraints_.center(this.targetCenter_,h,l,!1,this.calculateCenterShift(this.targetCenter_,h,a,l));if(s===0&&!this.cancelAnchor_){this.targetResolution_=h,this.targetRotation_=a,this.targetCenter_=u,this.applyTargetState_();return}var c=n||(s===0?this.cancelAnchor_:void 0);this.cancelAnchor_=void 0,(this.getResolution()!==h||this.getRotation()!==a||!this.getCenterInternal()||!Pa(this.getCenterInternal(),u))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:a,center:u,resolution:h,duration:s,easing:Nk,anchor:c}))},t.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint(et.INTERACTING,1)},t.prototype.endInteraction=function(e,i,n){var s=n&&ii(n,this.getProjection());this.endInteractionInternal(e,i,s)},t.prototype.endInteractionInternal=function(e,i,n){this.setHint(et.INTERACTING,-1),this.resolveConstraints(e,i,n)},t.prototype.getConstrainedCenter=function(e,i){var n=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,i||this.getResolution(),n)},t.prototype.getConstrainedZoom=function(e,i){var n=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(n,i))},t.prototype.getConstrainedResolution=function(e,i){var n=i||0,s=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,n,s)},t}(rr);function Fs(r,t){setTimeout(function(){r(t)},0)}function sD(r){if(r.extent!==void 0){var t=r.smoothExtentConstraint!==void 0?r.smoothExtentConstraint:!0;return J_(r.extent,r.constrainOnlyCenter,t)}var e=Ic(r.projection,"EPSG:3857");if(r.multiWorld!==!0&&e.isGlobal()){var i=e.getExtent().slice();return i[0]=-1/0,i[2]=1/0,J_(i,!1,!1)}return Pk}function oD(r){var t,e,i,n=28,s=2,o=r.minZoom!==void 0?r.minZoom:Bl,a=r.maxZoom!==void 0?r.maxZoom:n,l=r.zoomFactor!==void 0?r.zoomFactor:s,h=r.multiWorld!==void 0?r.multiWorld:!1,u=r.smoothResolutionConstraint!==void 0?r.smoothResolutionConstraint:!0,c=r.showFullExtent!==void 0?r.showFullExtent:!1,d=Ic(r.projection,"EPSG:3857"),f=d.getExtent(),p=r.constrainOnlyCenter,_=r.extent;if(!h&&!_&&d.isGlobal()&&(p=!1,_=f),r.resolutions!==void 0){var m=r.resolutions;e=m[o],i=m[a]!==void 0?m[a]:m[m.length-1],r.constrainResolution?t=kk(m,u,!p&&_,c):t=em(e,i,u,!p&&_,c)}else{var g=f?Math.max(_e(f),Ve(f)):360*pt[Yt.DEGREES]/d.getMetersPerUnit(),y=g/Fc/Math.pow(s,Bl),b=y/Math.pow(s,n-Bl);e=r.maxResolution,e!==void 0?o=0:e=y/Math.pow(l,o),i=r.minResolution,i===void 0&&(r.maxZoom!==void 0?r.maxResolution!==void 0?i=e/Math.pow(l,a):i=y/Math.pow(l,a):i=b),a=o+Math.floor(Math.log(e/i)/Math.log(l)),i=e/Math.pow(l,a-o),r.constrainResolution?t=Dk(l,e,i,u,!p&&_,c):t=em(e,i,u,!p&&_,c)}return{constraint:t,maxResolution:e,minResolution:i,minZoom:o,zoomFactor:l}}function aD(r){var t=r.enableRotation!==void 0?r.enableRotation:!0;if(t){var e=r.constrainRotation;return e===void 0||e===!0?$k():e===!1?tm:typeof e=="number"?Fk(e):tm}else return Lk}function lD(r){return!(r.sourceCenter&&r.targetCenter&&!Pa(r.sourceCenter,r.targetCenter)||r.sourceResolution!==r.targetResolution||r.sourceRotation!==r.targetRotation)}function Vl(r,t,e,i,n){var s=Math.cos(-n),o=Math.sin(-n),a=r[0]*s-r[1]*o,l=r[1]*s+r[0]*o;a+=(t[0]/2-e[0])*i,l+=(e[1]-t[1]/2)*i,o=-o;var h=a*s-l*o,u=l*s+a*o;return[h,u]}const hD=nD,ue={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};var uD=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),cD=function(r){uD(t,r);function t(e){var i=r.call(this)||this;i.on,i.once,i.un,i.background_=e.background;var n=ge({},e);return typeof e.properties=="object"&&(delete n.properties,ge(n,e.properties)),n[ue.OPACITY]=e.opacity!==void 0?e.opacity:1,oe(typeof n[ue.OPACITY]=="number",64),n[ue.VISIBLE]=e.visible!==void 0?e.visible:!0,n[ue.Z_INDEX]=e.zIndex,n[ue.MAX_RESOLUTION]=e.maxResolution!==void 0?e.maxResolution:1/0,n[ue.MIN_RESOLUTION]=e.minResolution!==void 0?e.minResolution:0,n[ue.MIN_ZOOM]=e.minZoom!==void 0?e.minZoom:-1/0,n[ue.MAX_ZOOM]=e.maxZoom!==void 0?e.maxZoom:1/0,i.className_=n.className!==void 0?n.className:"ol-layer",delete n.className,i.setProperties(n),i.state_=null,i}return t.prototype.getBackground=function(){return this.background_},t.prototype.getClassName=function(){return this.className_},t.prototype.getLayerState=function(e){var i=this.state_||{layer:this,managed:e===void 0?!0:e},n=this.getZIndex();return i.opacity=Te(Math.round(this.getOpacity()*100)/100,0,1),i.visible=this.getVisible(),i.extent=this.getExtent(),i.zIndex=n===void 0&&!i.managed?1/0:n,i.maxResolution=this.getMaxResolution(),i.minResolution=Math.max(this.getMinResolution(),0),i.minZoom=this.getMinZoom(),i.maxZoom=this.getMaxZoom(),this.state_=i,i},t.prototype.getLayersArray=function(e){return se()},t.prototype.getLayerStatesArray=function(e){return se()},t.prototype.getExtent=function(){return this.get(ue.EXTENT)},t.prototype.getMaxResolution=function(){return this.get(ue.MAX_RESOLUTION)},t.prototype.getMinResolution=function(){return this.get(ue.MIN_RESOLUTION)},t.prototype.getMinZoom=function(){return this.get(ue.MIN_ZOOM)},t.prototype.getMaxZoom=function(){return this.get(ue.MAX_ZOOM)},t.prototype.getOpacity=function(){return this.get(ue.OPACITY)},t.prototype.getSourceState=function(){return se()},t.prototype.getVisible=function(){return this.get(ue.VISIBLE)},t.prototype.getZIndex=function(){return this.get(ue.Z_INDEX)},t.prototype.setBackground=function(e){this.background_=e,this.changed()},t.prototype.setExtent=function(e){this.set(ue.EXTENT,e)},t.prototype.setMaxResolution=function(e){this.set(ue.MAX_RESOLUTION,e)},t.prototype.setMinResolution=function(e){this.set(ue.MIN_RESOLUTION,e)},t.prototype.setMaxZoom=function(e){this.set(ue.MAX_ZOOM,e)},t.prototype.setMinZoom=function(e){this.set(ue.MIN_ZOOM,e)},t.prototype.setOpacity=function(e){oe(typeof e=="number",64),this.set(ue.OPACITY,e)},t.prototype.setVisible=function(e){this.set(ue.VISIBLE,e)},t.prototype.setZIndex=function(e){this.set(ue.Z_INDEX,e)},t.prototype.disposeInternal=function(){this.state_&&(this.state_.layer=null,this.state_=null),r.prototype.disposeInternal.call(this)},t}(rr);const dD=cD,Gu={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"},gl={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"};var fD=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),pD=function(r){fD(t,r);function t(e){var i=this,n=ge({},e);delete n.source,i=r.call(this,n)||this,i.on,i.once,i.un,i.mapPrecomposeKey_=null,i.mapRenderKey_=null,i.sourceChangeKey_=null,i.renderer_=null,i.rendered=!1,e.render&&(i.render=e.render),e.map&&i.setMap(e.map),i.addChangeListener(ue.SOURCE,i.handleSourcePropertyChange_);var s=e.source?e.source:null;return i.setSource(s),i}return t.prototype.getLayersArray=function(e){var i=e||[];return i.push(this),i},t.prototype.getLayerStatesArray=function(e){var i=e||[];return i.push(this.getLayerState()),i},t.prototype.getSource=function(){return this.get(ue.SOURCE)||null},t.prototype.getRenderSource=function(){return this.getSource()},t.prototype.getSourceState=function(){var e=this.getSource();return e?e.getState():gl.UNDEFINED},t.prototype.handleSourceChange_=function(){this.changed()},t.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(ft(this.sourceChangeKey_),this.sourceChangeKey_=null);var e=this.getSource();e&&(this.sourceChangeKey_=At(e,$e.CHANGE,this.handleSourceChange_,this)),this.changed()},t.prototype.getFeatures=function(e){return this.renderer_?this.renderer_.getFeatures(e):new Promise(function(i){return i([])})},t.prototype.getData=function(e){return!this.renderer_||!this.rendered?null:this.renderer_.getData(e)},t.prototype.render=function(e,i){var n=this.getRenderer();if(n.prepareFrame(e))return this.rendered=!0,n.renderFrame(e,i)},t.prototype.unrender=function(){this.rendered=!1},t.prototype.setMapInternal=function(e){e||this.unrender(),this.set(ue.MAP,e)},t.prototype.getMapInternal=function(){return this.get(ue.MAP)},t.prototype.setMap=function(e){this.mapPrecomposeKey_&&(ft(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(ft(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=At(e,Gu.PRECOMPOSE,function(i){var n=i,s=n.frameState.layerStatesArray,o=this.getLayerState(!1);oe(!s.some(function(a){return a.layer===o.layer}),67),s.push(o)},this),this.mapRenderKey_=At(this,$e.CHANGE,e.render,e),this.changed())},t.prototype.setSource=function(e){this.set(ue.SOURCE,e)},t.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},t.prototype.hasRenderer=function(){return!!this.renderer_},t.prototype.createRenderer=function(){return null},t.prototype.disposeInternal=function(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),r.prototype.disposeInternal.call(this)},t}(dD);const zc=pD;var _D=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),mD=function(r){_D(t,r);function t(e){var i=e||{};return r.call(this,i)||this}return t}(zc);const vD=mD,ie={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};var gD=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),yD=function(r){gD(t,r);function t(e){var i=r.call(this)||this;return i.ready=!0,i.boundHandleImageChange_=i.handleImageChange_.bind(i),i.layer_=e,i.declutterExecutorGroup=null,i}return t.prototype.getFeatures=function(e){return se()},t.prototype.getData=function(e){return null},t.prototype.prepareFrame=function(e){return se()},t.prototype.renderFrame=function(e,i){return se()},t.prototype.loadedTileCallback=function(e,i,n){e[i]||(e[i]={}),e[i][n.tileCoord.toString()]=n},t.prototype.createLoadedTileFinder=function(e,i,n){return function(s,o){var a=this.loadedTileCallback.bind(this,n,s);return e.forEachLoadedTile(i,s,o,a)}.bind(this)},t.prototype.forEachFeatureAtCoordinate=function(e,i,n,s,o){},t.prototype.getDataAtPixel=function(e,i,n){return null},t.prototype.getLayer=function(){return this.layer_},t.prototype.handleFontsChanged=function(){},t.prototype.handleImageChange_=function(e){var i=e.target;i.getState()===ie.LOADED&&this.renderIfReadyAndVisible()},t.prototype.loadImage=function(e){var i=e.getState();return i!=ie.LOADED&&i!=ie.ERROR&&e.addEventListener($e.CHANGE,this.boundHandleImageChange_),i==ie.IDLE&&(e.load(),i=e.getState()),i==ie.LOADED},t.prototype.renderIfReadyAndVisible=function(){var e=this.getLayer();e.getVisible()&&e.getSourceState()==gl.READY&&e.changed()},t.prototype.disposeInternal=function(){delete this.layer_,r.prototype.disposeInternal.call(this)},t}(ny);const bD=yD;var wD=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),xD=function(r){wD(t,r);function t(e,i,n,s){var o=r.call(this,e)||this;return o.inversePixelTransform=i,o.frameState=n,o.context=s,o}return t}(ir);const CD=xD;var AD=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,ED=/^([a-z]*)$|^hsla?\(.*\)$/i;function my(r){return typeof r=="string"?r:vy(r)}function ID(r){var t=document.createElement("div");if(t.style.color=r,t.style.color!==""){document.body.appendChild(t);var e=getComputedStyle(t).color;return document.body.removeChild(t),e}else return""}var SD=function(){var r=1024,t={},e=0;return function(i){var n;if(t.hasOwnProperty(i))n=t[i];else{if(e>=r){var s=0;for(var o in t)(s++&3)===0&&(delete t[o],--e)}n=TD(i),t[i]=n,++e}return n}}();function Ba(r){return Array.isArray(r)?r:SD(r)}function TD(r){var t,e,i,n,s;if(ED.exec(r)&&(r=ID(r)),AD.exec(r)){var o=r.length-1,a=void 0;o<=4?a=1:a=2;var l=o===4||o===8;t=parseInt(r.substr(1+0*a,a),16),e=parseInt(r.substr(1+1*a,a),16),i=parseInt(r.substr(1+2*a,a),16),l?n=parseInt(r.substr(1+3*a,a),16):n=255,a==1&&(t=(t<<4)+t,e=(e<<4)+e,i=(i<<4)+i,l&&(n=(n<<4)+n)),s=[t,e,i,n/255]}else r.indexOf("rgba(")==0?(s=r.slice(5,-1).split(",").map(Number),am(s)):r.indexOf("rgb(")==0?(s=r.slice(4,-1).split(",").map(Number),s.push(1),am(s)):oe(!1,14);return s}function am(r){return r[0]=Te(r[0]+.5|0,0,255),r[1]=Te(r[1]+.5|0,0,255),r[2]=Te(r[2]+.5|0,0,255),r[3]=Te(r[3],0,1),r}function vy(r){var t=r[0];t!=(t|0)&&(t=t+.5|0);var e=r[1];e!=(e|0)&&(e=e+.5|0);var i=r[2];i!=(i|0)&&(i=i+.5|0);var n=r[3]===void 0?1:Math.round(r[3]*100)/100;return"rgba("+t+","+e+","+i+","+n+")"}function vt(r,t,e,i){var n;return e&&e.length?n=e.shift():vl?n=new OffscreenCanvas(r||300,t||300):n=document.createElement("canvas"),r&&(n.width=r),t&&(n.height=t),n.getContext("2d",i)}var OD=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),An=null;function MD(){var r=document.createElement("canvas");r.width=1,r.height=1,An=r.getContext("2d")}var RD=function(r){OD(t,r);function t(e){var i=r.call(this,e)||this;return i.container=null,i.renderedResolution,i.tempTransform=yi(),i.pixelTransform=yi(),i.inversePixelTransform=yi(),i.context=null,i.containerReused=!1,i.pixelContext_=null,i.frameState=null,i}return t.prototype.getImageData=function(e,i,n){An||MD(),An.clearRect(0,0,1,1);var s;try{An.drawImage(e,i,n,1,1,0,0,1,1),s=An.getImageData(0,0,1,1).data}catch{return null}return s},t.prototype.getBackground=function(e){var i=this.getLayer(),n=i.getBackground();return typeof n=="function"&&(n=n(e.viewState.resolution)),n||void 0},t.prototype.useContainer=function(e,i,n,s){var o=this.getLayer().getClassName(),a,l;if(e&&e.className===o&&e.style.opacity===""&&n===1&&(!s||e.style.backgroundColor&&Zr(Ba(e.style.backgroundColor),Ba(s)))){var h=e.firstElementChild;h instanceof HTMLCanvasElement&&(l=h.getContext("2d"))}if(l&&l.canvas.style.transform===i?(this.container=e,this.context=l,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){a=document.createElement("div"),a.className=o;var u=a.style;u.position="absolute",u.width="100%",u.height="100%",s&&(u.backgroundColor=s),l=vt();var h=l.canvas;a.appendChild(h),u=h.style,u.position="absolute",u.left="0",u.transformOrigin="top left",this.container=a,this.context=l}},t.prototype.clipUnrotated=function(e,i,n){var s=tr(n),o=cl(n),a=ul(n),l=hl(n);Re(i.coordinateToPixelTransform,s),Re(i.coordinateToPixelTransform,o),Re(i.coordinateToPixelTransform,a),Re(i.coordinateToPixelTransform,l);var h=this.inversePixelTransform;Re(h,s),Re(h,o),Re(h,a),Re(h,l),e.save(),e.beginPath(),e.moveTo(Math.round(s[0]),Math.round(s[1])),e.lineTo(Math.round(o[0]),Math.round(o[1])),e.lineTo(Math.round(a[0]),Math.round(a[1])),e.lineTo(Math.round(l[0]),Math.round(l[1])),e.clip()},t.prototype.dispatchRenderEvent_=function(e,i,n){var s=this.getLayer();if(s.hasListener(e)){var o=new CD(e,this.inversePixelTransform,n,i);s.dispatchEvent(o)}},t.prototype.preRender=function(e,i){this.frameState=i,this.dispatchRenderEvent_(Gu.PRERENDER,e,i)},t.prototype.postRender=function(e,i){this.dispatchRenderEvent_(Gu.POSTRENDER,e,i)},t.prototype.getRenderTransform=function(e,i,n,s,o,a,l){var h=o/2,u=a/2,c=s/i,d=-c,f=-e[0]+l,p=-e[1];return $t(this.tempTransform,h,u,c,d,-n,f,p)},t.prototype.getDataAtPixel=function(e,i,n){var s=Re(this.inversePixelTransform,e.slice()),o=this.context,a=this.getLayer(),l=a.getExtent();if(l){var h=Re(i.pixelToCoordinateTransform,e.slice());if(!Xr(l,h))return null}var u=Math.round(s[0]),c=Math.round(s[1]),d=this.pixelContext_;if(!d){var f=document.createElement("canvas");f.width=1,f.height=1,d=f.getContext("2d"),this.pixelContext_=d}d.clearRect(0,0,1,1);var p;try{d.drawImage(o.canvas,u,c,1,1,0,0,1,1),p=d.getImageData(0,0,1,1).data}catch(_){return _.name==="SecurityError"?(this.pixelContext_=null,new Uint8Array):p}return p[3]===0?null:p},t.prototype.disposeInternal=function(){delete this.frameState,r.prototype.disposeInternal.call(this)},t}(bD);const Bc=RD;var gy=.5,bt=!0,Va={imageSmoothingEnabled:!1,msImageSmoothingEnabled:!1},yy={imageSmoothingEnabled:!0,msImageSmoothingEnabled:!0},PD=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),kD=function(r){PD(t,r);function t(e){var i=r.call(this,e)||this;return i.image_=null,i}return t.prototype.getImage=function(){return this.image_?this.image_.getImage():null},t.prototype.prepareFrame=function(e){var i=e.layerStatesArray[e.layerIndex],n=e.pixelRatio,s=e.viewState,o=s.resolution,a=this.getLayer().getSource(),l=e.viewHints,h=e.extent;if(i.extent!==void 0&&(h=Mr(h,Ut(i.extent,s.projection))),!l[et.ANIMATING]&&!l[et.INTERACTING]&&!Ac(h))if(a){var u=s.projection;if(!bt){var c=a.getProjection();c&&(u=c)}var d=a.getImage(h,o,n,u);d&&this.loadImage(d)?this.image_=d:this.image_=null}else this.image_=null;return!!this.image_},t.prototype.getData=function(e){var i=this.frameState;if(!i)return null;var n=this.getLayer(),s=Re(i.pixelToCoordinateTransform,e.slice()),o=n.getExtent();if(o&&!Xr(o,s))return null;var a=this.image_.getExtent(),l=this.image_.getImage(),h=_e(a),u=Math.floor(l.width*((s[0]-a[0])/h));if(u<0||u>=l.width)return null;var c=Ve(a),d=Math.floor(l.height*((a[3]-s[1])/c));return d<0||d>=l.height?null:this.getImageData(l,u,d)},t.prototype.renderFrame=function(e,i){var n=this.image_,s=n.getExtent(),o=n.getResolution(),a=n.getPixelRatio(),l=e.layerStatesArray[e.layerIndex],h=e.pixelRatio,u=e.viewState,c=u.center,d=u.resolution,f=e.size,p=h*o/(d*a),_=Math.round(f[0]*h),m=Math.round(f[1]*h),g=u.rotation;if(g){var y=Math.round(Math.sqrt(_*_+m*m));_=y,m=y}$t(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/h,1/h,g,-_/2,-m/2),kc(this.inversePixelTransform,this.pixelTransform);var b=Dc(this.pixelTransform);this.useContainer(i,b,l.opacity,this.getBackground(e));var C=this.context,E=C.canvas;E.width!=_||E.height!=m?(E.width=_,E.height=m):this.containerReused||C.clearRect(0,0,_,m);var I=!1,M=!0;if(l.extent){var T=Ut(l.extent,u.projection);M=je(T,e.extent),I=M&&!fi(T,e.extent),I&&this.clipUnrotated(C,e,T)}var D=n.getImage(),L=$t(this.tempTransform,_/2,m/2,p,p,0,a*(s[0]-c[0])/o,a*(c[1]-s[3])/o);this.renderedResolution=o*h/a;var z=D.width*L[0],U=D.height*L[3];if(this.getLayer().getSource().getInterpolate()||ge(C,Va),this.preRender(C,e),M&&z>=.5&&U>=.5){var V=L[4],q=L[5],B=l.opacity,v=void 0;B!==1&&(v=C.globalAlpha,C.globalAlpha=B),C.drawImage(D,0,0,+D.width,+D.height,Math.round(V),Math.round(q),Math.round(z),Math.round(U)),B!==1&&(C.globalAlpha=v)}return this.postRender(C,e),I&&C.restore(),ge(C,yy),b!==E.style.transform&&(E.style.transform=b),this.container},t}(Bc);const DD=kD;var LD=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),FD=function(r){LD(t,r);function t(e){return r.call(this,e)||this}return t.prototype.createRenderer=function(){return new DD(this)},t.prototype.getData=function(e){return r.prototype.getData.call(this,e)},t}(vD);const $D=FD,$s={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};var ND=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),zD=function(r){ND(t,r);function t(e){var i=this,n=e||{},s=ge({},n);return delete s.preload,delete s.useInterimTilesOnError,i=r.call(this,s)||this,i.on,i.once,i.un,i.setPreload(n.preload!==void 0?n.preload:0),i.setUseInterimTilesOnError(n.useInterimTilesOnError!==void 0?n.useInterimTilesOnError:!0),i}return t.prototype.getPreload=function(){return this.get($s.PRELOAD)},t.prototype.setPreload=function(e){this.set($s.PRELOAD,e)},t.prototype.getUseInterimTilesOnError=function(){return this.get($s.USE_INTERIM_TILES_ON_ERROR)},t.prototype.setUseInterimTilesOnError=function(e){this.set($s.USE_INTERIM_TILES_ON_ERROR,e)},t.prototype.getData=function(e){return r.prototype.getData.call(this,e)},t}(zc);const BD=zD,Z={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};var VD=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),GD=function(r){VD(t,r);function t(e,i,n){var s=r.call(this)||this,o=n||{};return s.tileCoord=e,s.state=i,s.interimTile=null,s.key="",s.transition_=o.transition===void 0?250:o.transition,s.transitionStarts_={},s.interpolate=!!o.interpolate,s}return t.prototype.changed=function(){this.dispatchEvent($e.CHANGE)},t.prototype.release=function(){},t.prototype.getKey=function(){return this.key+"/"+this.tileCoord},t.prototype.getInterimTile=function(){if(!this.interimTile)return this;var e=this.interimTile;do{if(e.getState()==Z.LOADED)return this.transition_=0,e;e=e.interimTile}while(e);return this},t.prototype.refreshInterimChain=function(){if(!!this.interimTile){var e=this.interimTile,i=this;do{if(e.getState()==Z.LOADED){e.interimTile=null;break}else e.getState()==Z.LOADING?i=e:e.getState()==Z.IDLE?i.interimTile=e.interimTile:i=e;e=i.interimTile}while(e)}},t.prototype.getTileCoord=function(){return this.tileCoord},t.prototype.getState=function(){return this.state},t.prototype.setState=function(e){if(this.state!==Z.ERROR&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()},t.prototype.load=function(){se()},t.prototype.getAlpha=function(e,i){if(!this.transition_)return 1;var n=this.transitionStarts_[e];if(!n)n=i,this.transitionStarts_[e]=n;else if(n===-1)return 1;var s=i-n+1e3/60;return s>=this.transition_?1:hy(s/this.transition_)},t.prototype.inTransition=function(e){return this.transition_?this.transitionStarts_[e]!==-1:!1},t.prototype.endTransition=function(e){this.transition_&&(this.transitionStarts_[e]=-1)},t}(ds);const by=GD;var HD=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),UD=function(r){HD(t,r);function t(e,i,n,s){var o=r.call(this)||this;return o.extent=e,o.pixelRatio_=n,o.resolution=i,o.state=s,o}return t.prototype.changed=function(){this.dispatchEvent($e.CHANGE)},t.prototype.getExtent=function(){return this.extent},t.prototype.getImage=function(){return se()},t.prototype.getPixelRatio=function(){return this.pixelRatio_},t.prototype.getResolution=function(){return this.resolution},t.prototype.getState=function(){return this.state},t.prototype.load=function(){se()},t}(ds);const wy=UD;var WD=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),YD=function(r){WD(t,r);function t(e,i,n,s,o,a){var l=r.call(this,e,i,n,ie.IDLE)||this;return l.src_=s,l.image_=new Image,o!==null&&(l.image_.crossOrigin=o),l.unlisten_=null,l.state=ie.IDLE,l.imageLoadFunction_=a,l}return t.prototype.getImage=function(){return this.image_},t.prototype.handleImageError_=function(){this.state=ie.ERROR,this.unlistenImage_(),this.changed()},t.prototype.handleImageLoad_=function(){this.resolution===void 0&&(this.resolution=Ve(this.extent)/this.image_.height),this.state=ie.LOADED,this.unlistenImage_(),this.changed()},t.prototype.load=function(){(this.state==ie.IDLE||this.state==ie.ERROR)&&(this.state=ie.LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=Vc(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},t.prototype.setImage=function(e){this.image_=e,this.resolution=Ve(this.extent)/this.image_.height},t.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},t}(wy);function Vc(r,t,e){var i=r,n=!0,s=!1,o=!1,a=[Na(i,$e.LOAD,function(){o=!0,s||t()})];return i.src&&fk?(s=!0,i.decode().then(function(){n&&t()}).catch(function(l){n&&(o?t():e())})):a.push(Na(i,$e.ERROR,e)),function(){n=!1,a.forEach(ft)}}const jD=YD;var qD=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),XD=function(r){qD(t,r);function t(e,i,n,s,o,a){var l=r.call(this,e,i,a)||this;return l.crossOrigin_=s,l.src_=n,l.key=n,l.image_=new Image,s!==null&&(l.image_.crossOrigin=s),l.unlisten_=null,l.tileLoadFunction_=o,l}return t.prototype.getImage=function(){return this.image_},t.prototype.setImage=function(e){this.image_=e,this.state=Z.LOADED,this.unlistenImage_(),this.changed()},t.prototype.handleImageError_=function(){this.state=Z.ERROR,this.unlistenImage_(),this.image_=KD(),this.changed()},t.prototype.handleImageLoad_=function(){var e=this.image_;e.naturalWidth&&e.naturalHeight?this.state=Z.LOADED:this.state=Z.EMPTY,this.unlistenImage_(),this.changed()},t.prototype.load=function(){this.state==Z.ERROR&&(this.state=Z.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==Z.IDLE&&(this.state=Z.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=Vc(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},t.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},t}(by);function KD(){var r=vt(1,1);return r.fillStyle="rgba(0,0,0,0)",r.fillRect(0,0,1,1),r.canvas}const xy=XD;var ZD=10,lm=.25,QD=function(){function r(t,e,i,n,s,o){this.sourceProj_=t,this.targetProj_=e;var a={},l=Hn(this.targetProj_,this.sourceProj_);this.transformInv_=function(b){var C=b[0]+"/"+b[1];return a[C]||(a[C]=l(b)),a[C]},this.maxSourceExtent_=n,this.errorThresholdSquared_=s*s,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!n&&!!this.sourceProj_.getExtent()&&_e(n)==_e(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?_e(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?_e(this.targetProj_.getExtent()):null;var h=tr(i),u=cl(i),c=ul(i),d=hl(i),f=this.transformInv_(h),p=this.transformInv_(u),_=this.transformInv_(c),m=this.transformInv_(d),g=ZD+(o?Math.max(0,Math.ceil(kS(Du(i)/(o*o*256*256)))):0);if(this.addQuad_(h,u,c,d,f,p,_,m,g),this.wrapsXInSource_){var y=1/0;this.triangles_.forEach(function(b,C,E){y=Math.min(y,b.source[0][0],b.source[1][0],b.source[2][0])}),this.triangles_.forEach(function(b){if(Math.max(b.source[0][0],b.source[1][0],b.source[2][0])-y>this.sourceWorldWidth_/2){var C=[[b.source[0][0],b.source[0][1]],[b.source[1][0],b.source[1][1]],[b.source[2][0],b.source[2][1]]];C[0][0]-y>this.sourceWorldWidth_/2&&(C[0][0]-=this.sourceWorldWidth_),C[1][0]-y>this.sourceWorldWidth_/2&&(C[1][0]-=this.sourceWorldWidth_),C[2][0]-y>this.sourceWorldWidth_/2&&(C[2][0]-=this.sourceWorldWidth_);var E=Math.min(C[0][0],C[1][0],C[2][0]),I=Math.max(C[0][0],C[1][0],C[2][0]);I-E<this.sourceWorldWidth_/2&&(b.source=C)}}.bind(this))}a={}}return r.prototype.addTriangle_=function(t,e,i,n,s,o){this.triangles_.push({source:[n,s,o],target:[t,e,i]})},r.prototype.addQuad_=function(t,e,i,n,s,o,a,l,h){var u=E_([s,o,a,l]),c=this.sourceWorldWidth_?_e(u)/this.sourceWorldWidth_:null,d=this.sourceWorldWidth_,f=this.sourceProj_.canWrapX()&&c>.5&&c<1,p=!1;if(h>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var _=E_([t,e,i,n]),m=_e(_)/this.targetWorldWidth_;p=m>lm||p}!f&&this.sourceProj_.isGlobal()&&c&&(p=c>lm||p)}if(!(!p&&this.maxSourceExtent_&&isFinite(u[0])&&isFinite(u[1])&&isFinite(u[2])&&isFinite(u[3])&&!je(u,this.maxSourceExtent_))){var g=0;if(!p&&(!isFinite(s[0])||!isFinite(s[1])||!isFinite(o[0])||!isFinite(o[1])||!isFinite(a[0])||!isFinite(a[1])||!isFinite(l[0])||!isFinite(l[1]))){if(h>0)p=!0;else if(g=(!isFinite(s[0])||!isFinite(s[1])?8:0)+(!isFinite(o[0])||!isFinite(o[1])?4:0)+(!isFinite(a[0])||!isFinite(a[1])?2:0)+(!isFinite(l[0])||!isFinite(l[1])?1:0),g!=1&&g!=2&&g!=4&&g!=8)return}if(h>0){if(!p){var y=[(t[0]+i[0])/2,(t[1]+i[1])/2],b=this.transformInv_(y),C=void 0;if(f){var E=(Wi(s[0],d)+Wi(a[0],d))/2;C=E-Wi(b[0],d)}else C=(s[0]+a[0])/2-b[0];var I=(s[1]+a[1])/2-b[1],M=C*C+I*I;p=M>this.errorThresholdSquared_}if(p){if(Math.abs(t[0]-i[0])<=Math.abs(t[1]-i[1])){var T=[(e[0]+i[0])/2,(e[1]+i[1])/2],D=this.transformInv_(T),L=[(n[0]+t[0])/2,(n[1]+t[1])/2],z=this.transformInv_(L);this.addQuad_(t,e,T,L,s,o,D,z,h-1),this.addQuad_(L,T,i,n,z,D,a,l,h-1)}else{var U=[(t[0]+e[0])/2,(t[1]+e[1])/2],V=this.transformInv_(U),q=[(i[0]+n[0])/2,(i[1]+n[1])/2],B=this.transformInv_(q);this.addQuad_(t,U,q,n,s,V,B,l,h-1),this.addQuad_(U,e,i,q,V,o,a,B,h-1)}return}}if(f){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}(g&11)==0&&this.addTriangle_(t,i,n,s,a,l),(g&14)==0&&this.addTriangle_(t,i,e,s,a,o),g&&((g&13)==0&&this.addTriangle_(e,n,t,o,l,s),(g&7)==0&&this.addTriangle_(e,n,i,o,l,a))}},r.prototype.calculateSourceExtent=function(){var t=_t();return this.triangles_.forEach(function(e,i,n){var s=e.source;kn(t,s[0]),kn(t,s[1]),kn(t,s[2])}),t},r.prototype.getTriangles=function(){return this.triangles_},r}();const Cy=QD;var Gl;function hm(r,t,e,i,n){r.beginPath(),r.moveTo(0,0),r.lineTo(t,e),r.lineTo(i,n),r.closePath(),r.save(),r.clip(),r.fillRect(0,0,Math.max(t,i)+1,Math.max(e,n)),r.restore()}function Hl(r,t){return Math.abs(r[t*4]-210)>2||Math.abs(r[t*4+3]-.75*255)>2}function JD(){if(Gl===void 0){var r=document.createElement("canvas").getContext("2d");r.globalCompositeOperation="lighter",r.fillStyle="rgba(210, 0, 0, 0.75)",hm(r,4,5,4,0),hm(r,4,5,0,5);var t=r.getImageData(0,0,3,3).data;Gl=Hl(t,0)||Hl(t,4)||Hl(t,8)}return Gl}function qn(r,t,e,i){var n=os(e,t,r),s=S_(t,i,e),o=t.getMetersPerUnit();o!==void 0&&(s*=o);var a=r.getMetersPerUnit();a!==void 0&&(s/=a);var l=r.getExtent();if(!l||Xr(l,n)){var h=S_(r,s,n)/s;isFinite(h)&&h>0&&(s/=h)}return s}function eL(r,t,e,i){var n=Ci(e),s=qn(r,t,n,i);return(!isFinite(s)||s<=0)&&Ig(e,function(o){return s=qn(r,t,o,i),isFinite(s)&&s>0}),s}function Ay(r,t,e,i,n,s,o,a,l,h,u,c){var d=vt(Math.round(e*r),Math.round(e*t));if(c||ge(d,Va),l.length===0)return d.canvas;d.scale(e,e);function f(C){return Math.round(C*e)/e}d.globalCompositeOperation="lighter";var p=_t();l.forEach(function(C,E,I){tT(p,C.extent)});var _=_e(p),m=Ve(p),g=vt(Math.round(e*_/i),Math.round(e*m/i));c||ge(g,Va);var y=e/i;l.forEach(function(C,E,I){var M=C.extent[0]-p[0],T=-(C.extent[3]-p[3]),D=_e(C.extent),L=Ve(C.extent);C.image.width>0&&C.image.height>0&&g.drawImage(C.image,h,h,C.image.width-2*h,C.image.height-2*h,M*y,T*y,D*y,L*y)});var b=tr(o);return a.getTriangles().forEach(function(C,E,I){var M=C.source,T=C.target,D=M[0][0],L=M[0][1],z=M[1][0],U=M[1][1],V=M[2][0],q=M[2][1],B=f((T[0][0]-b[0])/s),v=f(-(T[0][1]-b[1])/s),w=f((T[1][0]-b[0])/s),x=f(-(T[1][1]-b[1])/s),A=f((T[2][0]-b[0])/s),O=f(-(T[2][1]-b[1])/s),N=D,S=L;D=0,L=0,z-=N,U-=S,V-=N,q-=S;var K=[[z,U,0,0,w-B],[V,q,0,0,A-B],[0,0,z,U,x-v],[0,0,V,q,O-v]],F=LS(K);if(!!F){if(d.save(),d.beginPath(),JD()||!c){d.moveTo(w,x);for(var Q=4,ne=B-w,me=v-x,te=0;te<Q;te++)d.lineTo(w+f((te+1)*ne/Q),x+f(te*me/(Q-1))),te!=Q-1&&d.lineTo(w+f((te+1)*ne/Q),x+f((te+1)*me/(Q-1)));d.lineTo(A,O)}else d.moveTo(w,x),d.lineTo(B,v),d.lineTo(A,O);d.clip(),d.transform(F[0],F[2],F[1],F[3],B,v),d.translate(p[0]-N,p[3]-S),d.scale(i/e,-i/e),d.drawImage(g.canvas,0,0),d.restore()}}),u&&(d.save(),d.globalCompositeOperation="source-over",d.strokeStyle="black",d.lineWidth=1,a.getTriangles().forEach(function(C,E,I){var M=C.target,T=(M[0][0]-b[0])/s,D=-(M[0][1]-b[1])/s,L=(M[1][0]-b[0])/s,z=-(M[1][1]-b[1])/s,U=(M[2][0]-b[0])/s,V=-(M[2][1]-b[1])/s;d.beginPath(),d.moveTo(L,z),d.lineTo(T,D),d.lineTo(U,V),d.closePath(),d.stroke()}),d.restore()),d.canvas}var tL=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),iL=function(r){tL(t,r);function t(e,i,n,s,o,a,l,h,u,c,d,f){var p=r.call(this,o,Z.IDLE,{interpolate:!!f})||this;p.renderEdges_=d!==void 0?d:!1,p.pixelRatio_=l,p.gutter_=h,p.canvas_=null,p.sourceTileGrid_=i,p.targetTileGrid_=s,p.wrappedTileCoord_=a||o,p.sourceTiles_=[],p.sourcesListenerKeys_=null,p.sourceZ_=0;var _=s.getTileCoordExtent(p.wrappedTileCoord_),m=p.targetTileGrid_.getExtent(),g=p.sourceTileGrid_.getExtent(),y=m?Mr(_,m):_;if(Du(y)===0)return p.state=Z.EMPTY,p;var b=e.getExtent();b&&(g?g=Mr(g,b):g=b);var C=s.getResolution(p.wrappedTileCoord_[0]),E=eL(e,n,y,C);if(!isFinite(E)||E<=0)return p.state=Z.EMPTY,p;var I=c!==void 0?c:gy;if(p.triangulation_=new Cy(e,n,y,g,E*I,C),p.triangulation_.getTriangles().length===0)return p.state=Z.EMPTY,p;p.sourceZ_=i.getZForResolution(E);var M=p.triangulation_.calculateSourceExtent();if(g&&(e.canWrapX()?(M[1]=Te(M[1],g[1],g[3]),M[3]=Te(M[3],g[1],g[3])):M=Mr(M,g)),!Du(M))p.state=Z.EMPTY;else{for(var T=i.getTileRangeForExtentAndZ(M,p.sourceZ_),D=T.minX;D<=T.maxX;D++)for(var L=T.minY;L<=T.maxY;L++){var z=u(p.sourceZ_,D,L,l);z&&p.sourceTiles_.push(z)}p.sourceTiles_.length===0&&(p.state=Z.EMPTY)}return p}return t.prototype.getImage=function(){return this.canvas_},t.prototype.reproject_=function(){var e=[];if(this.sourceTiles_.forEach(function(u,c,d){u&&u.getState()==Z.LOADED&&e.push({extent:this.sourceTileGrid_.getTileCoordExtent(u.tileCoord),image:u.getImage()})}.bind(this)),this.sourceTiles_.length=0,e.length===0)this.state=Z.ERROR;else{var i=this.wrappedTileCoord_[0],n=this.targetTileGrid_.getTileSize(i),s=typeof n=="number"?n:n[0],o=typeof n=="number"?n:n[1],a=this.targetTileGrid_.getResolution(i),l=this.sourceTileGrid_.getResolution(this.sourceZ_),h=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=Ay(s,o,this.pixelRatio_,l,this.sourceTileGrid_.getExtent(),a,h,this.triangulation_,e,this.gutter_,this.renderEdges_,this.interpolate),this.state=Z.LOADED}this.changed()},t.prototype.load=function(){if(this.state==Z.IDLE){this.state=Z.LOADING,this.changed();var e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(i,n,s){var o=i.getState();if(o==Z.IDLE||o==Z.LOADING){e++;var a=At(i,$e.CHANGE,function(l){var h=i.getState();(h==Z.LOADED||h==Z.ERROR||h==Z.EMPTY)&&(ft(a),e--,e===0&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(a)}}.bind(this)),e===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function(i,n,s){var o=i.getState();o==Z.IDLE&&i.load()})}},t.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(ft),this.sourcesListenerKeys_=null},t}(by);const Ey=iL;var Iy=function(){function r(t,e,i,n){this.minX=t,this.maxX=e,this.minY=i,this.maxY=n}return r.prototype.contains=function(t){return this.containsXY(t[1],t[2])},r.prototype.containsTileRange=function(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY},r.prototype.containsXY=function(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY},r.prototype.equals=function(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY},r.prototype.extend=function(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)},r.prototype.getHeight=function(){return this.maxY-this.minY+1},r.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},r.prototype.getWidth=function(){return this.maxX-this.minX+1},r.prototype.intersects=function(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY},r}();function cr(r,t,e,i,n){return n!==void 0?(n.minX=r,n.maxX=t,n.minY=e,n.maxY=i,n):new Iy(r,t,e,i)}const Sy=Iy;var rL=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z]+?)\\s*$`].join(""),"i"),um=["style","variant","weight","size","lineHeight","family"],Ty=function(r){var t=r.match(rL);if(!t)return null;for(var e={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"},i=0,n=um.length;i<n;++i){var s=t[i+1];s!==void 0&&(e[um[i]]=s)}return e.families=e.family.split(/,\s?/),e};function Oy(r){return r===1?"":String(Math.round(r*100)/100)}function cm(r,t,e){return e===void 0&&(e=[0,0]),e[0]=r[0]+2*t,e[1]=r[1]+2*t,e}function My(r,t,e){return e===void 0&&(e=[0,0]),e[0]=r[0]*t+.5|0,e[1]=r[1]*t+.5|0,e}function st(r,t){return Array.isArray(r)?r:(t===void 0?t=[r,r]:(t[0]=r,t[1]=r),t)}var nL=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),sL=function(r){nL(t,r);function t(e){var i=r.call(this,e)||this;return i.extentChanged=!0,i.renderedExtent_=null,i.renderedPixelRatio,i.renderedProjection=null,i.renderedRevision,i.renderedTiles=[],i.newTiles_=!1,i.tmpExtent=_t(),i.tmpTileRange_=new Sy(0,0,0,0),i}return t.prototype.isDrawableTile=function(e){var i=this.getLayer(),n=e.getState(),s=i.getUseInterimTilesOnError();return n==Z.LOADED||n==Z.EMPTY||n==Z.ERROR&&!s},t.prototype.getTile=function(e,i,n,s){var o=s.pixelRatio,a=s.viewState.projection,l=this.getLayer(),h=l.getSource(),u=h.getTile(e,i,n,o,a);return u.getState()==Z.ERROR&&(l.getUseInterimTilesOnError()?l.getPreload()>0&&(this.newTiles_=!0):u.setState(Z.LOADED)),this.isDrawableTile(u)||(u=u.getInterimTile()),u},t.prototype.getData=function(e){var i=this.frameState;if(!i)return null;var n=this.getLayer(),s=Re(i.pixelToCoordinateTransform,e.slice()),o=n.getExtent();if(o&&!Xr(o,s))return null;for(var a=i.pixelRatio,l=i.viewState.projection,h=i.viewState,u=n.getRenderSource(),c=u.getTileGridForProjection(h.projection),d=u.getTilePixelRatio(i.pixelRatio),f=c.getZForResolution(h.resolution);f>=c.getMinZoom();--f){var p=c.getTileCoordForCoordAndZ(s,f),_=u.getTile(f,p[1],p[2],a,l);if(!(_ instanceof xy||_ instanceof Ey))return null;if(_.getState()===Z.LOADED){var m=c.getOrigin(f),g=st(c.getTileSize(f)),y=c.getResolution(f),b=Math.floor(d*((s[0]-m[0])/y-p[1]*g[0])),C=Math.floor(d*((m[1]-s[1])/y-p[2]*g[1]));return this.getImageData(_.getImage(),b,C)}}return null},t.prototype.loadedTileCallback=function(e,i,n){return this.isDrawableTile(n)?r.prototype.loadedTileCallback.call(this,e,i,n):!1},t.prototype.prepareFrame=function(e){return!!this.getLayer().getSource()},t.prototype.renderFrame=function(e,i){var n=e.layerStatesArray[e.layerIndex],s=e.viewState,o=s.projection,a=s.resolution,l=s.center,h=s.rotation,u=e.pixelRatio,c=this.getLayer(),d=c.getSource(),f=d.getRevision(),p=d.getTileGridForProjection(o),_=p.getZForResolution(a,d.zDirection),m=p.getResolution(_),g=e.extent,y=n.extent&&Ut(n.extent,o);y&&(g=Mr(g,Ut(n.extent,o)));var b=d.getTilePixelRatio(u),C=Math.round(e.size[0]*b),E=Math.round(e.size[1]*b);if(h){var I=Math.round(Math.sqrt(C*C+E*E));C=I,E=I}var M=m*C/2/b,T=m*E/2/b,D=[l[0]-M,l[1]-T,l[0]+M,l[1]+T],L=p.getTileRangeForExtentAndZ(g,_),z={};z[_]={};var U=this.createLoadedTileFinder(d,o,z),V=this.tmpExtent,q=this.tmpTileRange_;this.newTiles_=!1;for(var B=L.minX;B<=L.maxX;++B)for(var v=L.minY;v<=L.maxY;++v){var w=this.getTile(_,B,v,e);if(this.isDrawableTile(w)){var x=pe(this);if(w.getState()==Z.LOADED){z[_][w.tileCoord.toString()]=w;var A=w.inTransition(x);!this.newTiles_&&(A||this.renderedTiles.indexOf(w)===-1)&&(this.newTiles_=!0)}if(w.getAlpha(x,e.time)===1)continue}var O=p.getTileCoordChildTileRange(w.tileCoord,q,V),N=!1;O&&(N=U(_+1,O)),N||p.forEachTileCoordParentTileRange(w.tileCoord,U,q,V)}var S=m/a;$t(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/b,1/b,h,-C/2,-E/2);var K=Dc(this.pixelTransform);this.useContainer(i,K,n.opacity,this.getBackground(e));var F=this.context,Q=F.canvas;kc(this.inversePixelTransform,this.pixelTransform),$t(this.tempTransform,C/2,E/2,S,S,0,-C/2,-E/2),Q.width!=C||Q.height!=E?(Q.width=C,Q.height=E):this.containerReused||F.clearRect(0,0,C,E),y&&this.clipUnrotated(F,e,y),d.getInterpolate()||ge(F,Va),this.preRender(F,e),this.renderedTiles.length=0;var ne=Object.keys(z).map(Number);ne.sort(zr);var me,te,X;n.opacity===1&&(!this.containerReused||d.getOpaque(e.viewState.projection))?ne=ne.reverse():(me=[],te=[]);for(var ve=ne.length-1;ve>=0;--ve){var Ue=ne[ve],Oi=d.getTilePixelSize(Ue,u,o),Mi=p.getResolution(Ue),at=Mi/m,Nt=Oi[0]*at*S,_s=Oi[1]*at*S,Qr=p.getTileCoordForCoordAndZ(tr(D),Ue),ms=p.getTileCoordExtent(Qr),Ri=Re(this.tempTransform,[b*(ms[0]-D[0])/m,b*(D[3]-ms[3])/m]),Jr=b*d.getGutterForProjection(o),vs=z[Ue];for(var nr in vs){var w=vs[nr],Qt=w.tileCoord,sr=Qr[1]-Qt[1],bl=Math.round(Ri[0]-(sr-1)*Nt),gs=Qr[2]-Qt[2],en=Math.round(Ri[1]-(gs-1)*_s),B=Math.round(Ri[0]-sr*Nt),v=Math.round(Ri[1]-gs*_s),zt=bl-B,It=en-v,Pi=_===Ue,A=Pi&&w.getAlpha(pe(this),e.time)!==1,tn=!1;if(!A)if(me){X=[B,v,B+zt,v,B+zt,v+It,B,v+It];for(var Ze=0,ys=me.length;Ze<ys;++Ze)if(_!==Ue&&Ue<te[Ze]){var Le=me[Ze];je([B,v,B+zt,v+It],[Le[0],Le[3],Le[4],Le[7]])&&(tn||(F.save(),tn=!0),F.beginPath(),F.moveTo(X[0],X[1]),F.lineTo(X[2],X[3]),F.lineTo(X[4],X[5]),F.lineTo(X[6],X[7]),F.moveTo(Le[6],Le[7]),F.lineTo(Le[4],Le[5]),F.lineTo(Le[2],Le[3]),F.lineTo(Le[0],Le[1]),F.clip())}me.push(X),te.push(Ue)}else F.clearRect(B,v,zt,It);this.drawTileImage(w,e,B,v,zt,It,Jr,Pi),me&&!A?(tn&&F.restore(),this.renderedTiles.unshift(w)):this.renderedTiles.push(w),this.updateUsedTiles(e.usedTiles,d,w)}}this.renderedRevision=f,this.renderedResolution=m,this.extentChanged=!this.renderedExtent_||!ll(this.renderedExtent_,D),this.renderedExtent_=D,this.renderedPixelRatio=u,this.renderedProjection=o,this.manageTilePyramid(e,d,p,u,o,g,_,c.getPreload()),this.scheduleExpireCache(e,d),this.postRender(F,e),n.extent&&F.restore(),ge(F,yy),K!==Q.style.transform&&(Q.style.transform=K);var or=Oy(n.opacity),ki=this.container;return or!==ki.style.opacity&&(ki.style.opacity=or),this.container},t.prototype.drawTileImage=function(e,i,n,s,o,a,l,h){var u=this.getTileImage(e);if(!!u){var c=pe(this),d=h?e.getAlpha(c,i.time):1,f=d!==this.context.globalAlpha;f&&(this.context.save(),this.context.globalAlpha=d),this.context.drawImage(u,l,l,u.width-2*l,u.height-2*l,n,s,o,a),f&&this.context.restore(),d!==1?i.animate=!0:h&&e.endTransition(c)}},t.prototype.getImage=function(){var e=this.context;return e?e.canvas:null},t.prototype.getTileImage=function(e){return e.getImage()},t.prototype.scheduleExpireCache=function(e,i){if(i.canExpireCache()){var n=function(s,o,a){var l=pe(s);l in a.usedTiles&&s.expireCache(a.viewState.projection,a.usedTiles[l])}.bind(null,i);e.postRenderFunctions.push(n)}},t.prototype.updateUsedTiles=function(e,i,n){var s=pe(i);s in e||(e[s]={}),e[s][n.getKey()]=!0},t.prototype.manageTilePyramid=function(e,i,n,s,o,a,l,h,u){var c=pe(i);c in e.wantedTiles||(e.wantedTiles[c]={});var d=e.wantedTiles[c],f=e.tileQueue,p=n.getMinZoom(),_=0,m,g,y,b,C,E;for(E=p;E<=l;++E)for(g=n.getTileRangeForExtentAndZ(a,E,g),y=n.getResolution(E),b=g.minX;b<=g.maxX;++b)for(C=g.minY;C<=g.maxY;++C)l-E<=h?(++_,m=i.getTile(E,b,C,s,o),m.getState()==Z.IDLE&&(d[m.getKey()]=!0,f.isKeyQueued(m.getKey())||f.enqueue([m,c,n.getTileCoordCenter(m.tileCoord),y])),u!==void 0&&u(m)):i.useTile(E,b,C,o);i.updateCacheSize(_,o)},t}(Bc);const oL=sL;var aL=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),lL=function(r){aL(t,r);function t(e){return r.call(this,e)||this}return t.prototype.createRenderer=function(){return new oL(this)},t}(BD);const hL=lL;function uL(r,t,e,i,n){Ry(r,t,e||0,i||r.length-1,n||cL)}function Ry(r,t,e,i,n){for(;i>e;){if(i-e>600){var s=i-e+1,o=t-e+1,a=Math.log(s),l=.5*Math.exp(2*a/3),h=.5*Math.sqrt(a*l*(s-l)/s)*(o-s/2<0?-1:1),u=Math.max(e,Math.floor(t-o*l/s+h)),c=Math.min(i,Math.floor(t+(s-o)*l/s+h));Ry(r,t,u,c,n)}var d=r[t],f=e,p=i;for(_n(r,e,t),n(r[i],d)>0&&_n(r,e,i);f<p;){for(_n(r,f,p),f++,p--;n(r[f],d)<0;)f++;for(;n(r[p],d)>0;)p--}n(r[e],d)===0?_n(r,e,p):(p++,_n(r,p,i)),p<=t&&(e=p+1),t<=p&&(i=p-1)}}function _n(r,t,e){var i=r[t];r[t]=r[e],r[e]=i}function cL(r,t){return r<t?-1:r>t?1:0}class Py{constructor(t=9){this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(t){let e=this.data;const i=[];if(!zs(t,e))return i;const n=this.toBBox,s=[];for(;e;){for(let o=0;o<e.children.length;o++){const a=e.children[o],l=e.leaf?n(a):a;zs(t,l)&&(e.leaf?i.push(a):Wl(t,l)?this._all(a,i):s.push(a))}e=s.pop()}return i}collides(t){let e=this.data;if(!zs(t,e))return!1;const i=[];for(;e;){for(let n=0;n<e.children.length;n++){const s=e.children[n],o=e.leaf?this.toBBox(s):s;if(zs(t,o)){if(e.leaf||Wl(t,o))return!0;i.push(s)}}e=i.pop()}return!1}load(t){if(!(t&&t.length))return this;if(t.length<this._minEntries){for(let i=0;i<t.length;i++)this.insert(t[i]);return this}let e=this._build(t.slice(),0,t.length-1,0);if(!this.data.children.length)this.data=e;else if(this.data.height===e.height)this._splitRoot(this.data,e);else{if(this.data.height<e.height){const i=this.data;this.data=e,e=i}this._insert(e,this.data.height-e.height-1,!0)}return this}insert(t){return t&&this._insert(t,this.data.height-1),this}clear(){return this.data=mr([]),this}remove(t,e){if(!t)return this;let i=this.data;const n=this.toBBox(t),s=[],o=[];let a,l,h;for(;i||s.length;){if(i||(i=s.pop(),l=s[s.length-1],a=o.pop(),h=!0),i.leaf){const u=dL(t,i.children,e);if(u!==-1)return i.children.splice(u,1),s.push(i),this._condense(s),this}!h&&!i.leaf&&Wl(i,n)?(s.push(i),o.push(a),a=0,l=i,i=i.children[0]):l?(a++,i=l.children[a],h=!1):i=null}return this}toBBox(t){return t}compareMinX(t,e){return t.minX-e.minX}compareMinY(t,e){return t.minY-e.minY}toJSON(){return this.data}fromJSON(t){return this.data=t,this}_all(t,e){const i=[];for(;t;)t.leaf?e.push(...t.children):i.push(...t.children),t=i.pop();return e}_build(t,e,i,n){const s=i-e+1;let o=this._maxEntries,a;if(s<=o)return a=mr(t.slice(e,i+1)),dr(a,this.toBBox),a;n||(n=Math.ceil(Math.log(s)/Math.log(o)),o=Math.ceil(s/Math.pow(o,n-1))),a=mr([]),a.leaf=!1,a.height=n;const l=Math.ceil(s/o),h=l*Math.ceil(Math.sqrt(o));dm(t,e,i,h,this.compareMinX);for(let u=e;u<=i;u+=h){const c=Math.min(u+h-1,i);dm(t,u,c,l,this.compareMinY);for(let d=u;d<=c;d+=l){const f=Math.min(d+l-1,c);a.children.push(this._build(t,d,f,n-1))}}return dr(a,this.toBBox),a}_chooseSubtree(t,e,i,n){for(;n.push(e),!(e.leaf||n.length-1===i);){let s=1/0,o=1/0,a;for(let l=0;l<e.children.length;l++){const h=e.children[l],u=Ul(h),c=_L(t,h)-u;c<o?(o=c,s=u<s?u:s,a=h):c===o&&u<s&&(s=u,a=h)}e=a||e.children[0]}return e}_insert(t,e,i){const n=i?t:this.toBBox(t),s=[],o=this._chooseSubtree(n,this.data,e,s);for(o.children.push(t),In(o,n);e>=0&&s[e].children.length>this._maxEntries;)this._split(s,e),e--;this._adjustParentBBoxes(n,s,e)}_split(t,e){const i=t[e],n=i.children.length,s=this._minEntries;this._chooseSplitAxis(i,s,n);const o=this._chooseSplitIndex(i,s,n),a=mr(i.children.splice(o,i.children.length-o));a.height=i.height,a.leaf=i.leaf,dr(i,this.toBBox),dr(a,this.toBBox),e?t[e-1].children.push(a):this._splitRoot(i,a)}_splitRoot(t,e){this.data=mr([t,e]),this.data.height=t.height+1,this.data.leaf=!1,dr(this.data,this.toBBox)}_chooseSplitIndex(t,e,i){let n,s=1/0,o=1/0;for(let a=e;a<=i-e;a++){const l=En(t,0,a,this.toBBox),h=En(t,a,i,this.toBBox),u=mL(l,h),c=Ul(l)+Ul(h);u<s?(s=u,n=a,o=c<o?c:o):u===s&&c<o&&(o=c,n=a)}return n||i-e}_chooseSplitAxis(t,e,i){const n=t.leaf?this.compareMinX:fL,s=t.leaf?this.compareMinY:pL,o=this._allDistMargin(t,e,i,n),a=this._allDistMargin(t,e,i,s);o<a&&t.children.sort(n)}_allDistMargin(t,e,i,n){t.children.sort(n);const s=this.toBBox,o=En(t,0,e,s),a=En(t,i-e,i,s);let l=Ns(o)+Ns(a);for(let h=e;h<i-e;h++){const u=t.children[h];In(o,t.leaf?s(u):u),l+=Ns(o)}for(let h=i-e-1;h>=e;h--){const u=t.children[h];In(a,t.leaf?s(u):u),l+=Ns(a)}return l}_adjustParentBBoxes(t,e,i){for(let n=i;n>=0;n--)In(e[n],t)}_condense(t){for(let e=t.length-1,i;e>=0;e--)t[e].children.length===0?e>0?(i=t[e-1].children,i.splice(i.indexOf(t[e]),1)):this.clear():dr(t[e],this.toBBox)}}function dL(r,t,e){if(!e)return t.indexOf(r);for(let i=0;i<t.length;i++)if(e(r,t[i]))return i;return-1}function dr(r,t){En(r,0,r.children.length,t,r)}function En(r,t,e,i,n){n||(n=mr(null)),n.minX=1/0,n.minY=1/0,n.maxX=-1/0,n.maxY=-1/0;for(let s=t;s<e;s++){const o=r.children[s];In(n,r.leaf?i(o):o)}return n}function In(r,t){return r.minX=Math.min(r.minX,t.minX),r.minY=Math.min(r.minY,t.minY),r.maxX=Math.max(r.maxX,t.maxX),r.maxY=Math.max(r.maxY,t.maxY),r}function fL(r,t){return r.minX-t.minX}function pL(r,t){return r.minY-t.minY}function Ul(r){return(r.maxX-r.minX)*(r.maxY-r.minY)}function Ns(r){return r.maxX-r.minX+(r.maxY-r.minY)}function _L(r,t){return(Math.max(t.maxX,r.maxX)-Math.min(t.minX,r.minX))*(Math.max(t.maxY,r.maxY)-Math.min(t.minY,r.minY))}function mL(r,t){const e=Math.max(r.minX,t.minX),i=Math.max(r.minY,t.minY),n=Math.min(r.maxX,t.maxX),s=Math.min(r.maxY,t.maxY);return Math.max(0,n-e)*Math.max(0,s-i)}function Wl(r,t){return r.minX<=t.minX&&r.minY<=t.minY&&t.maxX<=r.maxX&&t.maxY<=r.maxY}function zs(r,t){return t.minX<=r.maxX&&t.minY<=r.maxY&&t.maxX>=r.minX&&t.maxY>=r.minY}function mr(r){return{children:r,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function dm(r,t,e,i,n){const s=[t,e];for(;s.length;){if(e=s.pop(),t=s.pop(),e-t<=i)continue;const o=t+Math.ceil((e-t)/i/2)*i;uL(r,o,t,e,n),s.push(t,o,o,e)}}var vL=function(){function r(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.scaleArray_=st(t.scale),this.displacement_=t.displacement}return r.prototype.clone=function(){var t=this.getScale();return new r({opacity:this.getOpacity(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()})},r.prototype.getOpacity=function(){return this.opacity_},r.prototype.getRotateWithView=function(){return this.rotateWithView_},r.prototype.getRotation=function(){return this.rotation_},r.prototype.getScale=function(){return this.scale_},r.prototype.getScaleArray=function(){return this.scaleArray_},r.prototype.getDisplacement=function(){return this.displacement_},r.prototype.getAnchor=function(){return se()},r.prototype.getImage=function(t){return se()},r.prototype.getHitDetectionImage=function(){return se()},r.prototype.getPixelRatio=function(t){return 1},r.prototype.getImageState=function(){return se()},r.prototype.getImageSize=function(){return se()},r.prototype.getOrigin=function(){return se()},r.prototype.getSize=function(){return se()},r.prototype.setDisplacement=function(t){this.displacement_=t},r.prototype.setOpacity=function(t){this.opacity_=t},r.prototype.setRotateWithView=function(t){this.rotateWithView_=t},r.prototype.setRotation=function(t){this.rotation_=t},r.prototype.setScale=function(t){this.scale_=t,this.scaleArray_=st(t)},r.prototype.listenImageChange=function(t){se()},r.prototype.load=function(){se()},r.prototype.unlistenImageChange=function(t){se()},r}();const ky=vL;function Rt(r){return Array.isArray(r)?vy(r):r}var Dy="10px sans-serif",jt="#000",Ga="round",Xn=[],Kn=0,Vr="round",Zn=10,Qn="#000",Jn="center",Ha="middle",Vi=[0,0,0,0],es=1,ri=new rr,gL=new ds;gL.setSize=function(){console.warn("labelCache is deprecated.")};var vr=null,Hu,Uu={},yL=function(){var r=100,t="32px ",e=["monospace","serif"],i=e.length,n="wmytzilWMYTZIL@#/&?$%10\uF013",s,o;function a(h,u,c){for(var d=!0,f=0;f<i;++f){var p=e[f];if(o=Ua(h+" "+u+" "+t+p,n),c!=p){var _=Ua(h+" "+u+" "+t+c+","+p,n);d=d&&_!=o}}return!!d}function l(){for(var h=!0,u=ri.getKeys(),c=0,d=u.length;c<d;++c){var f=u[c];ri.get(f)<r&&(a.apply(this,f.split(`
`))?(xc(Uu),vr=null,Hu=void 0,ri.set(f,r)):(ri.set(f,ri.get(f)+1,!0),h=!1))}h&&(clearInterval(s),s=void 0)}return function(h){var u=Ty(h);if(!!u)for(var c=u.families,d=0,f=c.length;d<f;++d){var p=c[d],_=u.style+`
`+u.weight+`
`+p;ri.get(_)===void 0&&(ri.set(_,r,!0),a(u.style,u.weight,p)||(ri.set(_,0,!0),s===void 0&&(s=setInterval(l,32))))}}}(),bL=function(){var r;return function(t){var e=Uu[t];if(e==null){if(vl){var i=Ty(t),n=Ly(t,"\u017Dg"),s=isNaN(Number(i.lineHeight))?1.2:Number(i.lineHeight);e=s*(n.actualBoundingBoxAscent+n.actualBoundingBoxDescent)}else r||(r=document.createElement("div"),r.innerHTML="M",r.style.minHeight="0",r.style.maxHeight="none",r.style.height="auto",r.style.padding="0",r.style.border="none",r.style.position="absolute",r.style.display="block",r.style.left="-99999px"),r.style.font=t,document.body.appendChild(r),e=r.offsetHeight,document.body.removeChild(r);Uu[t]=e}return e}}();function Ly(r,t){return vr||(vr=vt(1,1)),r!=Hu&&(vr.font=r,Hu=vr.font),vr.measureText(t)}function Ua(r,t){return Ly(r,t).width}function fm(r,t,e){if(t in e)return e[t];var i=Ua(r,t);return e[t]=i,i}function wL(r,t){for(var e=[],i=[],n=[],s=0,o=0,a=0,l=0,h=0,u=t.length;h<=u;h+=2){var c=t[h];if(c===`
`||h===u){s=Math.max(s,o),n.push(o),o=0,a+=l;continue}var d=t[h+1]||r.font,f=Ua(d,c);e.push(f),o+=f;var p=bL(d);i.push(p),l=Math.max(l,p)}return{width:s,height:a,widths:e,heights:i,lineWidths:n}}function xL(r,t,e,i,n,s,o,a,l,h,u){r.save(),e!==1&&(r.globalAlpha*=e),t&&r.setTransform.apply(r,t),i.contextInstructions?(r.translate(l,h),r.scale(u[0],u[1]),CL(i,r)):u[0]<0||u[1]<0?(r.translate(l,h),r.scale(u[0],u[1]),r.drawImage(i,n,s,o,a,0,0,o,a)):r.drawImage(i,n,s,o,a,l,h,o*u[0],a*u[1]),r.restore()}function CL(r,t){for(var e=r.contextInstructions,i=0,n=e.length;i<n;i+=2)Array.isArray(e[i+1])?t[e[i]].apply(t,e[i+1]):t[e[i]]=e[i+1]}var AL=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),EL=function(r){AL(t,r);function t(e){var i=this,n=e.rotateWithView!==void 0?e.rotateWithView:!1;return i=r.call(this,{opacity:1,rotateWithView:n,rotation:e.rotation!==void 0?e.rotation:0,scale:e.scale!==void 0?e.scale:1,displacement:e.displacement!==void 0?e.displacement:[0,0]})||this,i.canvas_=void 0,i.hitDetectionCanvas_=null,i.fill_=e.fill!==void 0?e.fill:null,i.origin_=[0,0],i.points_=e.points,i.radius_=e.radius!==void 0?e.radius:e.radius1,i.radius2_=e.radius2,i.angle_=e.angle!==void 0?e.angle:0,i.stroke_=e.stroke!==void 0?e.stroke:null,i.size_=null,i.renderOptions_=null,i.render(),i}return t.prototype.clone=function(){var e=this.getScale(),i=new t({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,displacement:this.getDisplacement().slice()});return i.setOpacity(this.getOpacity()),i},t.prototype.getAnchor=function(){var e=this.size_;if(!e)return null;var i=this.getDisplacement();return[e[0]/2-i[0],e[1]/2+i[1]]},t.prototype.getAngle=function(){return this.angle_},t.prototype.getFill=function(){return this.fill_},t.prototype.getHitDetectionImage=function(){return this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_),this.hitDetectionCanvas_},t.prototype.getImage=function(e){var i=this.canvas_[e];if(!i){var n=this.renderOptions_,s=vt(n.size*e,n.size*e);this.draw_(n,s,e),i=s.canvas,this.canvas_[e]=i}return i},t.prototype.getPixelRatio=function(e){return e},t.prototype.getImageSize=function(){return this.size_},t.prototype.getImageState=function(){return ie.LOADED},t.prototype.getOrigin=function(){return this.origin_},t.prototype.getPoints=function(){return this.points_},t.prototype.getRadius=function(){return this.radius_},t.prototype.getRadius2=function(){return this.radius2_},t.prototype.getSize=function(){return this.size_},t.prototype.getStroke=function(){return this.stroke_},t.prototype.listenImageChange=function(e){},t.prototype.load=function(){},t.prototype.unlistenImageChange=function(e){},t.prototype.calculateLineJoinSize_=function(e,i,n){if(i===0||this.points_===1/0||e!=="bevel"&&e!=="miter")return i;var s=this.radius_,o=this.radius2_===void 0?s:this.radius2_;if(s<o){var a=s;s=o,o=a}var l=this.radius2_===void 0?this.points_:this.points_*2,h=2*Math.PI/l,u=o*Math.sin(h),c=Math.sqrt(o*o-u*u),d=s-c,f=Math.sqrt(u*u+d*d),p=f/u;if(e==="miter"&&p<=n)return p*i;var _=i/2/p,m=i/2*(d/f),g=Math.sqrt((s+_)*(s+_)+m*m),y=g-s;if(this.radius2_===void 0||e==="bevel")return y*2;var b=s*Math.sin(h),C=Math.sqrt(s*s-b*b),E=o-C,I=Math.sqrt(b*b+E*E),M=I/b;if(M<=n){var T=M*i/2-o-s;return 2*Math.max(y,T)}return y*2},t.prototype.createRenderOptions=function(){var e=Vr,i=0,n=null,s=0,o,a=0;this.stroke_&&(o=this.stroke_.getColor(),o===null&&(o=Qn),o=Rt(o),a=this.stroke_.getWidth(),a===void 0&&(a=es),n=this.stroke_.getLineDash(),s=this.stroke_.getLineDashOffset(),e=this.stroke_.getLineJoin(),e===void 0&&(e=Vr),i=this.stroke_.getMiterLimit(),i===void 0&&(i=Zn));var l=this.calculateLineJoinSize_(e,a,i),h=Math.max(this.radius_,this.radius2_||0),u=Math.ceil(2*h+l);return{strokeStyle:o,strokeWidth:a,size:u,lineDash:n,lineDashOffset:s,lineJoin:e,miterLimit:i}},t.prototype.render=function(){this.renderOptions_=this.createRenderOptions();var e=this.renderOptions_.size;this.canvas_={},this.size_=[e,e]},t.prototype.draw_=function(e,i,n){if(i.scale(n,n),i.translate(e.size/2,e.size/2),this.createPath_(i),this.fill_){var s=this.fill_.getColor();s===null&&(s=jt),i.fillStyle=Rt(s),i.fill()}this.stroke_&&(i.strokeStyle=e.strokeStyle,i.lineWidth=e.strokeWidth,i.setLineDash&&e.lineDash&&(i.setLineDash(e.lineDash),i.lineDashOffset=e.lineDashOffset),i.lineJoin=e.lineJoin,i.miterLimit=e.miterLimit,i.stroke())},t.prototype.createHitDetectionCanvas_=function(e){if(this.fill_){var i=this.fill_.getColor(),n=0;if(typeof i=="string"&&(i=Ba(i)),i===null?n=1:Array.isArray(i)&&(n=i.length===4?i[3]:1),n===0){var s=vt(e.size,e.size);this.hitDetectionCanvas_=s.canvas,this.drawHitDetectionCanvas_(e,s)}}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))},t.prototype.createPath_=function(e){var i=this.points_,n=this.radius_;if(i===1/0)e.arc(0,0,n,0,2*Math.PI);else{var s=this.radius2_===void 0?n:this.radius2_;this.radius2_!==void 0&&(i*=2);for(var o=this.angle_-Math.PI/2,a=2*Math.PI/i,l=0;l<i;l++){var h=o+l*a,u=l%2===0?n:s;e.lineTo(u*Math.cos(h),u*Math.sin(h))}e.closePath()}},t.prototype.drawHitDetectionCanvas_=function(e,i){i.translate(e.size/2,e.size/2),this.createPath_(i),i.fillStyle=jt,i.fill(),this.stroke_&&(i.strokeStyle=e.strokeStyle,i.lineWidth=e.strokeWidth,e.lineDash&&(i.setLineDash(e.lineDash),i.lineDashOffset=e.lineDashOffset),i.lineJoin=e.lineJoin,i.miterLimit=e.miterLimit,i.stroke())},t}(ky);const IL=EL;var SL=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),TL=function(r){SL(t,r);function t(e){var i=e||{};return r.call(this,{points:1/0,fill:i.fill,radius:i.radius,stroke:i.stroke,scale:i.scale!==void 0?i.scale:1,rotation:i.rotation!==void 0?i.rotation:0,rotateWithView:i.rotateWithView!==void 0?i.rotateWithView:!1,displacement:i.displacement!==void 0?i.displacement:[0,0]})||this}return t.prototype.clone=function(){var e=this.getScale(),i=new t({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()});return i.setOpacity(this.getOpacity()),i},t.prototype.setRadius=function(e){this.radius_=e,this.render()},t}(IL);const OL=TL;var ML=function(){function r(t){var e=t||{};this.color_=e.color!==void 0?e.color:null}return r.prototype.clone=function(){var t=this.getColor();return new r({color:Array.isArray(t)?t.slice():t||void 0})},r.prototype.getColor=function(){return this.color_},r.prototype.setColor=function(t){this.color_=t},r}();const Fy=ML;var RL=function(){function r(t){var e=t||{};this.color_=e.color!==void 0?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=e.lineDash!==void 0?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}return r.prototype.clone=function(){var t=this.getColor();return new r({color:Array.isArray(t)?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},r.prototype.getColor=function(){return this.color_},r.prototype.getLineCap=function(){return this.lineCap_},r.prototype.getLineDash=function(){return this.lineDash_},r.prototype.getLineDashOffset=function(){return this.lineDashOffset_},r.prototype.getLineJoin=function(){return this.lineJoin_},r.prototype.getMiterLimit=function(){return this.miterLimit_},r.prototype.getWidth=function(){return this.width_},r.prototype.setColor=function(t){this.color_=t},r.prototype.setLineCap=function(t){this.lineCap_=t},r.prototype.setLineDash=function(t){this.lineDash_=t},r.prototype.setLineDashOffset=function(t){this.lineDashOffset_=t},r.prototype.setLineJoin=function(t){this.lineJoin_=t},r.prototype.setMiterLimit=function(t){this.miterLimit_=t},r.prototype.setWidth=function(t){this.width_=t},r}();const $y=RL;var Ny=function(){function r(t){var e=t||{};this.geometry_=null,this.geometryFunction_=pm,e.geometry!==void 0&&this.setGeometry(e.geometry),this.fill_=e.fill!==void 0?e.fill:null,this.image_=e.image!==void 0?e.image:null,this.renderer_=e.renderer!==void 0?e.renderer:null,this.hitDetectionRenderer_=e.hitDetectionRenderer!==void 0?e.hitDetectionRenderer:null,this.stroke_=e.stroke!==void 0?e.stroke:null,this.text_=e.text!==void 0?e.text:null,this.zIndex_=e.zIndex}return r.prototype.clone=function(){var t=this.getGeometry();return t&&typeof t=="object"&&(t=t.clone()),new r({geometry:t,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer(),stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},r.prototype.getRenderer=function(){return this.renderer_},r.prototype.setRenderer=function(t){this.renderer_=t},r.prototype.setHitDetectionRenderer=function(t){this.hitDetectionRenderer_=t},r.prototype.getHitDetectionRenderer=function(){return this.hitDetectionRenderer_},r.prototype.getGeometry=function(){return this.geometry_},r.prototype.getGeometryFunction=function(){return this.geometryFunction_},r.prototype.getFill=function(){return this.fill_},r.prototype.setFill=function(t){this.fill_=t},r.prototype.getImage=function(){return this.image_},r.prototype.setImage=function(t){this.image_=t},r.prototype.getStroke=function(){return this.stroke_},r.prototype.setStroke=function(t){this.stroke_=t},r.prototype.getText=function(){return this.text_},r.prototype.setText=function(t){this.text_=t},r.prototype.getZIndex=function(){return this.zIndex_},r.prototype.setGeometry=function(t){typeof t=="function"?this.geometryFunction_=t:typeof t=="string"?this.geometryFunction_=function(e){return e.get(t)}:t?t!==void 0&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=pm,this.geometry_=t},r.prototype.setZIndex=function(t){this.zIndex_=t},r}();function PL(r){var t;if(typeof r=="function")t=r;else{var e;if(Array.isArray(r))e=r;else{oe(typeof r.getZIndex=="function",41);var i=r;e=[i]}t=function(){return e}}return t}var Yl=null;function kL(r,t){if(!Yl){var e=new Fy({color:"rgba(255,255,255,0.4)"}),i=new $y({color:"#3399CC",width:1.25});Yl=[new Ny({image:new OL({fill:e,stroke:i,radius:5}),fill:e,stroke:i})]}return Yl}function pm(r){return r.getGeometry()}const DL=Ny;var LL=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),_m={RENDER_ORDER:"renderOrder"},FL=function(r){LL(t,r);function t(e){var i=this,n=e||{},s=ge({},n);return delete s.style,delete s.renderBuffer,delete s.updateWhileAnimating,delete s.updateWhileInteracting,i=r.call(this,s)||this,i.declutter_=n.declutter!==void 0?n.declutter:!1,i.renderBuffer_=n.renderBuffer!==void 0?n.renderBuffer:100,i.style_=null,i.styleFunction_=void 0,i.setStyle(n.style),i.updateWhileAnimating_=n.updateWhileAnimating!==void 0?n.updateWhileAnimating:!1,i.updateWhileInteracting_=n.updateWhileInteracting!==void 0?n.updateWhileInteracting:!1,i}return t.prototype.getDeclutter=function(){return this.declutter_},t.prototype.getFeatures=function(e){return r.prototype.getFeatures.call(this,e)},t.prototype.getRenderBuffer=function(){return this.renderBuffer_},t.prototype.getRenderOrder=function(){return this.get(_m.RENDER_ORDER)},t.prototype.getStyle=function(){return this.style_},t.prototype.getStyleFunction=function(){return this.styleFunction_},t.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},t.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},t.prototype.renderDeclutter=function(e){e.declutterTree||(e.declutterTree=new Py(9)),this.getRenderer().renderDeclutter(e)},t.prototype.setRenderOrder=function(e){this.set(_m.RENDER_ORDER,e)},t.prototype.setStyle=function(e){this.style_=e!==void 0?e:kL,this.styleFunction_=e===null?void 0:PL(this.style_),this.changed()},t}(zc);const $L=FL;var fs={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},Bs=[fs.FILL],pi=[fs.STROKE],Gi=[fs.BEGIN_PATH],mm=[fs.CLOSE_PATH];const Y=fs;var NL=function(){function r(){}return r.prototype.drawCustom=function(t,e,i,n){},r.prototype.drawGeometry=function(t){},r.prototype.setStyle=function(t){},r.prototype.drawCircle=function(t,e){},r.prototype.drawFeature=function(t,e){},r.prototype.drawGeometryCollection=function(t,e){},r.prototype.drawLineString=function(t,e){},r.prototype.drawMultiLineString=function(t,e){},r.prototype.drawMultiPoint=function(t,e){},r.prototype.drawMultiPolygon=function(t,e){},r.prototype.drawPoint=function(t,e){},r.prototype.drawPolygon=function(t,e){},r.prototype.drawText=function(t,e){},r.prototype.setFillStrokeStyle=function(t,e){},r.prototype.setImageStyle=function(t,e){},r.prototype.setTextStyle=function(t,e){},r}();const zy=NL;var zL=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),BL=function(r){zL(t,r);function t(e,i,n,s){var o=r.call(this)||this;return o.tolerance=e,o.maxExtent=i,o.pixelRatio=s,o.maxLineWidth=0,o.resolution=n,o.beginGeometryInstruction1_=null,o.beginGeometryInstruction2_=null,o.bufferedMaxExtent_=null,o.instructions=[],o.coordinates=[],o.tmpCoordinate_=[],o.hitDetectionInstructions=[],o.state={},o}return t.prototype.applyPixelRatio=function(e){var i=this.pixelRatio;return i==1?e:e.map(function(n){return n*i})},t.prototype.appendFlatPointCoordinates=function(e,i){for(var n=this.getBufferedMaxExtent(),s=this.tmpCoordinate_,o=this.coordinates,a=o.length,l=0,h=e.length;l<h;l+=i)s[0]=e[l],s[1]=e[l+1],Xr(n,s)&&(o[a++]=s[0],o[a++]=s[1]);return a},t.prototype.appendFlatLineCoordinates=function(e,i,n,s,o,a){var l=this.coordinates,h=l.length,u=this.getBufferedMaxExtent();a&&(i+=s);var c=e[i],d=e[i+1],f=this.tmpCoordinate_,p=!0,_,m,g;for(_=i+s;_<n;_+=s)f[0]=e[_],f[1]=e[_+1],g=ku(u,f),g!==m?(p&&(l[h++]=c,l[h++]=d,p=!1),l[h++]=f[0],l[h++]=f[1]):g===Pe.INTERSECTING?(l[h++]=f[0],l[h++]=f[1],p=!1):p=!0,c=f[0],d=f[1],m=g;return(o&&p||_===i+s)&&(l[h++]=c,l[h++]=d),h},t.prototype.drawCustomCoordinates_=function(e,i,n,s,o){for(var a=0,l=n.length;a<l;++a){var h=n[a],u=this.appendFlatLineCoordinates(e,i,h,s,!1,!1);o.push(u),i=h}return i},t.prototype.drawCustom=function(e,i,n,s){this.beginGeometry(e,i);var o=e.getType(),a=e.getStride(),l=this.coordinates.length,h,u,c,d,f;switch(o){case ee.MULTI_POLYGON:h=e.getOrientedFlatCoordinates(),d=[];var p=e.getEndss();f=0;for(var _=0,m=p.length;_<m;++_){var g=[];f=this.drawCustomCoordinates_(h,f,p[_],a,g),d.push(g)}this.instructions.push([Y.CUSTOM,l,d,e,n,rm]),this.hitDetectionInstructions.push([Y.CUSTOM,l,d,e,s||n,rm]);break;case ee.POLYGON:case ee.MULTI_LINE_STRING:c=[],h=o==ee.POLYGON?e.getOrientedFlatCoordinates():e.getFlatCoordinates(),f=this.drawCustomCoordinates_(h,0,e.getEnds(),a,c),this.instructions.push([Y.CUSTOM,l,c,e,n,za]),this.hitDetectionInstructions.push([Y.CUSTOM,l,c,e,s||n,za]);break;case ee.LINE_STRING:case ee.CIRCLE:h=e.getFlatCoordinates(),u=this.appendFlatLineCoordinates(h,0,h.length,a,!1,!1),this.instructions.push([Y.CUSTOM,l,u,e,n,Er]),this.hitDetectionInstructions.push([Y.CUSTOM,l,u,e,s||n,Er]);break;case ee.MULTI_POINT:h=e.getFlatCoordinates(),u=this.appendFlatPointCoordinates(h,a),u>l&&(this.instructions.push([Y.CUSTOM,l,u,e,n,Er]),this.hitDetectionInstructions.push([Y.CUSTOM,l,u,e,s||n,Er]));break;case ee.POINT:h=e.getFlatCoordinates(),this.coordinates.push(h[0],h[1]),u=this.coordinates.length,this.instructions.push([Y.CUSTOM,l,u,e,n]),this.hitDetectionInstructions.push([Y.CUSTOM,l,u,e,s||n]);break}this.endGeometry(i)},t.prototype.beginGeometry=function(e,i){this.beginGeometryInstruction1_=[Y.BEGIN_GEOMETRY,i,0,e],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[Y.BEGIN_GEOMETRY,i,0,e],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},t.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},t.prototype.reverseHitDetectionInstructions=function(){var e=this.hitDetectionInstructions;e.reverse();var i,n=e.length,s,o,a=-1;for(i=0;i<n;++i)s=e[i],o=s[0],o==Y.END_GEOMETRY?a=i:o==Y.BEGIN_GEOMETRY&&(s[2]=i,ek(this.hitDetectionInstructions,a,i),a=-1)},t.prototype.setFillStrokeStyle=function(e,i){var n=this.state;if(e){var s=e.getColor();n.fillStyle=Rt(s||jt)}else n.fillStyle=void 0;if(i){var o=i.getColor();n.strokeStyle=Rt(o||Qn);var a=i.getLineCap();n.lineCap=a!==void 0?a:Ga;var l=i.getLineDash();n.lineDash=l?l.slice():Xn;var h=i.getLineDashOffset();n.lineDashOffset=h||Kn;var u=i.getLineJoin();n.lineJoin=u!==void 0?u:Vr;var c=i.getWidth();n.lineWidth=c!==void 0?c:es;var d=i.getMiterLimit();n.miterLimit=d!==void 0?d:Zn,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)}else n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0},t.prototype.createFill=function(e){var i=e.fillStyle,n=[Y.SET_FILL_STYLE,i];return typeof i!="string"&&n.push(!0),n},t.prototype.applyStroke=function(e){this.instructions.push(this.createStroke(e))},t.prototype.createStroke=function(e){return[Y.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth*this.pixelRatio,e.lineCap,e.lineJoin,e.miterLimit,this.applyPixelRatio(e.lineDash),e.lineDashOffset*this.pixelRatio]},t.prototype.updateFillStyle=function(e,i){var n=e.fillStyle;(typeof n!="string"||e.currentFillStyle!=n)&&(n!==void 0&&this.instructions.push(i.call(this,e)),e.currentFillStyle=n)},t.prototype.updateStrokeStyle=function(e,i){var n=e.strokeStyle,s=e.lineCap,o=e.lineDash,a=e.lineDashOffset,l=e.lineJoin,h=e.lineWidth,u=e.miterLimit;(e.currentStrokeStyle!=n||e.currentLineCap!=s||o!=e.currentLineDash&&!Zr(e.currentLineDash,o)||e.currentLineDashOffset!=a||e.currentLineJoin!=l||e.currentLineWidth!=h||e.currentMiterLimit!=u)&&(n!==void 0&&i.call(this,e),e.currentStrokeStyle=n,e.currentLineCap=s,e.currentLineDash=o,e.currentLineDashOffset=a,e.currentLineJoin=l,e.currentLineWidth=h,e.currentMiterLimit=u)},t.prototype.endGeometry=function(e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var i=[Y.END_GEOMETRY,e];this.instructions.push(i),this.hitDetectionInstructions.push(i)},t.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=QS(this.maxExtent),this.maxLineWidth>0)){var e=this.resolution*(this.maxLineWidth+1)/2;Gn(this.bufferedMaxExtent_,e,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},t}(zy);const ps=BL;var VL=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),GL=function(r){VL(t,r);function t(e,i,n,s){var o=r.call(this,e,i,n,s)||this;return o.hitDetectionImage_=null,o.image_=null,o.imagePixelRatio_=void 0,o.anchorX_=void 0,o.anchorY_=void 0,o.height_=void 0,o.opacity_=void 0,o.originX_=void 0,o.originY_=void 0,o.rotateWithView_=void 0,o.rotation_=void 0,o.scale_=void 0,o.width_=void 0,o.declutterImageWithText_=void 0,o}return t.prototype.drawPoint=function(e,i){if(!!this.image_){this.beginGeometry(e,i);var n=e.getFlatCoordinates(),s=e.getStride(),o=this.coordinates.length,a=this.appendFlatPointCoordinates(n,s);this.instructions.push([Y.DRAW_IMAGE,o,a,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([Y.DRAW_IMAGE,o,a,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(i)}},t.prototype.drawMultiPoint=function(e,i){if(!!this.image_){this.beginGeometry(e,i);var n=e.getFlatCoordinates(),s=e.getStride(),o=this.coordinates.length,a=this.appendFlatPointCoordinates(n,s);this.instructions.push([Y.DRAW_IMAGE,o,a,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([Y.DRAW_IMAGE,o,a,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(i)}},t.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,r.prototype.finish.call(this)},t.prototype.setImageStyle=function(e,i){var n=e.getAnchor(),s=e.getSize(),o=e.getHitDetectionImage(),a=e.getImage(this.pixelRatio),l=e.getOrigin();this.imagePixelRatio_=e.getPixelRatio(this.pixelRatio),this.anchorX_=n[0],this.anchorY_=n[1],this.hitDetectionImage_=o,this.image_=a,this.height_=s[1],this.opacity_=e.getOpacity(),this.originX_=l[0]*this.imagePixelRatio_,this.originY_=l[1]*this.imagePixelRatio_,this.rotateWithView_=e.getRotateWithView(),this.rotation_=e.getRotation(),this.scale_=e.getScaleArray(),this.width_=s[0],this.declutterImageWithText_=i},t}(ps);const HL=GL;var UL=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),WL=function(r){UL(t,r);function t(e,i,n,s){return r.call(this,e,i,n,s)||this}return t.prototype.drawFlatCoordinates_=function(e,i,n,s){var o=this.coordinates.length,a=this.appendFlatLineCoordinates(e,i,n,s,!1,!1),l=[Y.MOVE_TO_LINE_TO,o,a];return this.instructions.push(l),this.hitDetectionInstructions.push(l),n},t.prototype.drawLineString=function(e,i){var n=this.state,s=n.strokeStyle,o=n.lineWidth;if(!(s===void 0||o===void 0)){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(e,i),this.hitDetectionInstructions.push([Y.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,Xn,Kn],Gi);var a=e.getFlatCoordinates(),l=e.getStride();this.drawFlatCoordinates_(a,0,a.length,l),this.hitDetectionInstructions.push(pi),this.endGeometry(i)}},t.prototype.drawMultiLineString=function(e,i){var n=this.state,s=n.strokeStyle,o=n.lineWidth;if(!(s===void 0||o===void 0)){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(e,i),this.hitDetectionInstructions.push([Y.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],Gi);for(var a=e.getEnds(),l=e.getFlatCoordinates(),h=e.getStride(),u=0,c=0,d=a.length;c<d;++c)u=this.drawFlatCoordinates_(l,u,a[c],h);this.hitDetectionInstructions.push(pi),this.endGeometry(i)}},t.prototype.finish=function(){var e=this.state;return e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&this.instructions.push(pi),this.reverseHitDetectionInstructions(),this.state=null,r.prototype.finish.call(this)},t.prototype.applyStroke=function(e){e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(pi),e.lastStroke=this.coordinates.length),e.lastStroke=0,r.prototype.applyStroke.call(this,e),this.instructions.push(Gi)},t}(ps);const YL=WL;var jL=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),qL=function(r){jL(t,r);function t(e,i,n,s){return r.call(this,e,i,n,s)||this}return t.prototype.drawFlatCoordinatess_=function(e,i,n,s){var o=this.state,a=o.fillStyle!==void 0,l=o.strokeStyle!==void 0,h=n.length;this.instructions.push(Gi),this.hitDetectionInstructions.push(Gi);for(var u=0;u<h;++u){var c=n[u],d=this.coordinates.length,f=this.appendFlatLineCoordinates(e,i,c,s,!0,!l),p=[Y.MOVE_TO_LINE_TO,d,f];this.instructions.push(p),this.hitDetectionInstructions.push(p),l&&(this.instructions.push(mm),this.hitDetectionInstructions.push(mm)),i=c}return a&&(this.instructions.push(Bs),this.hitDetectionInstructions.push(Bs)),l&&(this.instructions.push(pi),this.hitDetectionInstructions.push(pi)),i},t.prototype.drawCircle=function(e,i){var n=this.state,s=n.fillStyle,o=n.strokeStyle;if(!(s===void 0&&o===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(e,i),n.fillStyle!==void 0&&this.hitDetectionInstructions.push([Y.SET_FILL_STYLE,jt]),n.strokeStyle!==void 0&&this.hitDetectionInstructions.push([Y.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var a=e.getFlatCoordinates(),l=e.getStride(),h=this.coordinates.length;this.appendFlatLineCoordinates(a,0,a.length,l,!1,!1);var u=[Y.CIRCLE,h];this.instructions.push(Gi,u),this.hitDetectionInstructions.push(Gi,u),n.fillStyle!==void 0&&(this.instructions.push(Bs),this.hitDetectionInstructions.push(Bs)),n.strokeStyle!==void 0&&(this.instructions.push(pi),this.hitDetectionInstructions.push(pi)),this.endGeometry(i)}},t.prototype.drawPolygon=function(e,i){var n=this.state,s=n.fillStyle,o=n.strokeStyle;if(!(s===void 0&&o===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(e,i),n.fillStyle!==void 0&&this.hitDetectionInstructions.push([Y.SET_FILL_STYLE,jt]),n.strokeStyle!==void 0&&this.hitDetectionInstructions.push([Y.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var a=e.getEnds(),l=e.getOrientedFlatCoordinates(),h=e.getStride();this.drawFlatCoordinatess_(l,0,a,h),this.endGeometry(i)}},t.prototype.drawMultiPolygon=function(e,i){var n=this.state,s=n.fillStyle,o=n.strokeStyle;if(!(s===void 0&&o===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(e,i),n.fillStyle!==void 0&&this.hitDetectionInstructions.push([Y.SET_FILL_STYLE,jt]),n.strokeStyle!==void 0&&this.hitDetectionInstructions.push([Y.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);for(var a=e.getEndss(),l=e.getOrientedFlatCoordinates(),h=e.getStride(),u=0,c=0,d=a.length;c<d;++c)u=this.drawFlatCoordinatess_(l,u,a[c],h);this.endGeometry(i)}},t.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var e=this.tolerance;if(e!==0)for(var i=this.coordinates,n=0,s=i.length;n<s;++n)i[n]=$i(i[n],e);return r.prototype.finish.call(this)},t.prototype.setFillStrokeStyles_=function(){var e=this.state,i=e.fillStyle;i!==void 0&&this.updateFillStyle(e,this.createFill),e.strokeStyle!==void 0&&this.updateStrokeStyle(e,this.applyStroke)},t}(ps);const vm=qL,XL={POINT:"point",LINE:"line"};function KL(r,t,e,i,n){var s=e,o=e,a=0,l=0,h=e,u,c,d,f,p,_,m,g,y,b;for(c=e;c<i;c+=n){var C=t[c],E=t[c+1];p!==void 0&&(y=C-p,b=E-_,f=Math.sqrt(y*y+b*b),m!==void 0&&(l+=d,u=Math.acos((m*y+g*b)/(d*f)),u>r&&(l>a&&(a=l,s=h,o=c),l=0,h=c-n)),d=f,m=y,g=b),p=C,_=E}return l+=f,l>a?[h,c]:[s,o]}var ZL=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),Wa={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},QL=function(r){ZL(t,r);function t(e,i,n,s){var o=r.call(this,e,i,n,s)||this;return o.labels_=null,o.text_="",o.textOffsetX_=0,o.textOffsetY_=0,o.textRotateWithView_=void 0,o.textRotation_=0,o.textFillState_=null,o.fillStates={},o.textStrokeState_=null,o.strokeStates={},o.textState_={},o.textStates={},o.textKey_="",o.fillKey_="",o.strokeKey_="",o.declutterImageWithText_=void 0,o}return t.prototype.finish=function(){var e=r.prototype.finish.call(this);return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e},t.prototype.drawText=function(e,i){var n=this.textFillState_,s=this.textStrokeState_,o=this.textState_;if(!(this.text_===""||!o||!n&&!s)){var a=this.coordinates,l=a.length,h=e.getType(),u=null,c=e.getStride();if(o.placement===XL.LINE&&(h==ee.LINE_STRING||h==ee.MULTI_LINE_STRING||h==ee.POLYGON||h==ee.MULTI_POLYGON)){if(!je(this.getBufferedMaxExtent(),e.getExtent()))return;var d=void 0;if(u=e.getFlatCoordinates(),h==ee.LINE_STRING)d=[u.length];else if(h==ee.MULTI_LINE_STRING)d=e.getEnds();else if(h==ee.POLYGON)d=e.getEnds().slice(0,1);else if(h==ee.MULTI_POLYGON){var f=e.getEndss();d=[];for(var p=0,_=f.length;p<_;++p)d.push(f[p][0])}this.beginGeometry(e,i);for(var m=o.textAlign,g=0,y=void 0,b=0,C=d.length;b<C;++b){if(m==null){var E=KL(o.maxAngle,u,g,d[b],c);g=E[0],y=E[1]}else y=d[b];for(var p=g;p<y;p+=c)a.push(u[p],u[p+1]);var I=a.length;g=d[b],this.drawChars_(l,I),l=I}this.endGeometry(i)}else{var M=o.overflow?null:[];switch(h){case ee.POINT:case ee.MULTI_POINT:u=e.getFlatCoordinates();break;case ee.LINE_STRING:u=e.getFlatMidpoint();break;case ee.CIRCLE:u=e.getCenter();break;case ee.MULTI_LINE_STRING:u=e.getFlatMidpoints(),c=2;break;case ee.POLYGON:u=e.getFlatInteriorPoint(),o.overflow||M.push(u[2]/this.resolution),c=3;break;case ee.MULTI_POLYGON:var T=e.getFlatInteriorPoints();u=[];for(var p=0,_=T.length;p<_;p+=3)o.overflow||M.push(T[p+2]/this.resolution),u.push(T[p],T[p+1]);if(u.length===0)return;c=2;break}var I=this.appendFlatPointCoordinates(u,c);if(I===l)return;if(M&&(I-l)/2!==u.length/c){var D=l/2;M=M.filter(function(x,A){var O=a[(D+A)*2]===u[A*c]&&a[(D+A)*2+1]===u[A*c+1];return O||--D,O})}this.saveTextStates_(),(o.backgroundFill||o.backgroundStroke)&&(this.setFillStrokeStyle(o.backgroundFill,o.backgroundStroke),o.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),o.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(e,i);var L=o.padding;if(L!=Vi&&(o.scale[0]<0||o.scale[1]<0)){var z=o.padding[0],U=o.padding[1],V=o.padding[2],q=o.padding[3];o.scale[0]<0&&(U=-U,q=-q),o.scale[1]<0&&(z=-z,V=-V),L=[z,U,V,q]}var B=this.pixelRatio;this.instructions.push([Y.DRAW_IMAGE,l,I,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterImageWithText_,L==Vi?Vi:L.map(function(x){return x*B}),!!o.backgroundFill,!!o.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,M]);var v=1/B;this.hitDetectionInstructions.push([Y.DRAW_IMAGE,l,I,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[v,v],NaN,this.declutterImageWithText_,L,!!o.backgroundFill,!!o.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,M]),this.endGeometry(i)}}},t.prototype.saveTextStates_=function(){var e=this.textStrokeState_,i=this.textState_,n=this.textFillState_,s=this.strokeKey_;e&&(s in this.strokeStates||(this.strokeStates[s]={strokeStyle:e.strokeStyle,lineCap:e.lineCap,lineDashOffset:e.lineDashOffset,lineWidth:e.lineWidth,lineJoin:e.lineJoin,miterLimit:e.miterLimit,lineDash:e.lineDash}));var o=this.textKey_;o in this.textStates||(this.textStates[o]={font:i.font,textAlign:i.textAlign||Jn,textBaseline:i.textBaseline||Ha,scale:i.scale});var a=this.fillKey_;n&&(a in this.fillStates||(this.fillStates[a]={fillStyle:n.fillStyle}))},t.prototype.drawChars_=function(e,i){var n=this.textStrokeState_,s=this.textState_,o=this.strokeKey_,a=this.textKey_,l=this.fillKey_;this.saveTextStates_();var h=this.pixelRatio,u=Wa[s.textBaseline],c=this.textOffsetY_*h,d=this.text_,f=n?n.lineWidth*Math.abs(s.scale[0])/2:0;this.instructions.push([Y.DRAW_CHARS,e,i,u,s.overflow,l,s.maxAngle,h,c,o,f*h,d,a,1]),this.hitDetectionInstructions.push([Y.DRAW_CHARS,e,i,u,s.overflow,l,s.maxAngle,1,c,o,f,d,a,1/h])},t.prototype.setTextStyle=function(e,i){var n,s,o;if(!e)this.text_="";else{var a=e.getFill();a?(s=this.textFillState_,s||(s={},this.textFillState_=s),s.fillStyle=Rt(a.getColor()||jt)):(s=null,this.textFillState_=s);var l=e.getStroke();if(!l)o=null,this.textStrokeState_=o;else{o=this.textStrokeState_,o||(o={},this.textStrokeState_=o);var h=l.getLineDash(),u=l.getLineDashOffset(),c=l.getWidth(),d=l.getMiterLimit();o.lineCap=l.getLineCap()||Ga,o.lineDash=h?h.slice():Xn,o.lineDashOffset=u===void 0?Kn:u,o.lineJoin=l.getLineJoin()||Vr,o.lineWidth=c===void 0?es:c,o.miterLimit=d===void 0?Zn:d,o.strokeStyle=Rt(l.getColor()||Qn)}n=this.textState_;var f=e.getFont()||Dy;yL(f);var p=e.getScaleArray();n.overflow=e.getOverflow(),n.font=f,n.maxAngle=e.getMaxAngle(),n.placement=e.getPlacement(),n.textAlign=e.getTextAlign(),n.textBaseline=e.getTextBaseline()||Ha,n.backgroundFill=e.getBackgroundFill(),n.backgroundStroke=e.getBackgroundStroke(),n.padding=e.getPadding()||Vi,n.scale=p===void 0?[1,1]:p;var _=e.getOffsetX(),m=e.getOffsetY(),g=e.getRotateWithView(),y=e.getRotation();this.text_=e.getText()||"",this.textOffsetX_=_===void 0?0:_,this.textOffsetY_=m===void 0?0:m,this.textRotateWithView_=g===void 0?!1:g,this.textRotation_=y===void 0?0:y,this.strokeKey_=o?(typeof o.strokeStyle=="string"?o.strokeStyle:pe(o.strokeStyle))+o.lineCap+o.lineDashOffset+"|"+o.lineWidth+o.lineJoin+o.miterLimit+"["+o.lineDash.join()+"]":"",this.textKey_=n.font+n.scale+(n.textAlign||"?")+(n.textBaseline||"?"),this.fillKey_=s?typeof s.fillStyle=="string"?s.fillStyle:"|"+pe(s.fillStyle):""}this.declutterImageWithText_=i},t}(ps);const JL=QL;var eF={Circle:vm,Default:ps,Image:HL,LineString:YL,Polygon:vm,Text:JL},tF=function(){function r(t,e,i,n){this.tolerance_=t,this.maxExtent_=e,this.pixelRatio_=n,this.resolution_=i,this.buildersByZIndex_={}}return r.prototype.finish=function(){var t={};for(var e in this.buildersByZIndex_){t[e]=t[e]||{};var i=this.buildersByZIndex_[e];for(var n in i){var s=i[n].finish();t[e][n]=s}}return t},r.prototype.getBuilder=function(t,e){var i=t!==void 0?t.toString():"0",n=this.buildersByZIndex_[i];n===void 0&&(n={},this.buildersByZIndex_[i]=n);var s=n[e];if(s===void 0){var o=eF[e];s=new o(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),n[e]=s}return s},r}();const gm=tF,we={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"};function iF(r,t,e,i,n,s,o,a,l,h,u,c){var d=r[t],f=r[t+1],p=0,_=0,m=0,g=0;function y(){p=d,_=f,t+=i,d=r[t],f=r[t+1],g+=m,m=Math.sqrt((d-p)*(d-p)+(f-_)*(f-_))}do y();while(t<e-i&&g+m<s);for(var b=m===0?0:(s-g)/m,C=Fi(p,d,b),E=Fi(_,f,b),I=t-i,M=g,T=s+a*l(h,n,u);t<e-i&&g+m<T;)y();b=m===0?0:(T-g)/m;var D=Fi(p,d,b),L=Fi(_,f,b),z;if(c){var U=[C,E,D,L];oy(U,0,4,2,c,U,U),z=U[0]>U[2]}else z=C>D;var V=Math.PI,q=[],B=I+i===t;t=I,m=0,g=M,d=r[t],f=r[t+1];var v;if(B){y(),v=Math.atan2(f-_,d-p),z&&(v+=v>0?-V:V);var w=(D+C)/2,x=(L+E)/2;return q[0]=[w,x,(T-s)/2,v,n],q}for(var A=0,O=n.length;A<O;){y();var N=Math.atan2(f-_,d-p);if(z&&(N+=N>0?-V:V),v!==void 0){var S=N-v;if(S+=S>V?-2*V:S<-V?2*V:0,Math.abs(S)>o)return null}v=N;for(var K=A,F=0;A<O;++A){var Q=z?O-A-1:A,ne=a*l(h,n[Q],u);if(t+i<e&&g+m<s+F+ne/2)break;F+=ne}if(A!==K){var me=z?n.substring(O-K,O-A):n.substring(K,A);b=m===0?0:(s+F/2-g)/m;var w=Fi(p,d,b),x=Fi(_,f,b);q.push([w,x,F/2,N,me]),s+=F}}return q}function rF(r,t,e,i){for(var n=r[t],s=r[t+1],o=0,a=t+i;a<e;a+=i){var l=r[a],h=r[a+1];o+=Math.sqrt((l-n)*(l-n)+(h-s)*(h-s)),n=l,s=h}return o}var fr=_t(),ni=[],Vt=[],Gt=[],si=[];function ym(r){return r[3].declutterBox}var nF=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function bm(r,t){return(t==="start"||t==="end")&&!nF.test(r)&&(t=t==="start"?"left":"right"),Wa[t]}function sF(r,t,e){return e>0&&r.push(`
`,""),r.push(t,""),r}var oF=function(){function r(t,e,i,n){this.overlaps=i,this.pixelRatio=e,this.resolution=t,this.alignFill_,this.instructions=n.instructions,this.coordinates=n.coordinates,this.coordinateCache_={},this.renderedTransform_=yi(),this.hitDetectionInstructions=n.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=n.fillStates||{},this.strokeStates=n.strokeStates||{},this.textStates=n.textStates||{},this.widths_={},this.labels_={}}return r.prototype.createLabel=function(t,e,i,n){var s=t+e+i+n;if(this.labels_[s])return this.labels_[s];var o=n?this.strokeStates[n]:null,a=i?this.fillStates[i]:null,l=this.textStates[e],h=this.pixelRatio,u=[l.scale[0]*h,l.scale[1]*h],c=Array.isArray(t),d=bm(c?t[0]:t,l.textAlign||Jn),f=n&&o.lineWidth?o.lineWidth:0,p=c?t:t.split(`
`).reduce(sF,[]),_=wL(l,p),m=_.width,g=_.height,y=_.widths,b=_.heights,C=_.lineWidths,E=m+f,I=[],M=(E+2)*u[0],T=(g+f)*u[1],D={width:M<0?Math.floor(M):Math.ceil(M),height:T<0?Math.floor(T):Math.ceil(T),contextInstructions:I};if((u[0]!=1||u[1]!=1)&&I.push("scale",u),n){I.push("strokeStyle",o.strokeStyle),I.push("lineWidth",f),I.push("lineCap",o.lineCap),I.push("lineJoin",o.lineJoin),I.push("miterLimit",o.miterLimit);var L=vl?OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D;L.prototype.setLineDash&&(I.push("setLineDash",[o.lineDash]),I.push("lineDashOffset",o.lineDashOffset))}i&&I.push("fillStyle",a.fillStyle),I.push("textBaseline","middle"),I.push("textAlign","center");for(var z=.5-d,U=d*E+z*f,V=[],q=[],B=0,v=0,w=0,x=0,A,O=0,N=p.length;O<N;O+=2){var S=p[O];if(S===`
`){v+=B,B=0,U=d*E+z*f,++x;continue}var K=p[O+1]||l.font;K!==A&&(n&&V.push("font",K),i&&q.push("font",K),A=K),B=Math.max(B,b[w]);var F=[S,U+z*y[w]+d*(y[w]-C[x]),.5*(f+B)+v];U+=y[w],n&&V.push("strokeText",F),i&&q.push("fillText",F),++w}return Array.prototype.push.apply(I,V),Array.prototype.push.apply(I,q),this.labels_[s]=D,D},r.prototype.replayTextBackground_=function(t,e,i,n,s,o,a){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,i),t.lineTo.apply(t,n),t.lineTo.apply(t,s),t.lineTo.apply(t,e),o&&(this.alignFill_=o[2],this.fill_(t)),a&&(this.setStrokeStyle_(t,a),t.stroke())},r.prototype.calculateImageOrLabelDimensions_=function(t,e,i,n,s,o,a,l,h,u,c,d,f,p,_,m){a*=d[0],l*=d[1];var g=i-a,y=n-l,b=s+h>t?t-h:s,C=o+u>e?e-u:o,E=p[3]+b*d[0]+p[1],I=p[0]+C*d[1]+p[2],M=g-p[3],T=y-p[0];(_||c!==0)&&(ni[0]=M,si[0]=M,ni[1]=T,Vt[1]=T,Vt[0]=M+E,Gt[0]=Vt[0],Gt[1]=T+I,si[1]=Gt[1]);var D;return c!==0?(D=$t(yi(),i,n,1,1,c,-i,-n),Re(D,ni),Re(D,Vt),Re(D,Gt),Re(D,si),Lt(Math.min(ni[0],Vt[0],Gt[0],si[0]),Math.min(ni[1],Vt[1],Gt[1],si[1]),Math.max(ni[0],Vt[0],Gt[0],si[0]),Math.max(ni[1],Vt[1],Gt[1],si[1]),fr)):Lt(Math.min(M,M+E),Math.min(T,T+I),Math.max(M,M+E),Math.max(T,T+I),fr),f&&(g=Math.round(g),y=Math.round(y)),{drawImageX:g,drawImageY:y,drawImageW:b,drawImageH:C,originX:h,originY:u,declutterBox:{minX:fr[0],minY:fr[1],maxX:fr[2],maxY:fr[3],value:m},canvasTransform:D,scale:d}},r.prototype.replayImageOrLabel_=function(t,e,i,n,s,o,a){var l=!!(o||a),h=n.declutterBox,u=t.canvas,c=a?a[2]*n.scale[0]/2:0,d=h.minX-c<=u.width/e&&h.maxX+c>=0&&h.minY-c<=u.height/e&&h.maxY+c>=0;return d&&(l&&this.replayTextBackground_(t,ni,Vt,Gt,si,o,a),xL(t,n.canvasTransform,s,i,n.originX,n.originY,n.drawImageW,n.drawImageH,n.drawImageX,n.drawImageY,n.scale)),!0},r.prototype.fill_=function(t){if(this.alignFill_){var e=Re(this.renderedTransform_,[0,0]),i=512*this.pixelRatio;t.save(),t.translate(e[0]%i,e[1]%i),t.rotate(this.viewRotation_)}t.fill(),this.alignFill_&&t.restore()},r.prototype.setStrokeStyle_=function(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],t.setLineDash&&(t.lineDashOffset=e[7],t.setLineDash(e[6]))},r.prototype.drawLabelWithPointPlacement_=function(t,e,i,n){var s=this.textStates[e],o=this.createLabel(t,e,n,i),a=this.strokeStates[i],l=this.pixelRatio,h=bm(Array.isArray(t)?t[0]:t,s.textAlign||Jn),u=Wa[s.textBaseline||Ha],c=a&&a.lineWidth?a.lineWidth:0,d=o.width/l-2*s.scale[0],f=h*d+2*(.5-h)*c,p=u*o.height/l+2*(.5-u)*c;return{label:o,anchorX:f,anchorY:p}},r.prototype.execute_=function(t,e,i,n,s,o,a,l){var h;this.pixelCoordinates_&&Zr(i,this.renderedTransform_)?h=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),h=Yi(this.coordinates,0,this.coordinates.length,2,i,this.pixelCoordinates_),_k(this.renderedTransform_,i));for(var u=0,c=n.length,d=0,f,p,_,m,g,y,b,C,E,I,M,T,D=0,L=0,z=null,U=null,V=this.coordinateCache_,q=this.viewRotation_,B=Math.round(Math.atan2(-i[1],i[0])*1e12)/1e12,v={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:q},w=this.instructions!=n||this.overlaps?0:200,x,A,O,N;u<c;){var S=n[u],K=S[0];switch(K){case Y.BEGIN_GEOMETRY:x=S[1],N=S[3],x.getGeometry()?a!==void 0&&!je(a,N.getExtent())?u=S[2]+1:++u:u=S[2];break;case Y.BEGIN_PATH:D>w&&(this.fill_(t),D=0),L>w&&(t.stroke(),L=0),!D&&!L&&(t.beginPath(),m=NaN,g=NaN),++u;break;case Y.CIRCLE:d=S[1];var F=h[d],Q=h[d+1],ne=h[d+2],me=h[d+3],te=ne-F,X=me-Q,ve=Math.sqrt(te*te+X*X);t.moveTo(F+ve,Q),t.arc(F,Q,ve,0,2*Math.PI,!0),++u;break;case Y.CLOSE_PATH:t.closePath(),++u;break;case Y.CUSTOM:d=S[1],f=S[2];var Ue=S[3],Oi=S[4],Mi=S.length==6?S[5]:void 0;v.geometry=Ue,v.feature=x,u in V||(V[u]=[]);var at=V[u];Mi?Mi(h,d,f,2,at):(at[0]=h[d],at[1]=h[d+1],at.length=2),Oi(at,v),++u;break;case Y.DRAW_IMAGE:d=S[1],f=S[2],C=S[3],p=S[4],_=S[5];var Nt=S[6],_s=S[7],Qr=S[8],ms=S[9],Ri=S[10],Jr=S[11],vs=S[12],nr=S[13],Qt=S[14];if(!C&&S.length>=19){E=S[18],I=S[19],M=S[20],T=S[21];var sr=this.drawLabelWithPointPlacement_(E,I,M,T);C=sr.label,S[3]=C;var bl=S[22];p=(sr.anchorX-bl)*this.pixelRatio,S[4]=p;var gs=S[23];_=(sr.anchorY-gs)*this.pixelRatio,S[5]=_,Nt=C.height,S[6]=Nt,nr=C.width,S[13]=nr}var en=void 0;S.length>24&&(en=S[24]);var zt=void 0,It=void 0,Pi=void 0;S.length>16?(zt=S[15],It=S[16],Pi=S[17]):(zt=Vi,It=!1,Pi=!1),Ri&&B?Jr+=q:!Ri&&!B&&(Jr-=q);for(var tn=0;d<f;d+=2)if(!(en&&en[tn++]<nr/this.pixelRatio)){var Ze=this.calculateImageOrLabelDimensions_(C.width,C.height,h[d],h[d+1],nr,Nt,p,_,Qr,ms,Jr,vs,s,zt,It||Pi,x),ys=[t,e,C,Ze,_s,It?z:null,Pi?U:null],Le=void 0,or=void 0;if(l&&Qt){var ki=f-d;if(!Qt[ki]){Qt[ki]=ys;continue}if(Le=Qt[ki],delete Qt[ki],or=ym(Le),l.collides(or))continue}l&&l.collides(Ze.declutterBox)||(Le&&(l&&l.insert(or),this.replayImageOrLabel_.apply(this,Le)),l&&l.insert(Ze.declutterBox),this.replayImageOrLabel_.apply(this,ys))}++u;break;case Y.DRAW_CHARS:var jc=S[1],qc=S[2],wl=S[3],ub=S[4];T=S[5];var cb=S[6],Xc=S[7],Kc=S[8];M=S[9];var xl=S[10];E=S[11],I=S[12];var Zc=[S[13],S[13]],Cl=this.textStates[I],rn=Cl.font,nn=[Cl.scale[0]*Xc,Cl.scale[1]*Xc],sn=void 0;rn in this.widths_?sn=this.widths_[rn]:(sn={},this.widths_[rn]=sn);var Qc=rF(h,jc,qc,2),Jc=Math.abs(nn[0])*fm(rn,E,sn);if(ub||Jc<=Qc){var db=this.textStates[I].textAlign,fb=(Qc-Jc)*Wa[db],on=iF(h,jc,qc,2,E,fb,cb,Math.abs(nn[0]),fm,rn,sn,B?0:this.viewRotation_);e:if(on){var an=[],Jt=void 0,bs=void 0,ws=void 0,Qe=void 0,lt=void 0;if(M)for(Jt=0,bs=on.length;Jt<bs;++Jt){lt=on[Jt],ws=lt[4],Qe=this.createLabel(ws,I,"",M),p=lt[2]+(nn[0]<0?-xl:xl),_=wl*Qe.height+(.5-wl)*2*xl*nn[1]/nn[0]-Kc;var Ze=this.calculateImageOrLabelDimensions_(Qe.width,Qe.height,lt[0],lt[1],Qe.width,Qe.height,p,_,0,0,lt[3],Zc,!1,Vi,!1,x);if(l&&l.collides(Ze.declutterBox))break e;an.push([t,e,Qe,Ze,1,null,null])}if(T)for(Jt=0,bs=on.length;Jt<bs;++Jt){lt=on[Jt],ws=lt[4],Qe=this.createLabel(ws,I,T,""),p=lt[2],_=wl*Qe.height-Kc;var Ze=this.calculateImageOrLabelDimensions_(Qe.width,Qe.height,lt[0],lt[1],Qe.width,Qe.height,p,_,0,0,lt[3],Zc,!1,Vi,!1,x);if(l&&l.collides(Ze.declutterBox))break e;an.push([t,e,Qe,Ze,1,null,null])}l&&l.load(an.map(ym));for(var Al=0,pb=an.length;Al<pb;++Al)this.replayImageOrLabel_.apply(this,an[Al])}}++u;break;case Y.END_GEOMETRY:if(o!==void 0){x=S[1];var ed=o(x,N);if(ed)return ed}++u;break;case Y.FILL:w?D++:this.fill_(t),++u;break;case Y.MOVE_TO_LINE_TO:for(d=S[1],f=S[2],A=h[d],O=h[d+1],y=A+.5|0,b=O+.5|0,(y!==m||b!==g)&&(t.moveTo(A,O),m=y,g=b),d+=2;d<f;d+=2)A=h[d],O=h[d+1],y=A+.5|0,b=O+.5|0,(d==f-2||y!==m||b!==g)&&(t.lineTo(A,O),m=y,g=b);++u;break;case Y.SET_FILL_STYLE:z=S,this.alignFill_=S[2],D&&(this.fill_(t),D=0,L&&(t.stroke(),L=0)),t.fillStyle=S[1],++u;break;case Y.SET_STROKE_STYLE:U=S,L&&(t.stroke(),L=0),this.setStrokeStyle_(t,S),++u;break;case Y.STROKE:w?L++:t.stroke(),++u;break;default:++u;break}}D&&this.fill_(t),L&&t.stroke()},r.prototype.execute=function(t,e,i,n,s,o){this.viewRotation_=n,this.execute_(t,e,i,this.instructions,s,void 0,void 0,o)},r.prototype.executeHitDetection=function(t,e,i,n,s){return this.viewRotation_=i,this.execute_(t,1,e,this.hitDetectionInstructions,!0,n,s)},r}();const aF=oF;var jl=[we.POLYGON,we.CIRCLE,we.LINE_STRING,we.IMAGE,we.TEXT,we.DEFAULT],lF=function(){function r(t,e,i,n,s,o){this.maxExtent_=t,this.overlaps_=n,this.pixelRatio_=i,this.resolution_=e,this.renderBuffer_=o,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=yi(),this.createExecutors_(s)}return r.prototype.clip=function(t,e){var i=this.getClipCoords(e);t.beginPath(),t.moveTo(i[0],i[1]),t.lineTo(i[2],i[3]),t.lineTo(i[4],i[5]),t.lineTo(i[6],i[7]),t.clip()},r.prototype.createExecutors_=function(t){for(var e in t){var i=this.executorsByZIndex_[e];i===void 0&&(i={},this.executorsByZIndex_[e]=i);var n=t[e];for(var s in n){var o=n[s];i[s]=new aF(this.resolution_,this.pixelRatio_,this.overlaps_,o)}}},r.prototype.hasExecutors=function(t){for(var e in this.executorsByZIndex_)for(var i=this.executorsByZIndex_[e],n=0,s=t.length;n<s;++n)if(t[n]in i)return!0;return!1},r.prototype.forEachFeatureAtCoordinate=function(t,e,i,n,s,o){n=Math.round(n);var a=n*2+1,l=$t(this.hitDetectionTransform_,n+.5,n+.5,1/e,-1/e,-i,-t[0],-t[1]),h=!this.hitDetectionContext_;h&&(this.hitDetectionContext_=vt(a,a));var u=this.hitDetectionContext_;u.canvas.width!==a||u.canvas.height!==a?(u.canvas.width=a,u.canvas.height=a):h||u.clearRect(0,0,a,a);var c;this.renderBuffer_!==void 0&&(c=_t(),kn(c,t),Gn(c,e*(this.renderBuffer_+n),c));var d=hF(n),f;function p(I,M){for(var T=u.getImageData(0,0,a,a).data,D=0,L=d.length;D<L;D++)if(T[d[D]]>0){if(!o||f!==we.IMAGE&&f!==we.TEXT||o.indexOf(I)!==-1){var z=(d[D]-3)/4,U=n-z%a,V=n-(z/a|0),q=s(I,M,U*U+V*V);if(q)return q}u.clearRect(0,0,a,a);break}}var _=Object.keys(this.executorsByZIndex_).map(Number);_.sort(zr);var m,g,y,b,C;for(m=_.length-1;m>=0;--m){var E=_[m].toString();for(y=this.executorsByZIndex_[E],g=jl.length-1;g>=0;--g)if(f=jl[g],b=y[f],b!==void 0&&(C=b.executeHitDetection(u,l,i,p,c),C))return C}},r.prototype.getClipCoords=function(t){var e=this.maxExtent_;if(!e)return null;var i=e[0],n=e[1],s=e[2],o=e[3],a=[i,n,i,o,s,o,s,n];return Yi(a,0,8,2,t,a),a},r.prototype.isEmpty=function(){return Vn(this.executorsByZIndex_)},r.prototype.execute=function(t,e,i,n,s,o,a){var l=Object.keys(this.executorsByZIndex_).map(Number);l.sort(zr),this.maxExtent_&&(t.save(),this.clip(t,i));var h=o||jl,u,c,d,f,p,_;for(a&&l.reverse(),u=0,c=l.length;u<c;++u){var m=l[u].toString();for(p=this.executorsByZIndex_[m],d=0,f=h.length;d<f;++d){var g=h[d];_=p[g],_!==void 0&&_.execute(t,e,i,n,s,a)}}this.maxExtent_&&t.restore()},r}(),ql={};function hF(r){if(ql[r]!==void 0)return ql[r];for(var t=r*2+1,e=r*r,i=new Array(e+1),n=0;n<=r;++n)for(var s=0;s<=r;++s){var o=n*n+s*s;if(o>e)break;var a=i[o];a||(a=[],i[o]=a),a.push(((r+n)*t+(r+s))*4+3),n>0&&a.push(((r-n)*t+(r+s))*4+3),s>0&&(a.push(((r+n)*t+(r-s))*4+3),n>0&&a.push(((r-n)*t+(r-s))*4+3))}for(var l=[],n=0,h=i.length;n<h;++n)i[n]&&l.push.apply(l,i[n]);return ql[r]=l,l}const wm=lF;var uF=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),cF=function(r){uF(t,r);function t(e,i,n,s,o,a,l){var h=r.call(this)||this;return h.context_=e,h.pixelRatio_=i,h.extent_=n,h.transform_=s,h.viewRotation_=o,h.squaredTolerance_=a,h.userTransform_=l,h.contextFillState_=null,h.contextStrokeState_=null,h.contextTextState_=null,h.fillState_=null,h.strokeState_=null,h.image_=null,h.imageAnchorX_=0,h.imageAnchorY_=0,h.imageHeight_=0,h.imageOpacity_=0,h.imageOriginX_=0,h.imageOriginY_=0,h.imageRotateWithView_=!1,h.imageRotation_=0,h.imageScale_=[0,0],h.imageWidth_=0,h.text_="",h.textOffsetX_=0,h.textOffsetY_=0,h.textRotateWithView_=!1,h.textRotation_=0,h.textScale_=[0,0],h.textFillState_=null,h.textStrokeState_=null,h.textState_=null,h.pixelCoordinates_=[],h.tmpLocalTransform_=yi(),h}return t.prototype.drawImages_=function(e,i,n,s){if(!!this.image_){var o=Yi(e,i,n,s,this.transform_,this.pixelCoordinates_),a=this.context_,l=this.tmpLocalTransform_,h=a.globalAlpha;this.imageOpacity_!=1&&(a.globalAlpha=h*this.imageOpacity_);var u=this.imageRotation_;this.imageRotateWithView_&&(u+=this.viewRotation_);for(var c=0,d=o.length;c<d;c+=2){var f=o[c]-this.imageAnchorX_,p=o[c+1]-this.imageAnchorY_;if(u!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){var _=f+this.imageAnchorX_,m=p+this.imageAnchorY_;$t(l,_,m,1,1,u,-_,-m),a.setTransform.apply(a,l),a.translate(_,m),a.scale(this.imageScale_[0],this.imageScale_[1]),a.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),a.setTransform(1,0,0,1,0,0)}else a.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,f,p,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(a.globalAlpha=h)}},t.prototype.drawText_=function(e,i,n,s){if(!(!this.textState_||this.text_==="")){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var o=Yi(e,i,n,s,this.transform_,this.pixelCoordinates_),a=this.context_,l=this.textRotation_;for(this.textRotateWithView_&&(l+=this.viewRotation_);i<n;i+=s){var h=o[i]+this.textOffsetX_,u=o[i+1]+this.textOffsetY_;if(l!==0||this.textScale_[0]!=1||this.textScale_[1]!=1){var c=$t(this.tmpLocalTransform_,h,u,1,1,l,-h,-u);a.setTransform.apply(a,c),a.translate(h,u),a.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&a.strokeText(this.text_,0,0),this.textFillState_&&a.fillText(this.text_,0,0),a.setTransform(1,0,0,1,0,0)}else this.textStrokeState_&&a.strokeText(this.text_,h,u),this.textFillState_&&a.fillText(this.text_,h,u)}}},t.prototype.moveToLineTo_=function(e,i,n,s,o){var a=this.context_,l=Yi(e,i,n,s,this.transform_,this.pixelCoordinates_);a.moveTo(l[0],l[1]);var h=l.length;o&&(h-=2);for(var u=2;u<h;u+=2)a.lineTo(l[u],l[u+1]);return o&&a.closePath(),n},t.prototype.drawRings_=function(e,i,n,s){for(var o=0,a=n.length;o<a;++o)i=this.moveToLineTo_(e,i,n[o],s,!0);return i},t.prototype.drawCircle=function(e){if(!!je(this.extent_,e.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var i=Ik(e,this.transform_,this.pixelCoordinates_),n=i[2]-i[0],s=i[3]-i[1],o=Math.sqrt(n*n+s*s),a=this.context_;a.beginPath(),a.arc(i[0],i[1],o,0,2*Math.PI),this.fillState_&&a.fill(),this.strokeState_&&a.stroke()}this.text_!==""&&this.drawText_(e.getCenter(),0,2,2)}},t.prototype.setStyle=function(e){this.setFillStrokeStyle(e.getFill(),e.getStroke()),this.setImageStyle(e.getImage()),this.setTextStyle(e.getText())},t.prototype.setTransform=function(e){this.transform_=e},t.prototype.drawGeometry=function(e){var i=e.getType();switch(i){case ee.POINT:this.drawPoint(e);break;case ee.LINE_STRING:this.drawLineString(e);break;case ee.POLYGON:this.drawPolygon(e);break;case ee.MULTI_POINT:this.drawMultiPoint(e);break;case ee.MULTI_LINE_STRING:this.drawMultiLineString(e);break;case ee.MULTI_POLYGON:this.drawMultiPolygon(e);break;case ee.GEOMETRY_COLLECTION:this.drawGeometryCollection(e);break;case ee.CIRCLE:this.drawCircle(e);break}},t.prototype.drawFeature=function(e,i){var n=i.getGeometryFunction()(e);!n||!je(this.extent_,n.getExtent())||(this.setStyle(i),this.drawGeometry(n))},t.prototype.drawGeometryCollection=function(e){for(var i=e.getGeometriesArray(),n=0,s=i.length;n<s;++n)this.drawGeometry(i[n])},t.prototype.drawPoint=function(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var i=e.getFlatCoordinates(),n=e.getStride();this.image_&&this.drawImages_(i,0,i.length,n),this.text_!==""&&this.drawText_(i,0,i.length,n)},t.prototype.drawMultiPoint=function(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var i=e.getFlatCoordinates(),n=e.getStride();this.image_&&this.drawImages_(i,0,i.length,n),this.text_!==""&&this.drawText_(i,0,i.length,n)},t.prototype.drawLineString=function(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!je(this.extent_,e.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var i=this.context_,n=e.getFlatCoordinates();i.beginPath(),this.moveToLineTo_(n,0,n.length,e.getStride(),!1),i.stroke()}if(this.text_!==""){var s=e.getFlatMidpoint();this.drawText_(s,0,2,2)}}},t.prototype.drawMultiLineString=function(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var i=e.getExtent();if(!!je(this.extent_,i)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var n=this.context_,s=e.getFlatCoordinates(),o=0,a=e.getEnds(),l=e.getStride();n.beginPath();for(var h=0,u=a.length;h<u;++h)o=this.moveToLineTo_(s,o,a[h],l,!1);n.stroke()}if(this.text_!==""){var c=e.getFlatMidpoints();this.drawText_(c,0,c.length,2)}}},t.prototype.drawPolygon=function(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!je(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var i=this.context_;i.beginPath(),this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride()),this.fillState_&&i.fill(),this.strokeState_&&i.stroke()}if(this.text_!==""){var n=e.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}},t.prototype.drawMultiPolygon=function(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!je(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var i=this.context_,n=e.getOrientedFlatCoordinates(),s=0,o=e.getEndss(),a=e.getStride();i.beginPath();for(var l=0,h=o.length;l<h;++l){var u=o[l];s=this.drawRings_(n,s,u,a)}this.fillState_&&i.fill(),this.strokeState_&&i.stroke()}if(this.text_!==""){var c=e.getFlatInteriorPoints();this.drawText_(c,0,c.length,2)}}},t.prototype.setContextFillState_=function(e){var i=this.context_,n=this.contextFillState_;n?n.fillStyle!=e.fillStyle&&(n.fillStyle=e.fillStyle,i.fillStyle=e.fillStyle):(i.fillStyle=e.fillStyle,this.contextFillState_={fillStyle:e.fillStyle})},t.prototype.setContextStrokeState_=function(e){var i=this.context_,n=this.contextStrokeState_;n?(n.lineCap!=e.lineCap&&(n.lineCap=e.lineCap,i.lineCap=e.lineCap),i.setLineDash&&(Zr(n.lineDash,e.lineDash)||i.setLineDash(n.lineDash=e.lineDash),n.lineDashOffset!=e.lineDashOffset&&(n.lineDashOffset=e.lineDashOffset,i.lineDashOffset=e.lineDashOffset)),n.lineJoin!=e.lineJoin&&(n.lineJoin=e.lineJoin,i.lineJoin=e.lineJoin),n.lineWidth!=e.lineWidth&&(n.lineWidth=e.lineWidth,i.lineWidth=e.lineWidth),n.miterLimit!=e.miterLimit&&(n.miterLimit=e.miterLimit,i.miterLimit=e.miterLimit),n.strokeStyle!=e.strokeStyle&&(n.strokeStyle=e.strokeStyle,i.strokeStyle=e.strokeStyle)):(i.lineCap=e.lineCap,i.setLineDash&&(i.setLineDash(e.lineDash),i.lineDashOffset=e.lineDashOffset),i.lineJoin=e.lineJoin,i.lineWidth=e.lineWidth,i.miterLimit=e.miterLimit,i.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})},t.prototype.setContextTextState_=function(e){var i=this.context_,n=this.contextTextState_,s=e.textAlign?e.textAlign:Jn;n?(n.font!=e.font&&(n.font=e.font,i.font=e.font),n.textAlign!=s&&(n.textAlign=s,i.textAlign=s),n.textBaseline!=e.textBaseline&&(n.textBaseline=e.textBaseline,i.textBaseline=e.textBaseline)):(i.font=e.font,i.textAlign=s,i.textBaseline=e.textBaseline,this.contextTextState_={font:e.font,textAlign:s,textBaseline:e.textBaseline})},t.prototype.setFillStrokeStyle=function(e,i){var n=this;if(!e)this.fillState_=null;else{var s=e.getColor();this.fillState_={fillStyle:Rt(s||jt)}}if(!i)this.strokeState_=null;else{var o=i.getColor(),a=i.getLineCap(),l=i.getLineDash(),h=i.getLineDashOffset(),u=i.getLineJoin(),c=i.getWidth(),d=i.getMiterLimit(),f=l||Xn;this.strokeState_={lineCap:a!==void 0?a:Ga,lineDash:this.pixelRatio_===1?f:f.map(function(p){return p*n.pixelRatio_}),lineDashOffset:(h||Kn)*this.pixelRatio_,lineJoin:u!==void 0?u:Vr,lineWidth:(c!==void 0?c:es)*this.pixelRatio_,miterLimit:d!==void 0?d:Zn,strokeStyle:Rt(o||Qn)}}},t.prototype.setImageStyle=function(e){var i;if(!e||!(i=e.getSize())){this.image_=null;return}var n=e.getAnchor(),s=e.getOrigin();this.image_=e.getImage(this.pixelRatio_),this.imageAnchorX_=n[0]*this.pixelRatio_,this.imageAnchorY_=n[1]*this.pixelRatio_,this.imageHeight_=i[1]*this.pixelRatio_,this.imageOpacity_=e.getOpacity(),this.imageOriginX_=s[0],this.imageOriginY_=s[1],this.imageRotateWithView_=e.getRotateWithView(),this.imageRotation_=e.getRotation(),this.imageScale_=e.getScaleArray(),this.imageWidth_=i[0]*this.pixelRatio_},t.prototype.setTextStyle=function(e){if(!e)this.text_="";else{var i=e.getFill();if(!i)this.textFillState_=null;else{var n=i.getColor();this.textFillState_={fillStyle:Rt(n||jt)}}var s=e.getStroke();if(!s)this.textStrokeState_=null;else{var o=s.getColor(),a=s.getLineCap(),l=s.getLineDash(),h=s.getLineDashOffset(),u=s.getLineJoin(),c=s.getWidth(),d=s.getMiterLimit();this.textStrokeState_={lineCap:a!==void 0?a:Ga,lineDash:l||Xn,lineDashOffset:h||Kn,lineJoin:u!==void 0?u:Vr,lineWidth:c!==void 0?c:es,miterLimit:d!==void 0?d:Zn,strokeStyle:Rt(o||Qn)}}var f=e.getFont(),p=e.getOffsetX(),_=e.getOffsetY(),m=e.getRotateWithView(),g=e.getRotation(),y=e.getScaleArray(),b=e.getText(),C=e.getTextAlign(),E=e.getTextBaseline();this.textState_={font:f!==void 0?f:Dy,textAlign:C!==void 0?C:Jn,textBaseline:E!==void 0?E:Ha},this.text_=b!==void 0?Array.isArray(b)?b.reduce(function(I,M,T){return I+=T%2?" ":M},""):b:"",this.textOffsetX_=p!==void 0?this.pixelRatio_*p:0,this.textOffsetY_=_!==void 0?this.pixelRatio_*_:0,this.textRotateWithView_=m!==void 0?m:!1,this.textRotation_=g!==void 0?g:0,this.textScale_=[this.pixelRatio_*y[0],this.pixelRatio_*y[1]]}},t}(zy);const dF=cF,hi={FRACTION:"fraction",PIXELS:"pixels"},ht={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"};var fF=function(){function r(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return r.prototype.clear=function(){this.cache_={},this.cacheSize_=0},r.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},r.prototype.expire=function(){if(this.canExpireCache()){var t=0;for(var e in this.cache_){var i=this.cache_[e];(t++&3)===0&&!i.hasListener()&&(delete this.cache_[e],--this.cacheSize_)}}},r.prototype.get=function(t,e,i){var n=xm(t,e,i);return n in this.cache_?this.cache_[n]:null},r.prototype.set=function(t,e,i,n){var s=xm(t,e,i);this.cache_[s]=n,++this.cacheSize_},r.prototype.setSize=function(t){this.maxCacheSize_=t,this.expire()},r}();function xm(r,t,e){var i=e?my(e):"null";return t+":"+r+":"+i}var Cm=new fF,pF=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),mn=null,_F=function(r){pF(t,r);function t(e,i,n,s,o,a){var l=r.call(this)||this;return l.hitDetectionImage_=null,l.image_=e||new Image,s!==null&&(l.image_.crossOrigin=s),l.canvas_={},l.color_=a,l.unlisten_=null,l.imageState_=o,l.size_=n,l.src_=i,l.tainted_,l}return t.prototype.isTainted_=function(){if(this.tainted_===void 0&&this.imageState_===ie.LOADED){mn||(mn=vt(1,1)),mn.drawImage(this.image_,0,0);try{mn.getImageData(0,0,1,1),this.tainted_=!1}catch{mn=null,this.tainted_=!0}}return this.tainted_===!0},t.prototype.dispatchChangeEvent_=function(){this.dispatchEvent($e.CHANGE)},t.prototype.handleImageError_=function(){this.imageState_=ie.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},t.prototype.handleImageLoad_=function(){this.imageState_=ie.LOADED,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()},t.prototype.getImage=function(e){return this.replaceColor_(e),this.canvas_[e]?this.canvas_[e]:this.image_},t.prototype.getPixelRatio=function(e){return this.replaceColor_(e),this.canvas_[e]?e:1},t.prototype.getImageState=function(){return this.imageState_},t.prototype.getHitDetectionImage=function(){if(!this.hitDetectionImage_)if(this.isTainted_()){var e=this.size_[0],i=this.size_[1],n=vt(e,i);n.fillRect(0,0,e,i),this.hitDetectionImage_=n.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},t.prototype.getSize=function(){return this.size_},t.prototype.getSrc=function(){return this.src_},t.prototype.load=function(){if(this.imageState_==ie.IDLE){this.imageState_=ie.LOADING;try{this.image_.src=this.src_}catch{this.handleImageError_()}this.unlisten_=Vc(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},t.prototype.replaceColor_=function(e){if(!(!this.color_||this.canvas_[e]||this.imageState_!==ie.LOADED)){var i=document.createElement("canvas");this.canvas_[e]=i,i.width=Math.ceil(this.image_.width*e),i.height=Math.ceil(this.image_.height*e);var n=i.getContext("2d");if(n.scale(e,e),n.drawImage(this.image_,0,0),n.globalCompositeOperation="multiply",n.globalCompositeOperation==="multiply"||this.isTainted_())n.fillStyle=my(this.color_),n.fillRect(0,0,i.width/e,i.height/e),n.globalCompositeOperation="destination-in",n.drawImage(this.image_,0,0);else{for(var s=n.getImageData(0,0,i.width,i.height),o=s.data,a=this.color_[0]/255,l=this.color_[1]/255,h=this.color_[2]/255,u=this.color_[3],c=0,d=o.length;c<d;c+=4)o[c]*=a,o[c+1]*=l,o[c+2]*=h,o[c+3]*=u;n.putImageData(s,0,0)}}},t.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},t}(ds);function mF(r,t,e,i,n,s){var o=Cm.get(t,i,s);return o||(o=new _F(r,t,e,i,n,s),Cm.set(t,i,s,o)),o}var vF=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),gF=function(r){vF(t,r);function t(e){var i=this,n=e||{},s=n.opacity!==void 0?n.opacity:1,o=n.rotation!==void 0?n.rotation:0,a=n.scale!==void 0?n.scale:1,l=n.rotateWithView!==void 0?n.rotateWithView:!1;i=r.call(this,{opacity:s,rotation:o,scale:a,displacement:n.displacement!==void 0?n.displacement:[0,0],rotateWithView:l})||this,i.anchor_=n.anchor!==void 0?n.anchor:[.5,.5],i.normalizedAnchor_=null,i.anchorOrigin_=n.anchorOrigin!==void 0?n.anchorOrigin:ht.TOP_LEFT,i.anchorXUnits_=n.anchorXUnits!==void 0?n.anchorXUnits:hi.FRACTION,i.anchorYUnits_=n.anchorYUnits!==void 0?n.anchorYUnits:hi.FRACTION,i.crossOrigin_=n.crossOrigin!==void 0?n.crossOrigin:null;var h=n.img!==void 0?n.img:null;i.imgSize_=n.imgSize;var u=n.src;oe(!(u!==void 0&&h),4),oe(!h||h&&i.imgSize_,5),(u===void 0||u.length===0)&&h&&(u=h.src||pe(h)),oe(u!==void 0&&u.length>0,6);var c=n.src!==void 0?ie.IDLE:ie.LOADED;return i.color_=n.color!==void 0?Ba(n.color):null,i.iconImage_=mF(h,u,i.imgSize_!==void 0?i.imgSize_:null,i.crossOrigin_,c,i.color_),i.offset_=n.offset!==void 0?n.offset:[0,0],i.offsetOrigin_=n.offsetOrigin!==void 0?n.offsetOrigin:ht.TOP_LEFT,i.origin_=null,i.size_=n.size!==void 0?n.size:null,i}return t.prototype.clone=function(){var e=this.getScale();return new t({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,imgSize:this.imgSize_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:Array.isArray(e)?e.slice():e,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc()})},t.prototype.getAnchor=function(){var e=this.normalizedAnchor_;if(!e){e=this.anchor_;var i=this.getSize();if(this.anchorXUnits_==hi.FRACTION||this.anchorYUnits_==hi.FRACTION){if(!i)return null;e=this.anchor_.slice(),this.anchorXUnits_==hi.FRACTION&&(e[0]*=i[0]),this.anchorYUnits_==hi.FRACTION&&(e[1]*=i[1])}if(this.anchorOrigin_!=ht.TOP_LEFT){if(!i)return null;e===this.anchor_&&(e=this.anchor_.slice()),(this.anchorOrigin_==ht.TOP_RIGHT||this.anchorOrigin_==ht.BOTTOM_RIGHT)&&(e[0]=-e[0]+i[0]),(this.anchorOrigin_==ht.BOTTOM_LEFT||this.anchorOrigin_==ht.BOTTOM_RIGHT)&&(e[1]=-e[1]+i[1])}this.normalizedAnchor_=e}var n=this.getDisplacement();return[e[0]-n[0],e[1]+n[1]]},t.prototype.setAnchor=function(e){this.anchor_=e,this.normalizedAnchor_=null},t.prototype.getColor=function(){return this.color_},t.prototype.getImage=function(e){return this.iconImage_.getImage(e)},t.prototype.getPixelRatio=function(e){return this.iconImage_.getPixelRatio(e)},t.prototype.getImageSize=function(){return this.iconImage_.getSize()},t.prototype.getImageState=function(){return this.iconImage_.getImageState()},t.prototype.getHitDetectionImage=function(){return this.iconImage_.getHitDetectionImage()},t.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var e=this.offset_;if(this.offsetOrigin_!=ht.TOP_LEFT){var i=this.getSize(),n=this.iconImage_.getSize();if(!i||!n)return null;e=e.slice(),(this.offsetOrigin_==ht.TOP_RIGHT||this.offsetOrigin_==ht.BOTTOM_RIGHT)&&(e[0]=n[0]-i[0]-e[0]),(this.offsetOrigin_==ht.BOTTOM_LEFT||this.offsetOrigin_==ht.BOTTOM_RIGHT)&&(e[1]=n[1]-i[1]-e[1])}return this.origin_=e,this.origin_},t.prototype.getSrc=function(){return this.iconImage_.getSrc()},t.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},t.prototype.listenImageChange=function(e){this.iconImage_.addEventListener($e.CHANGE,e)},t.prototype.load=function(){this.iconImage_.load()},t.prototype.unlistenImageChange=function(e){this.iconImage_.removeEventListener($e.CHANGE,e)},t}(ky);const By=gF;var Ot=.5;function yF(r,t,e,i,n,s,o){var a=r[0]*Ot,l=r[1]*Ot,h=vt(a,l);h.imageSmoothingEnabled=!1;for(var u=h.canvas,c=new dF(h,Ot,n,null,o),d=e.length,f=Math.floor((256*256*256-1)/d),p={},_=1;_<=d;++_){var m=e[_-1],g=m.getStyleFunction()||i;if(!!i){var y=g(m,s);if(!!y){Array.isArray(y)||(y=[y]);for(var b=_*f,C="#"+("000000"+b.toString(16)).slice(-6),E=0,I=y.length;E<I;++E){var M=y[E],T=M.getGeometryFunction()(m);if(!(!T||!je(n,T.getExtent()))){var D=M.clone(),L=D.getFill();L&&L.setColor(C);var z=D.getStroke();z&&(z.setColor(C),z.setLineDash(null)),D.setText(void 0);var U=M.getImage();if(U&&U.getOpacity()!==0){var V=U.getImageSize();if(!V)continue;var q=vt(V[0],V[1],void 0,{alpha:!1}),B=q.canvas;q.fillStyle=C,q.fillRect(0,0,B.width,B.height),D.setImage(new By({img:B,imgSize:V,anchor:U.getAnchor(),anchorXUnits:hi.PIXELS,anchorYUnits:hi.PIXELS,offset:U.getOrigin(),opacity:1,size:U.getSize(),scale:U.getScale(),rotation:U.getRotation(),rotateWithView:U.getRotateWithView()}))}var v=D.getZIndex()||0,w=p[v];w||(w={},p[v]=w,w[ee.POLYGON]=[],w[ee.CIRCLE]=[],w[ee.LINE_STRING]=[],w[ee.POINT]=[]),w[T.getType().replace("Multi","")].push(T,D)}}}}}for(var x=Object.keys(p).map(Number).sort(zr),_=0,A=x.length;_<A;++_){var w=p[x[_]];for(var O in w)for(var N=w[O],E=0,I=N.length;E<I;E+=2){c.setStyle(N[E+1]);for(var S=0,K=t.length;S<K;++S)c.setTransform(t[S]),c.drawGeometry(N[E])}}return h.getImageData(0,0,u.width,u.height)}function bF(r,t,e){var i=[];if(e){var n=Math.floor(Math.round(r[0])*Ot),s=Math.floor(Math.round(r[1])*Ot),o=(Te(n,0,e.width-1)+Te(s,0,e.height-1)*e.width)*4,a=e.data[o],l=e.data[o+1],h=e.data[o+2],u=h+256*(l+256*a),c=Math.floor((256*256*256-1)/t.length);u&&u%c===0&&i.push(t[u/c-1])}return i}var wF=.5,Vy={Point:MF,LineString:SF,Polygon:PF,MultiPoint:RF,MultiLineString:TF,MultiPolygon:OF,GeometryCollection:IF,Circle:AF};function xF(r,t){return parseInt(pe(r),10)-parseInt(pe(t),10)}function CF(r,t){var e=Wu(r,t);return e*e}function Wu(r,t){return wF*r/t}function AF(r,t,e,i,n){var s=e.getFill(),o=e.getStroke();if(s||o){var a=r.getBuilder(e.getZIndex(),we.CIRCLE);a.setFillStrokeStyle(s,o),a.drawCircle(t,i)}var l=e.getText();if(l&&l.getText()){var h=(n||r).getBuilder(e.getZIndex(),we.TEXT);h.setTextStyle(l),h.drawText(t,i)}}function Am(r,t,e,i,n,s,o){var a=!1,l=e.getImage();if(l){var h=l.getImageState();h==ie.LOADED||h==ie.ERROR?l.unlistenImageChange(n):(h==ie.IDLE&&l.load(),h=l.getImageState(),l.listenImageChange(n),a=!0)}return EF(r,t,e,i,s,o),a}function EF(r,t,e,i,n,s){var o=e.getGeometryFunction()(t);if(!!o){var a=o.simplifyTransformed(i,n),l=e.getRenderer();if(l)Gy(r,a,e,t);else{var h=Vy[a.getType()];h(r,a,e,t,s)}}}function Gy(r,t,e,i){if(t.getType()==ee.GEOMETRY_COLLECTION){for(var n=t.getGeometries(),s=0,o=n.length;s<o;++s)Gy(r,n[s],e,i);return}var a=r.getBuilder(e.getZIndex(),we.DEFAULT);a.drawCustom(t,i,e.getRenderer(),e.getHitDetectionRenderer())}function IF(r,t,e,i,n){var s=t.getGeometriesArray(),o,a;for(o=0,a=s.length;o<a;++o){var l=Vy[s[o].getType()];l(r,s[o],e,i,n)}}function SF(r,t,e,i,n){var s=e.getStroke();if(s){var o=r.getBuilder(e.getZIndex(),we.LINE_STRING);o.setFillStrokeStyle(null,s),o.drawLineString(t,i)}var a=e.getText();if(a&&a.getText()){var l=(n||r).getBuilder(e.getZIndex(),we.TEXT);l.setTextStyle(a),l.drawText(t,i)}}function TF(r,t,e,i,n){var s=e.getStroke();if(s){var o=r.getBuilder(e.getZIndex(),we.LINE_STRING);o.setFillStrokeStyle(null,s),o.drawMultiLineString(t,i)}var a=e.getText();if(a&&a.getText()){var l=(n||r).getBuilder(e.getZIndex(),we.TEXT);l.setTextStyle(a),l.drawText(t,i)}}function OF(r,t,e,i,n){var s=e.getFill(),o=e.getStroke();if(o||s){var a=r.getBuilder(e.getZIndex(),we.POLYGON);a.setFillStrokeStyle(s,o),a.drawMultiPolygon(t,i)}var l=e.getText();if(l&&l.getText()){var h=(n||r).getBuilder(e.getZIndex(),we.TEXT);h.setTextStyle(l),h.drawText(t,i)}}function MF(r,t,e,i,n){var s=e.getImage(),o=e.getText(),a;if(n&&(r=n,a=s&&o&&o.getText()?{}:void 0),s){if(s.getImageState()!=ie.LOADED)return;var l=r.getBuilder(e.getZIndex(),we.IMAGE);l.setImageStyle(s,a),l.drawPoint(t,i)}if(o&&o.getText()){var h=r.getBuilder(e.getZIndex(),we.TEXT);h.setTextStyle(o,a),h.drawText(t,i)}}function RF(r,t,e,i,n){var s=e.getImage(),o=e.getText(),a;if(n&&(r=n,a=s&&o&&o.getText()?{}:void 0),s){if(s.getImageState()!=ie.LOADED)return;var l=r.getBuilder(e.getZIndex(),we.IMAGE);l.setImageStyle(s,a),l.drawMultiPoint(t,i)}if(o&&o.getText()){var h=(n||r).getBuilder(e.getZIndex(),we.TEXT);h.setTextStyle(o,a),h.drawText(t,i)}}function PF(r,t,e,i,n){var s=e.getFill(),o=e.getStroke();if(s||o){var a=r.getBuilder(e.getZIndex(),we.POLYGON);a.setFillStrokeStyle(s,o),a.drawPolygon(t,i)}var l=e.getText();if(l&&l.getText()){var h=(n||r).getBuilder(e.getZIndex(),we.TEXT);h.setTextStyle(l),h.drawText(t,i)}}var kF=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),DF=function(r){kF(t,r);function t(e){var i=r.call(this,e)||this;return i.boundHandleStyleImageChange_=i.handleStyleImageChange_.bind(i),i.animatingOrInteracting_,i.dirty_=!1,i.hitDetectionImageData_=null,i.renderedFeatures_=null,i.renderedRevision_=-1,i.renderedResolution_=NaN,i.renderedExtent_=_t(),i.wrappedRenderedExtent_=_t(),i.renderedRotation_,i.renderedCenter_=null,i.renderedProjection_=null,i.renderedRenderOrder_=null,i.replayGroup_=null,i.replayGroupChanged=!0,i.declutterExecutorGroup=null,i.clipping=!0,i}return t.prototype.renderWorlds=function(e,i,n){var s=i.extent,o=i.viewState,a=o.center,l=o.resolution,h=o.projection,u=o.rotation,c=h.getExtent(),d=this.getLayer().getSource(),f=i.pixelRatio,p=i.viewHints,_=!(p[et.ANIMATING]||p[et.INTERACTING]),m=this.context,g=Math.round(i.size[0]*f),y=Math.round(i.size[1]*f),b=d.getWrapX()&&h.canWrapX(),C=b?_e(c):null,E=b?Math.ceil((s[2]-c[2])/C)+1:1,I=b?Math.floor((s[0]-c[0])/C):0;do{var M=this.getRenderTransform(a,l,u,f,g,y,I*C);e.execute(m,1,M,u,_,void 0,n)}while(++I<E)},t.prototype.renderDeclutter=function(e){this.declutterExecutorGroup&&this.renderWorlds(this.declutterExecutorGroup,e,e.declutterTree)},t.prototype.renderFrame=function(e,i){var n=e.pixelRatio,s=e.layerStatesArray[e.layerIndex];mk(this.pixelTransform,1/n,1/n),kc(this.inversePixelTransform,this.pixelTransform);var o=Dc(this.pixelTransform);this.useContainer(i,o,s.opacity,this.getBackground(e));var a=this.context,l=a.canvas,h=this.replayGroup_,u=this.declutterExecutorGroup;if((!h||h.isEmpty())&&(!u||u.isEmpty()))return null;var c=Math.round(e.size[0]*n),d=Math.round(e.size[1]*n);l.width!=c||l.height!=d?(l.width=c,l.height=d,l.style.transform!==o&&(l.style.transform=o)):this.containerReused||a.clearRect(0,0,c,d),this.preRender(a,e);var f=e.viewState,p=f.projection,_=!1,m=!0;if(s.extent&&this.clipping){var g=Ut(s.extent,p);m=je(g,e.extent),_=m&&!fi(g,e.extent),_&&this.clipUnrotated(a,e,g)}m&&this.renderWorlds(h,e),_&&a.restore(),this.postRender(a,e);var y=Oy(s.opacity),b=this.container;return y!==b.style.opacity&&(b.style.opacity=y),this.renderedRotation_!==f.rotation&&(this.renderedRotation_=f.rotation,this.hitDetectionImageData_=null),this.container},t.prototype.getFeatures=function(e){return new Promise(function(i){if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){var n=[this.context.canvas.width,this.context.canvas.height];Re(this.pixelTransform,n);var s=this.renderedCenter_,o=this.renderedResolution_,a=this.renderedRotation_,l=this.renderedProjection_,h=this.wrappedRenderedExtent_,u=this.getLayer(),c=[],d=n[0]*Ot,f=n[1]*Ot;c.push(this.getRenderTransform(s,o,a,Ot,d,f,0).slice());var p=u.getSource(),_=l.getExtent();if(p.getWrapX()&&l.canWrapX()&&!fi(_,h)){for(var m=h[0],g=_e(_),y=0,b=void 0;m<_[0];)--y,b=g*y,c.push(this.getRenderTransform(s,o,a,Ot,d,f,b).slice()),m+=g;for(y=0,m=h[2];m>_[2];)++y,b=g*y,c.push(this.getRenderTransform(s,o,a,Ot,d,f,b).slice()),m-=g}this.hitDetectionImageData_=yF(n,c,this.renderedFeatures_,u.getStyleFunction(),h,o,a)}i(bF(e,this.renderedFeatures_,this.hitDetectionImageData_))}.bind(this))},t.prototype.forEachFeatureAtCoordinate=function(e,i,n,s,o){var a=this;if(!!this.replayGroup_){var l=i.viewState.resolution,h=i.viewState.rotation,u=this.getLayer(),c={},d=function(_,m,g){var y=pe(_),b=c[y];if(b){if(b!==!0&&g<b.distanceSq){if(g===0)return c[y]=!0,o.splice(o.lastIndexOf(b),1),s(_,u,m);b.geometry=m,b.distanceSq=g}}else{if(g===0)return c[y]=!0,s(_,u,m);o.push(c[y]={feature:_,layer:u,geometry:m,distanceSq:g,callback:s})}},f,p=[this.replayGroup_];return this.declutterExecutorGroup&&p.push(this.declutterExecutorGroup),p.some(function(_){return f=_.forEachFeatureAtCoordinate(e,l,h,n,d,_===a.declutterExecutorGroup&&i.declutterTree?i.declutterTree.all().map(function(m){return m.value}):null)}),f}},t.prototype.handleFontsChanged=function(){var e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()},t.prototype.handleStyleImageChange_=function(e){this.renderIfReadyAndVisible()},t.prototype.prepareFrame=function(e){var i=this.getLayer(),n=i.getSource();if(!n)return!1;var s=e.viewHints[et.ANIMATING],o=e.viewHints[et.INTERACTING],a=i.getUpdateWhileAnimating(),l=i.getUpdateWhileInteracting();if(!this.dirty_&&!a&&s||!l&&o)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var h=e.extent,u=e.viewState,c=u.projection,d=u.resolution,f=e.pixelRatio,p=i.getRevision(),_=i.getRenderBuffer(),m=i.getRenderOrder();m===void 0&&(m=xF);var g=u.center.slice(),y=Gn(h,_*d),b=y.slice(),C=[y.slice()],E=c.getExtent();if(n.getWrapX()&&c.canWrapX()&&!fi(E,e.extent)){var I=_e(E),M=Math.max(_e(y)/2,I);y[0]=E[0]-M,y[2]=E[2]+M,uT(g,c);var T=aT(C[0],c);T[0]<E[0]&&T[2]<E[2]?C.push([T[0]+I,T[1],T[2]+I,T[3]]):T[0]>E[0]&&T[2]>E[2]&&C.push([T[0]-I,T[1],T[2]-I,T[3]])}if(!this.dirty_&&this.renderedResolution_==d&&this.renderedRevision_==p&&this.renderedRenderOrder_==m&&fi(this.wrappedRenderedExtent_,y))return Zr(this.renderedExtent_,b)||(this.hitDetectionImageData_=null,this.renderedExtent_=b),this.renderedCenter_=g,this.replayGroupChanged=!1,!0;this.replayGroup_=null,this.dirty_=!1;var D=new gm(Wu(d,f),y,d,f),L;this.getLayer().getDeclutter()&&(L=new gm(Wu(d,f),y,d,f));var z=Pg(),U;if(z){for(var V=0,q=C.length;V<q;++V){var B=C[V],v=$u(B,c);n.loadFeatures(v,mT(d,c),z)}U=dl(z,c)}else for(var V=0,q=C.length;V<q;++V)n.loadFeatures(C[V],d,c);var w=CF(d,f),x=function(K){var F,Q=K.getStyleFunction()||i.getStyleFunction();if(Q&&(F=Q(K,d)),F){var ne=this.renderFeature(K,w,F,D,U,L);this.dirty_=this.dirty_||ne}}.bind(this),A=$u(y,c),O=n.getFeaturesInExtent(A);m&&O.sort(m);for(var V=0,q=O.length;V<q;++V)x(O[V]);this.renderedFeatures_=O;var N=D.finish(),S=new wm(y,d,f,n.getOverlaps(),N,i.getRenderBuffer());return L&&(this.declutterExecutorGroup=new wm(y,d,f,n.getOverlaps(),L.finish(),i.getRenderBuffer())),this.renderedResolution_=d,this.renderedRevision_=p,this.renderedRenderOrder_=m,this.renderedExtent_=b,this.wrappedRenderedExtent_=y,this.renderedCenter_=g,this.renderedProjection_=c,this.replayGroup_=S,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0},t.prototype.renderFeature=function(e,i,n,s,o,a){if(!n)return!1;var l=!1;if(Array.isArray(n))for(var h=0,u=n.length;h<u;++h)l=Am(s,e,n[h],i,this.boundHandleStyleImageChange_,o,a)||l;else l=Am(s,e,n,i,this.boundHandleStyleImageChange_,o,a);return l},t}(Bc);const LF=DF;var FF=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),$F=function(r){FF(t,r);function t(e){return r.call(this,e)||this}return t.prototype.createRenderer=function(){return new LF(this)},t}($L);const NF=$F;function Ya(r){return[r.x,r.y]}function zF(r){return[r.width,r.height]}function Hy(r,t,e){if(!(t.length!==r.getLength()||r.getArray().some((s,o)=>s.id!==t[o])))return;const n=t.map(s=>e.lookup.get(s)).filter(s=>!!s);r.clear(),n.forEach(s=>r.push(s))}function Zt(r){const t={...r};return Object.keys(r).forEach(e=>{r[e]===null&&delete t[e]}),t}function Gc(r,t,e){if(!r)throw new Error("Can not instantiate base class: ol/layer/Layer");return r.setOpacity(t.opacity),r.setVisible(t.visible),r.setZIndex(t.zIndex||void 0),r.setMinZoom(t.minZoom||-1/0),r.setMaxZoom(t.maxZoom||1/0),r.setBackground(t.background||void 0),r}function BF(r,t,e){return r||(r=new hL(Zt({...t,source:e.lookup.get(t.source)}))),Gc(r,t),r.setSource(e.lookup.get(t.source)),r}function VF(r,t,e){return r||(r=new NF(Zt({...t,source:e.lookup.get(t.source)}))),Gc(r,t),r.setSource(e.lookup.get(t.source)),r}function GF(r,t,e){return r||(r=new $D(Zt({...t,source:e.lookup.get(t.source)}))),Gc(r,t),r.setSource(e.lookup.get(t.source)),r}const Ir={ADD:"add",REMOVE:"remove"};var Uy=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),Em={LENGTH:"length"},Vs=function(r){Uy(t,r);function t(e,i,n){var s=r.call(this,e)||this;return s.element=i,s.index=n,s}return t}(ir),HF=function(r){Uy(t,r);function t(e,i){var n=r.call(this)||this;n.on,n.once,n.un;var s=i||{};if(n.unique_=!!s.unique,n.array_=e||[],n.unique_)for(var o=0,a=n.array_.length;o<a;++o)n.assertUnique_(n.array_[o],o);return n.updateLength_(),n}return t.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},t.prototype.extend=function(e){for(var i=0,n=e.length;i<n;++i)this.push(e[i]);return this},t.prototype.forEach=function(e){for(var i=this.array_,n=0,s=i.length;n<s;++n)e(i[n],n,i)},t.prototype.getArray=function(){return this.array_},t.prototype.item=function(e){return this.array_[e]},t.prototype.getLength=function(){return this.get(Em.LENGTH)},t.prototype.insertAt=function(e,i){this.unique_&&this.assertUnique_(i),this.array_.splice(e,0,i),this.updateLength_(),this.dispatchEvent(new Vs(Ir.ADD,i,e))},t.prototype.pop=function(){return this.removeAt(this.getLength()-1)},t.prototype.push=function(e){this.unique_&&this.assertUnique_(e);var i=this.getLength();return this.insertAt(i,e),this.getLength()},t.prototype.remove=function(e){for(var i=this.array_,n=0,s=i.length;n<s;++n)if(i[n]===e)return this.removeAt(n)},t.prototype.removeAt=function(e){var i=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new Vs(Ir.REMOVE,i,e)),i},t.prototype.setAt=function(e,i){var n=this.getLength();if(e<n){this.unique_&&this.assertUnique_(i,e);var s=this.array_[e];this.array_[e]=i,this.dispatchEvent(new Vs(Ir.REMOVE,s,e)),this.dispatchEvent(new Vs(Ir.ADD,i,e))}else{for(var o=n;o<e;++o)this.insertAt(o,void 0);this.insertAt(e,i)}},t.prototype.updateLength_=function(){this.set(Em.LENGTH,this.array_.length)},t.prototype.assertUnique_=function(e,i){for(var n=0,s=this.array_.length;n<s;++n)if(this.array_[n]===e&&n!==i)throw new xg(58)},t}(rr);const Wy=HF;var _i="1.3.0",UF=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),WF=function(r){UF(t,r);function t(e,i,n,s,o,a,l){var h=this,u=e.getExtent(),c=i.getExtent(),d=c?Mr(n,c):n,f=Ci(d),p=qn(e,i,f,s),_=gy,m=new Cy(e,i,d,u,p*_,s),g=m.calculateSourceExtent(),y=a(g,p,o),b=y?ie.IDLE:ie.EMPTY,C=y?y.getPixelRatio():1;return h=r.call(this,n,s,C,b)||this,h.targetProj_=i,h.maxSourceExtent_=u,h.triangulation_=m,h.targetResolution_=s,h.targetExtent_=n,h.sourceImage_=y,h.sourcePixelRatio_=C,h.interpolate_=l,h.canvas_=null,h.sourceListenerKey_=null,h}return t.prototype.disposeInternal=function(){this.state==ie.LOADING&&this.unlistenSource_(),r.prototype.disposeInternal.call(this)},t.prototype.getImage=function(){return this.canvas_},t.prototype.getProjection=function(){return this.targetProj_},t.prototype.reproject_=function(){var e=this.sourceImage_.getState();if(e==ie.LOADED){var i=_e(this.targetExtent_)/this.targetResolution_,n=Ve(this.targetExtent_)/this.targetResolution_;this.canvas_=Ay(i,n,this.sourcePixelRatio_,this.sourceImage_.getResolution(),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0,void 0,this.interpolate_)}this.state=e,this.changed()},t.prototype.load=function(){if(this.state==ie.IDLE){this.state=ie.LOADING,this.changed();var e=this.sourceImage_.getState();e==ie.LOADED||e==ie.ERROR?this.reproject_():(this.sourceListenerKey_=At(this.sourceImage_,$e.CHANGE,function(i){var n=this.sourceImage_.getState();(n==ie.LOADED||n==ie.ERROR)&&(this.unlistenSource_(),this.reproject_())},this),this.sourceImage_.load())}},t.prototype.unlistenSource_=function(){ft(this.sourceListenerKey_),this.sourceListenerKey_=null},t}(wy);const YF=WF;var jF=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),qF=function(r){jF(t,r);function t(e){var i=r.call(this)||this;i.projection=Oe(e.projection),i.attributions_=Im(e.attributions),i.attributionsCollapsible_=e.attributionsCollapsible!==void 0?e.attributionsCollapsible:!0,i.loading=!1,i.state_=e.state!==void 0?e.state:gl.READY,i.wrapX_=e.wrapX!==void 0?e.wrapX:!1,i.interpolate_=!!e.interpolate,i.viewResolver=null,i.viewRejector=null;var n=i;return i.viewPromise_=new Promise(function(s,o){n.viewResolver=s,n.viewRejector=o}),i}return t.prototype.getAttributions=function(){return this.attributions_},t.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},t.prototype.getProjection=function(){return this.projection},t.prototype.getResolutions=function(){return se()},t.prototype.getView=function(){return this.viewPromise_},t.prototype.getState=function(){return this.state_},t.prototype.getWrapX=function(){return this.wrapX_},t.prototype.getInterpolate=function(){return this.interpolate_},t.prototype.refresh=function(){this.changed()},t.prototype.setAttributions=function(e){this.attributions_=Im(e),this.changed()},t.prototype.setState=function(e){this.state_=e,this.changed()},t}(rr);function Im(r){return r?Array.isArray(r)?function(t){return r}:typeof r=="function"?r:function(t){return[r]}:null}const Hc=qF;var Yy=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),Xl={IMAGELOADSTART:"imageloadstart",IMAGELOADEND:"imageloadend",IMAGELOADERROR:"imageloaderror"},XF=function(r){Yy(t,r);function t(e,i){var n=r.call(this,e)||this;return n.image=i,n}return t}(ir),KF=function(r){Yy(t,r);function t(e){var i=this,n=e.imageSmoothing!==void 0?e.imageSmoothing:!0;return e.interpolate!==void 0&&(n=e.interpolate),i=r.call(this,{attributions:e.attributions,projection:e.projection,state:e.state,interpolate:n})||this,i.on,i.once,i.un,i.resolutions_=e.resolutions!==void 0?e.resolutions:null,i.reprojectedImage_=null,i.reprojectedRevision_=0,i}return t.prototype.getResolutions=function(){return this.resolutions_},t.prototype.findNearestResolution=function(e){if(this.resolutions_){var i=_l(this.resolutions_,e,0);e=this.resolutions_[i]}return e},t.prototype.getImage=function(e,i,n,s){var o=this.getProjection();if(!bt||!o||!s||ui(o,s))return o&&(s=o),this.getImageInternal(e,i,n,s);if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&ui(this.reprojectedImage_.getProjection(),s)&&this.reprojectedImage_.getResolution()==i&&ll(this.reprojectedImage_.getExtent(),e))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new YF(o,s,e,i,n,function(a,l,h){return this.getImageInternal(a,l,h,o)}.bind(this),this.getInterpolate()),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_},t.prototype.getImageInternal=function(e,i,n,s){return se()},t.prototype.handleImageChange=function(e){var i=e.target,n;switch(i.getState()){case ie.LOADING:this.loading=!0,n=Xl.IMAGELOADSTART;break;case ie.LOADED:this.loading=!1,n=Xl.IMAGELOADEND;break;case ie.ERROR:this.loading=!1,n=Xl.IMAGELOADERROR;break;default:return}this.hasListener(n)&&this.dispatchEvent(new XF(n,i))},t}(Hc);function ZF(r,t){r.getImage().src=t}const QF=KF,mi={CARMENTA_SERVER:"carmentaserver",GEOSERVER:"geoserver",MAPSERVER:"mapserver",QGIS:"qgis"};function ja(r,t){var e=[];Object.keys(t).forEach(function(n){t[n]!==null&&t[n]!==void 0&&e.push(n+"="+encodeURIComponent(t[n]))});var i=e.join("&");return r=r.replace(/[?&]$/,""),r=r.indexOf("?")===-1?r+"?":r+"&",r+i}var JF=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),oi=4,Sm=[101,101],e2=function(r){JF(t,r);function t(e){var i=this,n=e||{},s=n.imageSmoothing!==void 0?n.imageSmoothing:!0;return n.interpolate!==void 0&&(s=n.interpolate),i=r.call(this,{attributions:n.attributions,interpolate:s,projection:n.projection,resolutions:n.resolutions})||this,i.crossOrigin_=n.crossOrigin!==void 0?n.crossOrigin:null,i.url_=n.url,i.imageLoadFunction_=n.imageLoadFunction!==void 0?n.imageLoadFunction:ZF,i.params_=n.params||{},i.v13_=!0,i.updateV13_(),i.serverType_=n.serverType,i.hidpi_=n.hidpi!==void 0?n.hidpi:!0,i.image_=null,i.imageSize_=[0,0],i.renderedRevision_=0,i.ratio_=n.ratio!==void 0?n.ratio:1.5,i}return t.prototype.getFeatureInfoUrl=function(e,i,n,s){if(this.url_!==void 0){var o=Oe(n),a=this.getProjection();a&&a!==o&&(i=qn(a,o,e,i),e=os(e,o,a));var l=Ro(e,i,0,Sm),h={SERVICE:"WMS",VERSION:_i,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};ge(h,this.params_,s);var u=yr((e[0]-l[0])/i,oi),c=yr((l[3]-e[1])/i,oi);return h[this.v13_?"I":"X"]=u,h[this.v13_?"J":"Y"]=c,this.getRequestUrl_(l,Sm,1,a||o,h)}},t.prototype.getLegendUrl=function(e,i){if(this.url_!==void 0){var n={SERVICE:"WMS",VERSION:_i,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(i===void 0||i.LAYER===void 0){var s=this.params_.LAYERS,o=!Array.isArray(s)||s.length===1;if(!o)return;n.LAYER=s}if(e!==void 0){var a=this.getProjection()?this.getProjection().getMetersPerUnit():1,l=28e-5;n.SCALE=e*a/l}return ge(n,i),ja(this.url_,n)}},t.prototype.getParams=function(){return this.params_},t.prototype.getImageInternal=function(e,i,n,s){if(this.url_===void 0)return null;i=this.findNearestResolution(i),n!=1&&(!this.hidpi_||this.serverType_===void 0)&&(n=1);var o=i/n,a=Ci(e),l=di(_e(e)/o,oi),h=di(Ve(e)/o,oi),u=Ro(a,o,0,[l,h]),c=di(this.ratio_*_e(e)/o,oi),d=di(this.ratio_*Ve(e)/o,oi),f=Ro(a,o,0,[c,d]),p=this.image_;if(p&&this.renderedRevision_==this.getRevision()&&p.getResolution()==i&&p.getPixelRatio()==n&&fi(p.getExtent(),u))return p;var _={SERVICE:"WMS",VERSION:_i,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};ge(_,this.params_),this.imageSize_[0]=w_(_e(f)/o,oi),this.imageSize_[1]=w_(Ve(f)/o,oi);var m=this.getRequestUrl_(f,this.imageSize_,n,s,_);return this.image_=new jD(f,i,n,m,this.crossOrigin_,this.imageLoadFunction_),this.renderedRevision_=this.getRevision(),this.image_.addEventListener($e.CHANGE,this.handleImageChange.bind(this)),this.image_},t.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_},t.prototype.getRequestUrl_=function(e,i,n,s,o){if(oe(this.url_!==void 0,9),o[this.v13_?"CRS":"SRS"]=s.getCode(),"STYLES"in this.params_||(o.STYLES=""),n!=1)switch(this.serverType_){case mi.GEOSERVER:var a=90*n+.5|0;"FORMAT_OPTIONS"in o?o.FORMAT_OPTIONS+=";dpi:"+a:o.FORMAT_OPTIONS="dpi:"+a;break;case mi.MAPSERVER:o.MAP_RESOLUTION=90*n;break;case mi.CARMENTA_SERVER:case mi.QGIS:o.DPI=90*n;break;default:oe(!1,8);break}o.WIDTH=i[0],o.HEIGHT=i[1];var l=s.getAxisOrientation(),h;return this.v13_&&l.substr(0,2)=="ne"?h=[e[1],e[0],e[3],e[2]]:h=e,o.BBOX=h.join(","),ja(this.url_,o)},t.prototype.getUrl=function(){return this.url_},t.prototype.setImageLoadFunction=function(e){this.image_=null,this.imageLoadFunction_=e,this.changed()},t.prototype.setUrl=function(e){e!=this.url_&&(this.url_=e,this.image_=null,this.changed())},t.prototype.updateParams=function(e){ge(this.params_,e),this.updateV13_(),this.image_=null,this.changed()},t.prototype.updateV13_=function(){var e=this.params_.VERSION||_i;this.v13_=Sg(e,"1.3")>=0},t}(QF);const t2=e2;var i2=function(){function r(t){this.highWaterMark=t!==void 0?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return r.prototype.canExpireCache=function(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark},r.prototype.expireCache=function(t){for(;this.canExpireCache();)this.pop()},r.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null},r.prototype.containsKey=function(t){return this.entries_.hasOwnProperty(t)},r.prototype.forEach=function(t){for(var e=this.oldest_;e;)t(e.value_,e.key_,this),e=e.newer},r.prototype.get=function(t,e){var i=this.entries_[t];return oe(i!==void 0,15),i===this.newest_||(i===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(i.newer.older=i.older,i.older.newer=i.newer),i.newer=null,i.older=this.newest_,this.newest_.newer=i,this.newest_=i),i.value_},r.prototype.remove=function(t){var e=this.entries_[t];return oe(e!==void 0,15),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[t],--this.count_,e.value_},r.prototype.getCount=function(){return this.count_},r.prototype.getKeys=function(){var t=new Array(this.count_),e=0,i;for(i=this.newest_;i;i=i.older)t[e++]=i.key_;return t},r.prototype.getValues=function(){var t=new Array(this.count_),e=0,i;for(i=this.newest_;i;i=i.older)t[e++]=i.value_;return t},r.prototype.peekLast=function(){return this.oldest_.value_},r.prototype.peekLastKey=function(){return this.oldest_.key_},r.prototype.peekFirstKey=function(){return this.newest_.key_},r.prototype.pop=function(){var t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_},r.prototype.replace=function(t,e){this.get(t),this.entries_[t].value_=e},r.prototype.set=function(t,e){oe(!(t in this.entries_),16);var i={key_:t,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=i:this.oldest_=i,this.newest_=i,this.entries_[t]=i,++this.count_},r.prototype.setSize=function(t){this.highWaterMark=t},r}();const r2=i2;function Tm(r,t,e,i){return i!==void 0?(i[0]=r,i[1]=t,i[2]=e,i):[r,t,e]}function yl(r,t,e){return r+"/"+t+"/"+e}function jy(r){return yl(r[0],r[1],r[2])}function n2(r){return r.split("/").map(Number)}function qy(r){return(r[1]<<r[0])+r[2]}function s2(r,t){var e=r[0],i=r[1],n=r[2];if(t.getMinZoom()>e||e>t.getMaxZoom())return!1;var s=t.getFullTileRange(e);return s?s.containsXY(i,n):!0}var o2=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),a2=function(r){o2(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.expireCache=function(e){for(;this.canExpireCache();){var i=this.peekLast();if(i.getKey()in e)break;this.pop().release()}},t.prototype.pruneExceptNewestZ=function(){if(this.getCount()!==0){var e=this.peekFirstKey(),i=n2(e),n=i[0];this.forEach(function(s){s.tileCoord[0]!==n&&(this.remove(jy(s.tileCoord)),s.release())}.bind(this))}},t}(r2);const Xy=a2,Kl={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};var l2=[0,0,0],ai=5,h2=function(){function r(t){this.minZoom=t.minZoom!==void 0?t.minZoom:0,this.resolutions_=t.resolutions,oe(tk(this.resolutions_,function(o,a){return a-o},!0),17);var e;if(!t.origins){for(var i=0,n=this.resolutions_.length-1;i<n;++i)if(!e)e=this.resolutions_[i]/this.resolutions_[i+1];else if(this.resolutions_[i]/this.resolutions_[i+1]!==e){e=void 0;break}}this.zoomFactor_=e,this.maxZoom=this.resolutions_.length-1,this.origin_=t.origin!==void 0?t.origin:null,this.origins_=null,t.origins!==void 0&&(this.origins_=t.origins,oe(this.origins_.length==this.resolutions_.length,20));var s=t.extent;s!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=tr(s)),oe(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,t.tileSizes!==void 0&&(this.tileSizes_=t.tileSizes,oe(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=t.tileSize!==void 0?t.tileSize:this.tileSizes_?null:Fc,oe(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=s!==void 0?s:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],t.sizes!==void 0?this.fullTileRanges_=t.sizes.map(function(o,a){var l=new Sy(Math.min(0,o[0]),Math.max(o[0]-1,-1),Math.min(0,o[1]),Math.max(o[1]-1,-1));if(s){var h=this.getTileRangeForExtentAndZ(s,a);l.minX=Math.max(h.minX,l.minX),l.maxX=Math.min(h.maxX,l.maxX),l.minY=Math.max(h.minY,l.minY),l.maxY=Math.min(h.maxY,l.maxY)}return l},this):s&&this.calculateTileRanges_(s)}return r.prototype.forEachTileCoord=function(t,e,i){for(var n=this.getTileRangeForExtentAndZ(t,e),s=n.minX,o=n.maxX;s<=o;++s)for(var a=n.minY,l=n.maxY;a<=l;++a)i([e,s,a])},r.prototype.forEachTileCoordParentTileRange=function(t,e,i,n){var s,o,a,l=null,h=t[0]-1;for(this.zoomFactor_===2?(o=t[1],a=t[2]):l=this.getTileCoordExtent(t,n);h>=this.minZoom;){if(this.zoomFactor_===2?(o=Math.floor(o/2),a=Math.floor(a/2),s=cr(o,o,a,a,i)):s=this.getTileRangeForExtentAndZ(l,h,i),e(h,s))return!0;--h}return!1},r.prototype.getExtent=function(){return this.extent_},r.prototype.getMaxZoom=function(){return this.maxZoom},r.prototype.getMinZoom=function(){return this.minZoom},r.prototype.getOrigin=function(t){return this.origin_?this.origin_:this.origins_[t]},r.prototype.getResolution=function(t){return this.resolutions_[t]},r.prototype.getResolutions=function(){return this.resolutions_},r.prototype.getTileCoordChildTileRange=function(t,e,i){if(t[0]<this.maxZoom){if(this.zoomFactor_===2){var n=t[1]*2,s=t[2]*2;return cr(n,n+1,s,s+1,e)}var o=this.getTileCoordExtent(t,i||this.tmpExtent_);return this.getTileRangeForExtentAndZ(o,t[0]+1,e)}return null},r.prototype.getTileRangeForTileCoordAndZ=function(t,e,i){if(e>this.maxZoom||e<this.minZoom)return null;var n=t[0],s=t[1],o=t[2];if(e===n)return cr(s,o,s,o,i);if(this.zoomFactor_){var a=Math.pow(this.zoomFactor_,e-n),l=Math.floor(s*a),h=Math.floor(o*a);if(e<n)return cr(l,l,h,h,i);var u=Math.floor(a*(s+1))-1,c=Math.floor(a*(o+1))-1;return cr(l,u,h,c,i)}var d=this.getTileCoordExtent(t,this.tmpExtent_);return this.getTileRangeForExtentAndZ(d,e,i)},r.prototype.getTileRangeExtent=function(t,e,i){var n=this.getOrigin(t),s=this.getResolution(t),o=st(this.getTileSize(t),this.tmpSize_),a=n[0]+e.minX*o[0]*s,l=n[0]+(e.maxX+1)*o[0]*s,h=n[1]+e.minY*o[1]*s,u=n[1]+(e.maxY+1)*o[1]*s;return Lt(a,h,l,u,i)},r.prototype.getTileRangeForExtentAndZ=function(t,e,i){var n=l2;this.getTileCoordForXYAndZ_(t[0],t[3],e,!1,n);var s=n[1],o=n[2];return this.getTileCoordForXYAndZ_(t[2],t[1],e,!0,n),cr(s,n[1],o,n[2],i)},r.prototype.getTileCoordCenter=function(t){var e=this.getOrigin(t[0]),i=this.getResolution(t[0]),n=st(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*n[0]*i,e[1]-(t[2]+.5)*n[1]*i]},r.prototype.getTileCoordExtent=function(t,e){var i=this.getOrigin(t[0]),n=this.getResolution(t[0]),s=st(this.getTileSize(t[0]),this.tmpSize_),o=i[0]+t[1]*s[0]*n,a=i[1]-(t[2]+1)*s[1]*n,l=o+s[0]*n,h=a+s[1]*n;return Lt(o,a,l,h,e)},r.prototype.getTileCoordForCoordAndResolution=function(t,e,i){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,i)},r.prototype.getTileCoordForXYAndResolution_=function(t,e,i,n,s){var o=this.getZForResolution(i),a=i/this.getResolution(o),l=this.getOrigin(o),h=st(this.getTileSize(o),this.tmpSize_),u=a*(t-l[0])/i/h[0],c=a*(l[1]-e)/i/h[1];return n?(u=di(u,ai)-1,c=di(c,ai)-1):(u=yr(u,ai),c=yr(c,ai)),Tm(o,u,c,s)},r.prototype.getTileCoordForXYAndZ_=function(t,e,i,n,s){var o=this.getOrigin(i),a=this.getResolution(i),l=st(this.getTileSize(i),this.tmpSize_),h=(t-o[0])/a/l[0],u=(o[1]-e)/a/l[1];return n?(h=di(h,ai)-1,u=di(u,ai)-1):(h=yr(h,ai),u=yr(u,ai)),Tm(i,h,u,s)},r.prototype.getTileCoordForCoordAndZ=function(t,e,i){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,i)},r.prototype.getTileCoordResolution=function(t){return this.resolutions_[t[0]]},r.prototype.getTileSize=function(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]},r.prototype.getFullTileRange=function(t){return this.fullTileRanges_?this.fullTileRanges_[t]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,t):null},r.prototype.getZForResolution=function(t,e){var i=_l(this.resolutions_,t,e||0);return Te(i,this.minZoom,this.maxZoom)},r.prototype.calculateTileRanges_=function(t){for(var e=this.resolutions_.length,i=new Array(e),n=this.minZoom;n<e;++n)i[n]=this.getTileRangeForExtentAndZ(t,n);this.fullTileRanges_=i},r}();const Ky=h2;function Zy(r){var t=r.getDefaultTileGrid();return t||(t=f2(r),r.setDefaultTileGrid(t)),t}function u2(r,t,e){var i=t[0],n=r.getTileCoordCenter(t),s=Uc(e);if(Xr(s,n))return t;var o=_e(s),a=Math.ceil((s[0]-n[0])/o);return n[0]+=o*a,r.getTileCoordForCoordAndZ(n,i)}function c2(r,t,e,i){var n=i!==void 0?i:bn.TOP_LEFT,s=Qy(r,t,e);return new Ky({extent:r,origin:rT(r,n),resolutions:s,tileSize:e})}function d2(r){var t=r||{},e=t.extent||Oe("EPSG:3857").getExtent(),i={extent:e,minZoom:t.minZoom,tileSize:t.tileSize,resolutions:Qy(e,t.maxZoom,t.tileSize,t.maxResolution)};return new Ky(i)}function Qy(r,t,e,i){for(var n=t!==void 0?t:Rk,s=Ve(r),o=_e(r),a=st(e!==void 0?e:Fc),l=i>0?i:Math.max(o/a[0],s/a[1]),h=n+1,u=new Array(h),c=0;c<h;++c)u[c]=l/Math.pow(2,c);return u}function f2(r,t,e,i){var n=Uc(r);return c2(n,t,e,i)}function Uc(r){r=Oe(r);var t=r.getExtent();if(!t){var e=180*pt[Yt.DEGREES]/r.getMetersPerUnit();t=Lt(-e,-e,e,e)}return t}var Jy=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),p2=function(r){Jy(t,r);function t(e){var i=r.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate})||this;i.on,i.once,i.un,i.opaque_=e.opaque!==void 0?e.opaque:!1,i.tilePixelRatio_=e.tilePixelRatio!==void 0?e.tilePixelRatio:1,i.tileGrid=e.tileGrid!==void 0?e.tileGrid:null;var n=[256,256];return i.tileGrid&&st(i.tileGrid.getTileSize(i.tileGrid.getMinZoom()),n),i.tileCache=new Xy(e.cacheSize||0),i.tmpSize=[0,0],i.key_=e.key||"",i.tileOptions={transition:e.transition,interpolate:e.interpolate},i.zDirection=e.zDirection?e.zDirection:0,i}return t.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},t.prototype.expireCache=function(e,i){var n=this.getTileCacheForProjection(e);n&&n.expireCache(i)},t.prototype.forEachLoadedTile=function(e,i,n,s){var o=this.getTileCacheForProjection(e);if(!o)return!1;for(var a=!0,l,h,u,c=n.minX;c<=n.maxX;++c)for(var d=n.minY;d<=n.maxY;++d)h=yl(i,c,d),u=!1,o.containsKey(h)&&(l=o.get(h),u=l.getState()===Z.LOADED,u&&(u=s(l)!==!1)),u||(a=!1);return a},t.prototype.getGutterForProjection=function(e){return 0},t.prototype.getKey=function(){return this.key_},t.prototype.setKey=function(e){this.key_!==e&&(this.key_=e,this.changed())},t.prototype.getOpaque=function(e){return this.opaque_},t.prototype.getResolutions=function(){return this.tileGrid?this.tileGrid.getResolutions():null},t.prototype.getTile=function(e,i,n,s,o){return se()},t.prototype.getTileGrid=function(){return this.tileGrid},t.prototype.getTileGridForProjection=function(e){return this.tileGrid?this.tileGrid:Zy(e)},t.prototype.getTileCacheForProjection=function(e){return oe(ui(this.getProjection(),e),68),this.tileCache},t.prototype.getTilePixelRatio=function(e){return this.tilePixelRatio_},t.prototype.getTilePixelSize=function(e,i,n){var s=this.getTileGridForProjection(n),o=this.getTilePixelRatio(i),a=st(s.getTileSize(e),this.tmpSize);return o==1?a:My(a,o,this.tmpSize)},t.prototype.getTileCoordForTileUrlFunction=function(e,i){var n=i!==void 0?i:this.getProjection(),s=this.getTileGridForProjection(n);return this.getWrapX()&&n.isGlobal()&&(e=u2(s,e,n)),s2(e,s)?e:null},t.prototype.clear=function(){this.tileCache.clear()},t.prototype.refresh=function(){this.clear(),r.prototype.refresh.call(this)},t.prototype.updateCacheSize=function(e,i){var n=this.getTileCacheForProjection(i);e>n.highWaterMark&&(n.highWaterMark=e)},t.prototype.useTile=function(e,i,n,s){},t}(Hc),_2=function(r){Jy(t,r);function t(e,i){var n=r.call(this,e)||this;return n.tile=i,n}return t}(ir);const m2=p2;function v2(r,t){var e=/\{z\}/g,i=/\{x\}/g,n=/\{y\}/g,s=/\{-y\}/g;return function(o,a,l){if(o)return r.replace(e,o[0].toString()).replace(i,o[1].toString()).replace(n,o[2].toString()).replace(s,function(){var h=o[0],u=t.getFullTileRange(h);oe(u,55);var c=u.getHeight()-o[2]-1;return c.toString()})}}function g2(r,t){for(var e=r.length,i=new Array(e),n=0;n<e;++n)i[n]=v2(r[n],t);return y2(i)}function y2(r){return r.length===1?r[0]:function(t,e,i){if(t){var n=qy(t),s=Wi(n,r.length);return r[s](t,e,i)}else return}}function b2(r){var t=[],e=/\{([a-z])-([a-z])\}/.exec(r);if(e){var i=e[1].charCodeAt(0),n=e[2].charCodeAt(0),s=void 0;for(s=i;s<=n;++s)t.push(r.replace(e[0],String.fromCharCode(s)));return t}if(e=/\{(\d+)-(\d+)\}/.exec(r),e){for(var o=parseInt(e[2],10),a=parseInt(e[1],10);a<=o;a++)t.push(r.replace(e[0],a.toString()));return t}return t.push(r),t}var w2=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),x2=function(r){w2(t,r);function t(e){var i=r.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection})||this;return i.generateTileUrlFunction_=i.tileUrlFunction===t.prototype.tileUrlFunction,i.tileLoadFunction=e.tileLoadFunction,e.tileUrlFunction&&(i.tileUrlFunction=e.tileUrlFunction),i.urls=null,e.urls?i.setUrls(e.urls):e.url&&i.setUrl(e.url),i.tileLoadingKeys_={},i}return t.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},t.prototype.getTileUrlFunction=function(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction},t.prototype.getUrls=function(){return this.urls},t.prototype.handleTileChange=function(e){var i=e.target,n=pe(i),s=i.getState(),o;s==Z.LOADING?(this.tileLoadingKeys_[n]=!0,o=Kl.TILELOADSTART):n in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[n],o=s==Z.ERROR?Kl.TILELOADERROR:s==Z.LOADED?Kl.TILELOADEND:void 0),o!=null&&this.dispatchEvent(new _2(o,i))},t.prototype.setTileLoadFunction=function(e){this.tileCache.clear(),this.tileLoadFunction=e,this.changed()},t.prototype.setTileUrlFunction=function(e,i){this.tileUrlFunction=e,this.tileCache.pruneExceptNewestZ(),typeof i<"u"?this.setKey(i):this.changed()},t.prototype.setUrl=function(e){var i=b2(e);this.urls=i,this.setUrls(i)},t.prototype.setUrls=function(e){this.urls=e;var i=e.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(g2(e,this.tileGrid),i):this.setKey(i)},t.prototype.tileUrlFunction=function(e,i,n){},t.prototype.useTile=function(e,i,n){var s=yl(e,i,n);this.tileCache.containsKey(s)&&this.tileCache.get(s)},t}(m2);const C2=x2;var A2=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),E2=function(r){A2(t,r);function t(e){var i=this,n=e.imageSmoothing!==void 0?e.imageSmoothing:!0;return e.interpolate!==void 0&&(n=e.interpolate),i=r.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:I2,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:n,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection})||this,i.crossOrigin=e.crossOrigin!==void 0?e.crossOrigin:null,i.tileClass=e.tileClass!==void 0?e.tileClass:xy,i.tileCacheForProjection={},i.tileGridForProjection={},i.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,i.renderReprojectionEdges_=!1,i}return t.prototype.canExpireCache=function(){if(!bt)return r.prototype.canExpireCache.call(this);if(this.tileCache.canExpireCache())return!0;for(var e in this.tileCacheForProjection)if(this.tileCacheForProjection[e].canExpireCache())return!0;return!1},t.prototype.expireCache=function(e,i){if(!bt){r.prototype.expireCache.call(this,e,i);return}var n=this.getTileCacheForProjection(e);this.tileCache.expireCache(this.tileCache==n?i:{});for(var s in this.tileCacheForProjection){var o=this.tileCacheForProjection[s];o.expireCache(o==n?i:{})}},t.prototype.getGutterForProjection=function(e){return bt&&this.getProjection()&&e&&!ui(this.getProjection(),e)?0:this.getGutter()},t.prototype.getGutter=function(){return 0},t.prototype.getKey=function(){var e=r.prototype.getKey.call(this);return this.getInterpolate()||(e+=":disable-interpolation"),e},t.prototype.getOpaque=function(e){return bt&&this.getProjection()&&e&&!ui(this.getProjection(),e)?!1:r.prototype.getOpaque.call(this,e)},t.prototype.getTileGridForProjection=function(e){if(!bt)return r.prototype.getTileGridForProjection.call(this,e);var i=this.getProjection();if(this.tileGrid&&(!i||ui(i,e)))return this.tileGrid;var n=pe(e);return n in this.tileGridForProjection||(this.tileGridForProjection[n]=Zy(e)),this.tileGridForProjection[n]},t.prototype.getTileCacheForProjection=function(e){if(!bt)return r.prototype.getTileCacheForProjection.call(this,e);var i=this.getProjection();if(!i||ui(i,e))return this.tileCache;var n=pe(e);return n in this.tileCacheForProjection||(this.tileCacheForProjection[n]=new Xy(this.tileCache.highWaterMark)),this.tileCacheForProjection[n]},t.prototype.createTile_=function(e,i,n,s,o,a){var l=[e,i,n],h=this.getTileCoordForTileUrlFunction(l,o),u=h?this.tileUrlFunction(h,s,o):void 0,c=new this.tileClass(l,u!==void 0?Z.IDLE:Z.EMPTY,u!==void 0?u:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return c.key=a,c.addEventListener($e.CHANGE,this.handleTileChange.bind(this)),c},t.prototype.getTile=function(e,i,n,s,o){var a=this.getProjection();if(!bt||!a||!o||ui(a,o))return this.getTileInternal(e,i,n,s,a||o);var l=this.getTileCacheForProjection(o),h=[e,i,n],u=void 0,c=jy(h);l.containsKey(c)&&(u=l.get(c));var d=this.getKey();if(u&&u.key==d)return u;var f=this.getTileGridForProjection(a),p=this.getTileGridForProjection(o),_=this.getTileCoordForTileUrlFunction(h,o),m=new Ey(a,f,o,p,h,_,this.getTilePixelRatio(s),this.getGutter(),function(g,y,b,C){return this.getTileInternal(g,y,b,C,a)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.getInterpolate());return m.key=d,u?(m.interimTile=u,m.refreshInterimChain(),l.replace(c,m)):l.set(c,m),m},t.prototype.getTileInternal=function(e,i,n,s,o){var a=null,l=yl(e,i,n),h=this.getKey();if(!this.tileCache.containsKey(l))a=this.createTile_(e,i,n,s,o,h),this.tileCache.set(l,a);else if(a=this.tileCache.get(l),a.key!=h){var u=a;a=this.createTile_(e,i,n,s,o,h),u.getState()==Z.IDLE?a.interimTile=u.interimTile:a.interimTile=u,a.refreshInterimChain(),this.tileCache.replace(l,a)}return a},t.prototype.setRenderReprojectionEdges=function(e){if(!(!bt||this.renderReprojectionEdges_==e)){this.renderReprojectionEdges_=e;for(var i in this.tileCacheForProjection)this.tileCacheForProjection[i].clear();this.changed()}},t.prototype.setTileGridForProjection=function(e,i){if(bt){var n=Oe(e);if(n){var s=pe(n);s in this.tileGridForProjection||(this.tileGridForProjection[s]=i)}}},t}(C2);function I2(r,t){r.getImage().src=t}const eb=E2;var S2=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),T2=function(r){S2(t,r);function t(e){var i=e||{},n=i.imageSmoothing!==void 0?i.imageSmoothing:!0;i.interpolate!==void 0&&(n=i.interpolate);var s=i.projection!==void 0?i.projection:"EPSG:3857",o=i.tileGrid!==void 0?i.tileGrid:d2({extent:Uc(s),maxResolution:i.maxResolution,maxZoom:i.maxZoom,minZoom:i.minZoom,tileSize:i.tileSize});return r.call(this,{attributions:i.attributions,cacheSize:i.cacheSize,crossOrigin:i.crossOrigin,interpolate:n,opaque:i.opaque,projection:s,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileGrid:o,tileLoadFunction:i.tileLoadFunction,tilePixelRatio:i.tilePixelRatio,tileUrlFunction:i.tileUrlFunction,url:i.url,urls:i.urls,wrapX:i.wrapX!==void 0?i.wrapX:!0,transition:i.transition,attributionsCollapsible:i.attributionsCollapsible,zDirection:i.zDirection})||this}return t}(eb);const tb=T2;var O2=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),ib='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.',M2=function(r){O2(t,r);function t(e){var i=e||{},n=i.imageSmoothing!==void 0?i.imageSmoothing:!0;i.interpolate!==void 0&&(n=i.interpolate);var s;i.attributions!==void 0?s=i.attributions:s=[ib];var o=i.crossOrigin!==void 0?i.crossOrigin:"anonymous",a=i.url!==void 0?i.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png";return r.call(this,{attributions:s,attributionsCollapsible:!1,cacheSize:i.cacheSize,crossOrigin:o,interpolate:n,maxZoom:i.maxZoom!==void 0?i.maxZoom:19,opaque:i.opaque!==void 0?i.opaque:!0,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileLoadFunction:i.tileLoadFunction,transition:i.transition,url:a,wrapX:i.wrapX,zDirection:i.zDirection})||this}return t}(tb);const R2=M2;var P2=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),k2=function(r){P2(t,r);function t(e){var i=this,n=e||{},s=n.imageSmoothing!==void 0?n.imageSmoothing:!0;n.interpolate!==void 0&&(s=n.interpolate);var o=n.params||{},a="TRANSPARENT"in o?o.TRANSPARENT:!0;return i=r.call(this,{attributions:n.attributions,attributionsCollapsible:n.attributionsCollapsible,cacheSize:n.cacheSize,crossOrigin:n.crossOrigin,interpolate:s,opaque:!a,projection:n.projection,reprojectionErrorThreshold:n.reprojectionErrorThreshold,tileClass:n.tileClass,tileGrid:n.tileGrid,tileLoadFunction:n.tileLoadFunction,url:n.url,urls:n.urls,wrapX:n.wrapX!==void 0?n.wrapX:!0,transition:n.transition,zDirection:n.zDirection})||this,i.gutter_=n.gutter!==void 0?n.gutter:0,i.params_=o,i.v13_=!0,i.serverType_=n.serverType,i.hidpi_=n.hidpi!==void 0?n.hidpi:!0,i.tmpExtent_=_t(),i.updateV13_(),i.setKey(i.getKeyForParams_()),i}return t.prototype.getFeatureInfoUrl=function(e,i,n,s){var o=Oe(n),a=this.getProjection(),l=this.getTileGrid();l||(l=this.getTileGridForProjection(o));var h=l.getZForResolution(i,this.zDirection),u=l.getTileCoordForCoordAndZ(e,h);if(!(l.getResolutions().length<=u[0])){var c=l.getResolution(u[0]),d=l.getTileCoordExtent(u,this.tmpExtent_),f=st(l.getTileSize(u[0]),this.tmpSize),p=this.gutter_;p!==0&&(f=cm(f,p,this.tmpSize),d=Gn(d,c*p,d)),a&&a!==o&&(c=qn(a,o,e,c),d=Sc(d,o,a),e=os(e,o,a));var _={SERVICE:"WMS",VERSION:_i,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};ge(_,this.params_,s);var m=Math.floor((e[0]-d[0])/c),g=Math.floor((d[3]-e[1])/c);return _[this.v13_?"I":"X"]=m,_[this.v13_?"J":"Y"]=g,this.getRequestUrl_(u,f,d,1,a||o,_)}},t.prototype.getLegendUrl=function(e,i){if(this.urls[0]!==void 0){var n={SERVICE:"WMS",VERSION:_i,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(i===void 0||i.LAYER===void 0){var s=this.params_.LAYERS,o=!Array.isArray(s)||s.length===1;if(!o)return;n.LAYER=s}if(e!==void 0){var a=this.getProjection()?this.getProjection().getMetersPerUnit():1,l=28e-5;n.SCALE=e*a/l}return ge(n,i),ja(this.urls[0],n)}},t.prototype.getGutter=function(){return this.gutter_},t.prototype.getParams=function(){return this.params_},t.prototype.getRequestUrl_=function(e,i,n,s,o,a){var l=this.urls;if(!!l){if(a.WIDTH=i[0],a.HEIGHT=i[1],a[this.v13_?"CRS":"SRS"]=o.getCode(),"STYLES"in this.params_||(a.STYLES=""),s!=1)switch(this.serverType_){case mi.GEOSERVER:var h=90*s+.5|0;"FORMAT_OPTIONS"in a?a.FORMAT_OPTIONS+=";dpi:"+h:a.FORMAT_OPTIONS="dpi:"+h;break;case mi.MAPSERVER:a.MAP_RESOLUTION=90*s;break;case mi.CARMENTA_SERVER:case mi.QGIS:a.DPI=90*s;break;default:oe(!1,52);break}var u=o.getAxisOrientation(),c=n;if(this.v13_&&u.substr(0,2)=="ne"){var d=void 0;d=n[0],c[0]=n[1],c[1]=d,d=n[2],c[2]=n[3],c[3]=d}a.BBOX=c.join(",");var f;if(l.length==1)f=l[0];else{var p=Wi(qy(e),l.length);f=l[p]}return ja(f,a)}},t.prototype.getTilePixelRatio=function(e){return!this.hidpi_||this.serverType_===void 0?1:e},t.prototype.getKeyForParams_=function(){var e=0,i=[];for(var n in this.params_)i[e++]=n+"-"+this.params_[n];return i.join("/")},t.prototype.updateParams=function(e){ge(this.params_,e),this.updateV13_(),this.setKey(this.getKeyForParams_())},t.prototype.updateV13_=function(){var e=this.params_.VERSION||_i;this.v13_=Sg(e,"1.3")>=0},t.prototype.tileUrlFunction=function(e,i,n){var s=this.getTileGrid();if(s||(s=this.getTileGridForProjection(n)),!(s.getResolutions().length<=e[0])){i!=1&&(!this.hidpi_||this.serverType_===void 0)&&(i=1);var o=s.getResolution(e[0]),a=s.getTileCoordExtent(e,this.tmpExtent_),l=st(s.getTileSize(e[0]),this.tmpSize),h=this.gutter_;h!==0&&(l=cm(l,h,this.tmpSize),a=Gn(a,o*h,a)),i!=1&&(l=My(l,i,this.tmpSize));var u={SERVICE:"WMS",VERSION:_i,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};return ge(u,this.params_),this.getRequestUrl_(e,l,a,i,n,u)}},t}(eb);const D2=k2;var L2=function(){function r(t){this.rbush_=new Py(t),this.items_={}}return r.prototype.insert=function(t,e){var i={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};this.rbush_.insert(i),this.items_[pe(e)]=i},r.prototype.load=function(t,e){for(var i=new Array(e.length),n=0,s=e.length;n<s;n++){var o=t[n],a=e[n],l={minX:o[0],minY:o[1],maxX:o[2],maxY:o[3],value:a};i[n]=l,this.items_[pe(a)]=l}this.rbush_.load(i)},r.prototype.remove=function(t){var e=pe(t),i=this.items_[e];return delete this.items_[e],this.rbush_.remove(i)!==null},r.prototype.update=function(t,e){var i=this.items_[pe(e)],n=[i.minX,i.minY,i.maxX,i.maxY];ll(n,t)||(this.remove(e),this.insert(t,e))},r.prototype.getAll=function(){var t=this.rbush_.all();return t.map(function(e){return e.value})},r.prototype.getInExtent=function(t){var e={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]},i=this.rbush_.search(e);return i.map(function(n){return n.value})},r.prototype.forEach=function(t){return this.forEach_(this.getAll(),t)},r.prototype.forEachInExtent=function(t,e){return this.forEach_(this.getInExtent(t),e)},r.prototype.forEach_=function(t,e){for(var i,n=0,s=t.length;n<s;n++)if(i=e(t[n]),i)return i;return i},r.prototype.isEmpty=function(){return Vn(this.items_)},r.prototype.clear=function(){this.rbush_.clear(),this.items_={}},r.prototype.getExtent=function(t){var e=this.rbush_.toJSON();return Lt(e.minX,e.minY,e.maxX,e.maxY,t)},r.prototype.concat=function(t){this.rbush_.load(t.rbush_.all());for(var e in t.items_)this.items_[e]=t.items_[e]},r}();const Om=L2,yt={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};function F2(r,t){return[[-1/0,-1/0,1/0,1/0]]}const vn={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"};var $2=!1;function N2(r,t,e,i,n,s,o){var a=new XMLHttpRequest;a.open("GET",typeof r=="function"?r(e,i,n):r,!0),t.getType()==vn.ARRAY_BUFFER&&(a.responseType="arraybuffer"),a.withCredentials=$2,a.onload=function(l){if(!a.status||a.status>=200&&a.status<300){var h=t.getType(),u=void 0;h==vn.JSON||h==vn.TEXT?u=a.responseText:h==vn.XML?(u=a.responseXML,u||(u=new DOMParser().parseFromString(a.responseText,"application/xml"))):h==vn.ARRAY_BUFFER&&(u=a.response),u?s(t.readFeatures(u,{extent:e,featureProjection:n}),t.readProjection(u)):o()}else o()},a.onerror=o,a.send()}function Mm(r,t){return function(e,i,n,s,o){var a=this;N2(r,t,e,i,n,function(l,h){a.addFeatures(l),s!==void 0&&s(l)},o||jn)}}var rb=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),li=function(r){rb(t,r);function t(e,i,n){var s=r.call(this,e)||this;return s.feature=i,s.features=n,s}return t}(ir),z2=function(r){rb(t,r);function t(e){var i=this,n=e||{};i=r.call(this,{attributions:n.attributions,interpolate:!0,projection:void 0,state:gl.READY,wrapX:n.wrapX!==void 0?n.wrapX:!0})||this,i.on,i.once,i.un,i.loader_=jn,i.format_=n.format,i.overlaps_=n.overlaps===void 0?!0:n.overlaps,i.url_=n.url,n.loader!==void 0?i.loader_=n.loader:i.url_!==void 0&&(oe(i.format_,7),i.loader_=Mm(i.url_,i.format_)),i.strategy_=n.strategy!==void 0?n.strategy:F2;var s=n.useSpatialIndex!==void 0?n.useSpatialIndex:!0;i.featuresRtree_=s?new Om:null,i.loadedExtentsRtree_=new Om,i.loadingExtentsCount_=0,i.nullGeometryFeatures_={},i.idIndex_={},i.uidIndex_={},i.featureChangeKeys_={},i.featuresCollection_=null;var o,a;return Array.isArray(n.features)?a=n.features:n.features&&(o=n.features,a=o.getArray()),!s&&o===void 0&&(o=new Wy(a)),a!==void 0&&i.addFeaturesInternal(a),o!==void 0&&i.bindFeaturesCollection_(o),i}return t.prototype.addFeature=function(e){this.addFeatureInternal(e),this.changed()},t.prototype.addFeatureInternal=function(e){var i=pe(e);if(!this.addToIndex_(i,e)){this.featuresCollection_&&this.featuresCollection_.remove(e);return}this.setupChangeEvents_(i,e);var n=e.getGeometry();if(n){var s=n.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(s,e)}else this.nullGeometryFeatures_[i]=e;this.dispatchEvent(new li(yt.ADDFEATURE,e))},t.prototype.setupChangeEvents_=function(e,i){this.featureChangeKeys_[e]=[At(i,$e.CHANGE,this.handleFeatureChange_,this),At(i,iy.PROPERTYCHANGE,this.handleFeatureChange_,this)]},t.prototype.addToIndex_=function(e,i){var n=!0,s=i.getId();return s!==void 0&&(s.toString()in this.idIndex_?n=!1:this.idIndex_[s.toString()]=i),n&&(oe(!(e in this.uidIndex_),30),this.uidIndex_[e]=i),n},t.prototype.addFeatures=function(e){this.addFeaturesInternal(e),this.changed()},t.prototype.addFeaturesInternal=function(e){for(var i=[],n=[],s=[],o=0,a=e.length;o<a;o++){var l=e[o],h=pe(l);this.addToIndex_(h,l)&&n.push(l)}for(var o=0,u=n.length;o<u;o++){var l=n[o],h=pe(l);this.setupChangeEvents_(h,l);var c=l.getGeometry();if(c){var d=c.getExtent();i.push(d),s.push(l)}else this.nullGeometryFeatures_[h]=l}if(this.featuresRtree_&&this.featuresRtree_.load(i,s),this.hasListener(yt.ADDFEATURE))for(var o=0,f=n.length;o<f;o++)this.dispatchEvent(new li(yt.ADDFEATURE,n[o]))},t.prototype.bindFeaturesCollection_=function(e){var i=!1;this.addEventListener(yt.ADDFEATURE,function(n){i||(i=!0,e.push(n.feature),i=!1)}),this.addEventListener(yt.REMOVEFEATURE,function(n){i||(i=!0,e.remove(n.feature),i=!1)}),e.addEventListener(Ir.ADD,function(n){i||(i=!0,this.addFeature(n.element),i=!1)}.bind(this)),e.addEventListener(Ir.REMOVE,function(n){i||(i=!0,this.removeFeature(n.element),i=!1)}.bind(this)),this.featuresCollection_=e},t.prototype.clear=function(e){if(e){for(var i in this.featureChangeKeys_){var n=this.featureChangeKeys_[i];n.forEach(ft)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){var s=function(l){this.removeFeatureInternal(l)}.bind(this);this.featuresRtree_.forEach(s);for(var o in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[o])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var a=new li(yt.CLEAR);this.dispatchEvent(a),this.changed()},t.prototype.forEachFeature=function(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);this.featuresCollection_&&this.featuresCollection_.forEach(e)},t.prototype.forEachFeatureAtCoordinateDirect=function(e,i){var n=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(n,function(s){var o=s.getGeometry();if(o.intersectsCoordinate(e))return i(s)})},t.prototype.forEachFeatureInExtent=function(e,i){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,i);this.featuresCollection_&&this.featuresCollection_.forEach(i)},t.prototype.forEachFeatureIntersectingExtent=function(e,i){return this.forEachFeatureInExtent(e,function(n){var s=n.getGeometry();if(s.intersectsExtent(e)){var o=i(n);if(o)return o}})},t.prototype.getFeaturesCollection=function(){return this.featuresCollection_},t.prototype.getFeatures=function(){var e;return this.featuresCollection_?e=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(e=this.featuresRtree_.getAll(),Vn(this.nullGeometryFeatures_)||ry(e,YS(this.nullGeometryFeatures_))),e},t.prototype.getFeaturesAtCoordinate=function(e){var i=[];return this.forEachFeatureAtCoordinateDirect(e,function(n){i.push(n)}),i},t.prototype.getFeaturesInExtent=function(e){return this.featuresRtree_?this.featuresRtree_.getInExtent(e):this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]},t.prototype.getClosestFeatureToCoordinate=function(e,i){var n=e[0],s=e[1],o=null,a=[NaN,NaN],l=1/0,h=[-1/0,-1/0,1/0,1/0],u=i||ik;return this.featuresRtree_.forEachInExtent(h,function(c){if(u(c)){var d=c.getGeometry(),f=l;if(l=d.closestPointXY(n,s,a,l),l<f){o=c;var p=Math.sqrt(l);h[0]=n-p,h[1]=s-p,h[2]=n+p,h[3]=s+p}}}),o},t.prototype.getExtent=function(e){return this.featuresRtree_.getExtent(e)},t.prototype.getFeatureById=function(e){var i=this.idIndex_[e.toString()];return i!==void 0?i:null},t.prototype.getFeatureByUid=function(e){var i=this.uidIndex_[e];return i!==void 0?i:null},t.prototype.getFormat=function(){return this.format_},t.prototype.getOverlaps=function(){return this.overlaps_},t.prototype.getUrl=function(){return this.url_},t.prototype.handleFeatureChange_=function(e){var i=e.target,n=pe(i),s=i.getGeometry();if(!s)n in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(i),this.nullGeometryFeatures_[n]=i);else{var o=s.getExtent();n in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[n],this.featuresRtree_&&this.featuresRtree_.insert(o,i)):this.featuresRtree_&&this.featuresRtree_.update(o,i)}var a=i.getId();if(a!==void 0){var l=a.toString();this.idIndex_[l]!==i&&(this.removeFromIdIndex_(i),this.idIndex_[l]=i)}else this.removeFromIdIndex_(i),this.uidIndex_[n]=i;this.changed(),this.dispatchEvent(new li(yt.CHANGEFEATURE,i))},t.prototype.hasFeature=function(e){var i=e.getId();return i!==void 0?i in this.idIndex_:pe(e)in this.uidIndex_},t.prototype.isEmpty=function(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&Vn(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0},t.prototype.loadFeatures=function(e,i,n){for(var s=this.loadedExtentsRtree_,o=this.strategy_(e,i,n),a=function(c,d){var f=o[c],p=s.forEachInExtent(f,function(_){return fi(_.extent,f)});p||(++l.loadingExtentsCount_,l.dispatchEvent(new li(yt.FEATURESLOADSTART)),l.loader_.call(l,f,i,n,function(_){--this.loadingExtentsCount_,this.dispatchEvent(new li(yt.FEATURESLOADEND,void 0,_))}.bind(l),function(){--this.loadingExtentsCount_,this.dispatchEvent(new li(yt.FEATURESLOADERROR))}.bind(l)),s.insert(f,{extent:f.slice()}))},l=this,h=0,u=o.length;h<u;++h)a(h);this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0},t.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),r.prototype.refresh.call(this)},t.prototype.removeLoadedExtent=function(e){var i=this.loadedExtentsRtree_,n;i.forEachInExtent(e,function(s){if(ll(s.extent,e))return n=s,!0}),n&&i.remove(n)},t.prototype.removeFeature=function(e){if(!!e){var i=pe(e);i in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[i]:this.featuresRtree_&&this.featuresRtree_.remove(e);var n=this.removeFeatureInternal(e);n&&this.changed()}},t.prototype.removeFeatureInternal=function(e){var i=pe(e),n=this.featureChangeKeys_[i];if(!!n){n.forEach(ft),delete this.featureChangeKeys_[i];var s=e.getId();return s!==void 0&&delete this.idIndex_[s.toString()],delete this.uidIndex_[i],this.dispatchEvent(new li(yt.REMOVEFEATURE,e)),e}},t.prototype.removeFromIdIndex_=function(e){var i=!1;for(var n in this.idIndex_)if(this.idIndex_[n]===e){delete this.idIndex_[n],i=!0;break}return i},t.prototype.setLoader=function(e){this.loader_=e},t.prototype.setUrl=function(e){oe(this.format_,7),this.url_=e,this.setLoader(Mm(e,this.format_))},t}(Hc);const nb=z2;/**
 * @license
 * Copyright (C) 2000-2022 Vaadin Ltd
 *
 * This program is available under Vaadin Commercial License and Service Terms.
 *
 *
 * See <https://vaadin.com/commercial-license-and-service-terms> for the full
 * license.
 */function Wc(r,t,e){if(!r)throw new Error("Can not instantiate base class: ol/source/Source");return r.setAttributions(t.attributions),r}function B2(r,t,e){if(!r)throw new Error("Can not instantiate base class: ol/source/Tile");return Wc(r,t),r}function V2(r,t,e){if(!r)throw new Error("Can not instantiate base class: ol/source/UrlTile");return B2(r,t),t.url&&r.setUrl(t.url),r}function sb(r,t,e){if(!r)throw new Error("Can not instantiate base class: ol/source/TileImage");return V2(r,t),r}function G2(r,t,e){return r||(r=new D2(Zt(t))),sb(r,t),r}function ob(r,t,e){return r||(r=new tb(Zt(t))),sb(r,t),r}function H2(r,t,e){return r||(r=new R2(Zt(t))),t.attributions||(t.attributions=ib),ob(r,t),r}function U2(r,t,e){if(!r)throw new Error("Can not instantiate base class: ol/source/Image");return Wc(r,t),r}function W2(r,t,e){return r||(r=new t2(Zt(t))),U2(r,t),t.url&&r.setUrl(t.url),r}function Y2(r,t,e){return r||(r=new nb(Zt({...t,features:new Wy}))),Wc(r,t),Hy(r.getFeaturesCollection(),t.features,e),r}function j2(r,t,e){return r||(r=new Fy),r.setColor(t.color),e.connector.forceRender(),r}function q2(r,t,e){return r||(r=new $y),r.setColor(t.color),r.setWidth(t.width),e.connector.forceRender(),r}function X2(r,t,e){if(!r)throw new Error("Can not instantiate base class: ol/style/Image");return r.setOpacity(t.opacity),r.setRotateWithView(t.rotateWithView),r.setRotation(t.rotation),r.setScale(t.scale),r}function K2(r){return r.toLowerCase().replace(/_/,"-")}function Z2(r,t,e){if(!r){const i=t.img||t.src;r=new By(Zt({...t,img:void 0,src:i,imgSize:t.imgSize?zF(t.imgSize):void 0,anchor:t.anchor?Ya(t.anchor):void 0,anchorOrigin:t.anchorOrigin?K2(t.anchorOrigin):void 0}))}return X2(r,t),e.connector.forceRender(),r}function Q2(r,t,e){return r||(r=new DL),r.setImage(t.image?e.lookup.get(t.image):void 0),r.setFill(t.fill?e.lookup.get(t.fill):void 0),r.setStroke(t.stroke?e.lookup.get(t.stroke):void 0),e.connector.forceRender(),r}/**
 * @license
 * Copyright (C) 2000-2022 Vaadin Ltd
 *
 * This program is available under Vaadin Commercial License and Service Terms.
 *
 *
 * See <https://vaadin.com/commercial-license-and-service-terms> for the full
 * license.
 */function J2(r,t,e){if(!r)throw new Error("Existing map instance must be provided");return Hy(r.getLayers(),t.layers,e),r.setView(e.lookup.get(t.view)),r}function e$(r,t,e){return r||(r=new hD({projection:t.projection})),r.setCenter(t.center?Ya(t.center):[0,0]),r.setRotation(t.rotation||0),r.setZoom(t.zoom||0),r}function t$(r,t,e){return r||(r=new ly(Ya(t.coordinates))),r.setCoordinates(Ya(t.coordinates)),r}function i$(r,t,e){return r||(r=new dk),r.setGeometry(e.lookup.get(t.geometry)),r.setStyle(e.lookup.get(t.style)),r}const r$={"ol/Feature":i$,"ol/Map":J2,"ol/View":e$,"ol/layer/Image":GF,"ol/layer/Tile":BF,"ol/layer/Vector":VF,"ol/source/ImageWMS":W2,"ol/source/OSM":H2,"ol/source/TileWMS":G2,"ol/source/Vector":Y2,"ol/source/XYZ":ob,"ol/geom/Point":t$,"ol/style/Icon":Z2,"ol/style/Fill":j2,"ol/style/Stroke":q2,"ol/style/Style":Q2};function Rm(r,t){const e=r.type;if(!e)throw new Error("Configuration object must have a type");if(!r.id)throw new Error("Configuration object must have an ID");let i=t.lookup.get(r.id);const n=r$[e];if(!n)throw new Error(`Unsupported configuration object type: ${e}`);return i=n(i,r,t),t.lookup.put(r.id,i),i.id=r.id,i.typeName=e,i}class n${constructor(){this.map=new Map}get(t){return this.map.get(t)}put(t,e){this.map.set(t,e)}}class s${constructor(){this.map=new Map,this.registry=new FinalizationRegistry(t=>{this.map.delete(t)})}get(t){const e=this.map.get(t);return e?e.deref():void 0}put(t,e){if(this.map.has(t))return;const i=new WeakRef(e);this.map.set(t,i),this.registry.register(e,t)}}const o$=window.WeakRef&&window.FinalizationRegistry;function a$(){return o$?new s$:new n$}function l$(r,t){return r.find(e=>{const i=e.getSource&&e.getSource();return i&&i instanceof nb&&i.getFeatures().includes(t)})}Rg("EPSG:4326");(function(){function r(i){i.$connector={lookup:a$(),synchronize(n){const s={synchronize:Rm,lookup:this.lookup,mapElement:i,connector:i.$connector};n.forEach(o=>{o.type==="ol/Map"&&this.lookup.put(o.id,i.configuration),Rm(o,s)})},forceRender(){this._forceRenderTimeout||(this._forceRenderTimeout=setTimeout(()=>{this._forceRenderTimeout=null,i.configuration.getLayers().getArray().forEach(n=>n.changed())}))}},i.configuration.on("moveend",n=>{const s=i.configuration.getView(),o=s.getCenter(),a=s.getRotation(),l=s.getZoom(),h=s.calculateExtent(),u=new CustomEvent("map-view-moveend",{detail:{center:o,rotation:a,zoom:l,extent:h}});i.dispatchEvent(u)}),i.configuration.on("singleclick",n=>{const s=n.coordinate,o=n.pixel,l=i.configuration.getFeaturesAtPixel(o).map(u=>{const c=l$(i.configuration.getLayers().getArray(),u);return{feature:u,layer:c}}),h=new CustomEvent("map-click",{detail:{coordinate:s,features:l,originalEvent:n.originalEvent}});if(i.dispatchEvent(h),l.length>0){const u=l[0],c=new CustomEvent("map-feature-click",{detail:{feature:u.feature,layer:u.layer,originalEvent:n.originalEvent}});i.dispatchEvent(c)}})}function t(i){Rg(i)}function e(i,n){it.defs(i,n),gT(it)}window.Vaadin.Flow.mapConnector={init:r,setUserProjection:t,defineProjection:e}})();const h$={"\\u0660":"0","\\u0661":"1","\\u0662":"2","\\u0663":"3","\\u0664":"4","\\u0665":"5","\\u0666":"6","\\u0667":"7","\\u0668":"8","\\u0669":"9"};function u$(r){return r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ab(r){return r.replace(/[\u0660-\u0669]/g,function(t){const e="\\u0"+t.charCodeAt(0).toString(16);return h$[e]})}function lb(r,t){const e=t.toLocaleTimeString(r),i=/[^\d\u0660-\u0669]/,n=e.match(new RegExp(`${i.source}+$`,"g"))||e.match(new RegExp(`^${i.source}+`,"g"));return n&&n[0].trim()}function c$(r){let t=Yc.toLocaleTimeString(r);const e=hb(r);e&&t.startsWith(e)&&(t=t.replace(e,""));const i=t.match(/[^\u0660-\u0669\s\d]/);return i&&i[0]}function Pm(r,t){if(!t)return null;const e=t.split(/\s*/).map(u$).join("\\s*"),i=new RegExp(e,"i"),n=r.match(i);if(n)return n[0]}const Yc=new Date("August 19, 1975 23:15:30"),d$=new Date("August 19, 1975 05:15:30");function hb(r){return lb(r,Yc)}function f$(r){return lb(r,d$)}function Zl(r){return parseInt(ab(r))}function p$(r){return r=ab(r),r.length===1?r+="00":r.length===2&&(r+="0"),parseInt(r)}function _$(r,t,e,i){let n=r;if(r.endsWith(e)?n=r.replace(" "+e,""):r.endsWith(i)&&(n=r.replace(" "+i,"")),t){let s=t<10?"0":"";s+=t<100?"0":"",s+=t,n+="."+s}else n+=".000";return r.endsWith(e)?n=n+" "+e:r.endsWith(i)&&(n=n+" "+i),n}(function(){const r=function(e){return window.Vaadin.Flow.tryCatchWrapper(e,"Vaadin Time Picker")};function t(e,i,n=0){e()?i():setTimeout(()=>t(e,i,200),n)}window.Vaadin.Flow.timepickerConnector={initLazy:e=>r(function(i){i.$connector||(i.$connector={},i.$connector.setLocale=r(function(n){let s;i.value&&i.value!==""&&(s=i.i18n.parseTime(i.value));try{Yc.toLocaleTimeString(n)}catch{throw n="en-US",new Error("vaadin-time-picker: The locale "+n+" is not supported, falling back to default locale setting(en-US).")}const o=hb(n),a=f$(n),l=c$(n),h=function(){return i.step&&i.step<60},u=function(){return i.step&&i.step<1};let c,d;i.i18n={formatTime:r(function(f){if(!f)return;const p=new Date;p.setHours(f.hours),p.setMinutes(f.minutes),p.setSeconds(f.seconds!==void 0?f.seconds:0);let _=p.toLocaleTimeString(n,{hour:"numeric",minute:"numeric",second:h()?"numeric":void 0});return u()&&(_=_$(_,f.milliseconds,a,o)),_}),parseTime:r(function(f){if(f&&f===c&&d)return d;if(!f)return;const p=Pm(f,a),_=Pm(f,o),m=f.replace(p||"","").replace(_||"","").trim(),g=new RegExp("([\\d\\u0660-\\u0669]){1,2}(?:"+l+")?","g");let y=g.exec(m);if(y){y=Zl(y[0].replace(l,"")),p!==_&&(y===12&&p&&(y=0),y!==12&&_&&(y+=12));const b=g.exec(m),C=b&&g.exec(m),E=/[[\.][\d\u0660-\u0669]{1,3}$/;let I=C&&u()&&E.exec(m);return I&&I.index<=C.index&&(I=void 0),d=y!==void 0&&{hours:y,minutes:b?Zl(b[0].replace(l,"")):0,seconds:C?Zl(C[0].replace(l,"")):0,milliseconds:b&&C&&I?p$(I[0].replace(".","")):0},c=f,d}})},s&&t(()=>i.$,()=>{const f=i.i18n.formatTime(s);i.inputElement.value!==f&&(i.inputElement.value=f,i.$.comboBox.value=f)})}))})(e)}})();window.Vaadin.Flow.virtualListConnector={initLazy:function(r){if(r.$connector)return;const t=20;let e=[0,0];r.$connector={},r.$connector.placeholderItem={__placeholder:!0};const i=function(){const s=[...r.children].filter(u=>"__virtualListIndex"in u).map(u=>u.__virtualListIndex),o=Math.min(...s),a=Math.max(...s);let l=Math.max(0,o-t),h=Math.min(a+t,r.items.length);if(e[0]!=l||e[1]!=h){e=[l,h];const u=1+h-l;r.$server.setRequestedRange(l,u)}},n=function(){r.__requestDebounce=Pt.debounce(r.__requestDebounce,kt.after(50),i)};requestAnimationFrame(()=>i),r.patchVirtualListRenderer=function(){if(!r.renderer||r.renderer.__virtualListConnectorPatched)return;const s=r.renderer,o=(a,l,h)=>{a.__virtualListIndex=h.index,h.item===void 0?s.call(l,a,l,{...h,item:l.$connector.placeholderItem}):s.call(l,a,l,h),n()};o.__virtualListConnectorPatched=!0,o.__rendererId=s.__rendererId,r.renderer=o},r._createPropertyObserver("renderer","patchVirtualListRenderer",!0),r.patchVirtualListRenderer(),r.items=[],r.$connector.set=function(s,o){r.items.splice(s,o.length,...o),r.items=[...r.items]},r.$connector.clear=function(s,o){const a=Math.min(o,r.items.length-s);r.$connector.set(s,[...Array(a)])},r.$connector.updateData=function(s){const o=s.reduce((a,l)=>(a[l.key]=l,a),{});r.items=r.items.map(a=>a&&(o[a.key]||a))},r.$connector.updateSize=function(s){const o=s-r.items.length;o>0?r.items=[...r.items,...Array(o)]:o<0&&(r.items=r.items.slice(0,s))},r.$connector.setPlaceholderItem=function(s={}){s.__placeholder=!0,r.$connector.placeholderItem=s}}};const Q$=function(r,t=!1){const e=document.createElement("template");e.innerHTML=r,document.head[t?"insertBefore":"appendChild"](e.content,document.head.firstChild)};export{Q$ as addCssBlock};
